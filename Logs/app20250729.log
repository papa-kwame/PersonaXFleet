2025-07-29 08:53:32.379 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 08:53:33.926 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 08:53:33.976 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:33.977 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:53:35.619 +00:00 [INF] Executed DbCommand (93ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:53:35.727 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:53:35.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:53:36.239 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-29 08:53:36.239 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-29 08:53:36.392 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-29 08:53:36.392 +00:00 [INF] Hosting environment: Development
2025-07-29 08:53:36.392 +00:00 [INF] Content root path: C:\Users\pc\source\repos\papa-kwame\PersonaXFleet
2025-07-29 08:53:37.996 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-29 08:53:38.462 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-29 08:53:38.466 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 492.2079ms
2025-07-29 08:53:38.480 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 17.8943ms
2025-07-29 08:53:38.515 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-29 08:53:38.722 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 207.0244ms
2025-07-29 08:53:39.089 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-29 08:53:39.220 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 131.7714ms
2025-07-29 08:54:09.094 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 08:54:10.074 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 08:54:10.141 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.142 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:10.143 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 08:54:11.298 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:54:11.387 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:54:11.389 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 08:54:11.754 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-29 08:54:11.754 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-29 08:54:11.926 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-29 08:54:11.927 +00:00 [INF] Hosting environment: Development
2025-07-29 08:54:11.927 +00:00 [INF] Content root path: C:\Users\pc\source\repos\papa-kwame\PersonaXFleet
2025-07-29 08:54:12.769 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-29 08:54:13.208 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 465.7678ms
2025-07-29 08:54:13.215 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-29 08:54:13.229 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 13.815ms
2025-07-29 08:54:13.242 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-29 08:54:13.328 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 86.4941ms
2025-07-29 08:54:13.604 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-29 08:54:13.742 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 138.1577ms
2025-07-29 08:54:30.132 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 08:54:30.132 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 08:54:30.149 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.149 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.155 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 23.2628ms
2025-07-29 08:54:30.155 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 23.2641ms
2025-07-29 08:54:30.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 08:54:30.172 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.203 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 08:54:30.238 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 08:54:30.256 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:30.267 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 08:54:30.268 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.270 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 08:54:30.271 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 24.4902ms
2025-07-29 08:54:30.271 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 08:54:30.271 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 08:54:30.273 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 112.1542ms
2025-07-29 08:54:30.285 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:30.285 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 14.4265ms
2025-07-29 08:54:30.286 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 08:54:30.286 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 18.9726ms
2025-07-29 08:54:30.609 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 08:54:30.613 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 08:54:30.610 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 08:54:30.614 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.615 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 4.393ms
2025-07-29 08:54:30.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.618 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.618 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 5.4904ms
2025-07-29 08:54:30.617 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 10.1229ms
2025-07-29 08:54:30.621 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 08:54:30.621 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 08:54:30.621 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.622 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.276ms
2025-07-29 08:54:30.622 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:54:30.626 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 08:54:30.628 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:54:30.642 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.642 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.647 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 20.5606ms
2025-07-29 08:54:30.647 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.642 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.647 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 21.2179ms
2025-07-29 08:54:30.656 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 35.186ms
2025-07-29 08:54:30.656 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 27.7437ms
2025-07-29 08:54:30.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:30.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 08:54:30.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 08:54:30.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:54:30.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 08:54:30.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:30.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:54:30.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:54:30.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:54:30.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 08:54:30.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:54:30.706 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 08:54:30.707 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:30.707 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:30.707 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:30.718 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:54:30.859 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 08:54:31.085 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 418.1878ms
2025-07-29 08:54:31.126 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:54:31.128 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 08:54:31.128 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.129 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:54:31.129 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 08:54:31.156 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 478.6612ms
2025-07-29 08:54:31.159 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 08:54:31.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.163 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 34.1951ms
2025-07-29 08:54:31.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:54:31.164 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 36.0064ms
2025-07-29 08:54:31.208 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:54:31.219 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.222 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 503.3297ms
2025-07-29 08:54:31.222 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:54:31.222 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 545.2049ms
2025-07-29 08:54:31.226 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:31.226 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.227 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:54:31.227 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:54:31.234 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:54:31.237 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.237 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.2148ms
2025-07-29 08:54:31.237 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:54:31.238 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.1184ms
2025-07-29 08:54:31.342 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 08:54:31.345 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.357 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 08:54:31.360 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.379 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 671.8844ms
2025-07-29 08:54:31.379 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:54:31.379 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 701.9289ms
2025-07-29 08:54:31.379 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 08:54:31.380 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.381 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 673.9203ms
2025-07-29 08:54:31.381 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.382 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 704.5168ms
2025-07-29 08:54:31.386 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:54:31.387 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 08:54:31.388 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:54:31.388 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.388 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.388 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.388 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.401 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 08:54:31.401 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 08:54:31.403 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.403 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 14.98ms
2025-07-29 08:54:31.403 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 15.3632ms
2025-07-29 08:54:31.403 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.404 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:54:31.404 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 16.6267ms
2025-07-29 08:54:31.404 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 18.6121ms
2025-07-29 08:54:31.410 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 703.2063ms
2025-07-29 08:54:31.410 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 08:54:31.410 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 731.9597ms
2025-07-29 08:54:31.416 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 08:54:31.417 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.417 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 08:54:31.417 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.424 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 08:54:31.426 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.427 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 9.1165ms
2025-07-29 08:54:31.427 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 08:54:31.427 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 11.0732ms
2025-07-29 08:54:31.525 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:31.525 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 08:54:31.526 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.527 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.527 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 2.6179ms
2025-07-29 08:54:31.527 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.9142ms
2025-07-29 08:54:31.529 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:31.529 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 08:54:31.536 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.538 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 8.6202ms
2025-07-29 08:54:31.538 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 08:54:31.538 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 08:54:31.539 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.539 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.539 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.539 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 08:54:31.540 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 08:54:31.541 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 11.6549ms
2025-07-29 08:54:31.544 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 08:54:31.544 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 08:54:31.544 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 08:54:31.545 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.545 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.545 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 08:54:31.545 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.546 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.546 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 08:54:31.548 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.550 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.552 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.554 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.556 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.557 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:31.577 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.577 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 08:54:31.589 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.657 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 08:54:31.661 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 08:54:31.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 131.6349ms
2025-07-29 08:54:31.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 08:54:31.689 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 144.8813ms
2025-07-29 08:54:31.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 142.2061ms
2025-07-29 08:54:31.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 08:54:31.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 152.7569ms
2025-07-29 08:54:31.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 08:54:31.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 08:54:31.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 08:54:31.699 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.700 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 08:54:31.700 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.702 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 08:54:31.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.720 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 08:54:31.724 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 08:54:31.737 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.741 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 40.8191ms
2025-07-29 08:54:31.741 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 08:54:31.742 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 43.0132ms
2025-07-29 08:54:31.747 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 08:54:31.753 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 199.7199ms
2025-07-29 08:54:31.754 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 08:54:31.754 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 210.2077ms
2025-07-29 08:54:31.755 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.755 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.756 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 08:54:31.762 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 08:54:31.765 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.766 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 08:54:31.766 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.767 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 213.8176ms
2025-07-29 08:54:31.767 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.767 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 222.9386ms
2025-07-29 08:54:31.770 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 219.794ms
2025-07-29 08:54:31.770 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 08:54:31.771 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 232.6123ms
2025-07-29 08:54:31.780 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 08:54:31.781 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.782 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.783 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:31.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 08:54:31.811 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 08:54:31.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.817 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:31.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 08:54:31.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 51.1642ms
2025-07-29 08:54:31.818 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 08:54:31.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 08:54:31.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 56.5407ms
2025-07-29 08:54:31.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.818 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:54:31.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 119.1258ms
2025-07-29 08:54:31.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 08:54:31.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 123.1958ms
2025-07-29 08:54:31.820 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 08:54:31.821 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.822 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 39.4762ms
2025-07-29 08:54:31.822 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 08:54:31.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 42.7233ms
2025-07-29 08:54:31.829 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 08:54:31.831 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:54:31.832 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 13.5763ms
2025-07-29 08:54:31.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 08:54:31.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 23.4733ms
2025-07-29 08:54:31.991 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 08:54:31.994 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:31.994 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 404.4639ms
2025-07-29 08:54:31.994 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 08:54:31.995 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 438.4947ms
2025-07-29 08:54:32.001 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:54:32.002 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:54:32.002 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 08:54:32.002 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:54:32.010 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 08:54:32.016 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 08:54:32.017 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:54:32.017 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 14.8013ms
2025-07-29 08:54:32.017 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 08:54:32.018 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.7287ms
2025-07-29 08:55:00.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:00.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:00.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:00.622 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:00.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:00.627 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:00.627 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:55:00.627 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:55:00.627 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:55:00.627 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:55:00.641 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:55:00.645 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:55:00.646 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:55:00.646 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:55:00.646 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.3143ms
2025-07-29 08:55:00.646 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:55:00.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.2921ms
2025-07-29 08:55:00.663 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:55:00.664 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:00.673 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.9753ms
2025-07-29 08:55:00.673 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:55:00.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.9814ms
2025-07-29 08:55:00.706 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:55:00.706 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:00.707 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.9234ms
2025-07-29 08:55:00.707 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:55:00.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 87.9258ms
2025-07-29 08:55:01.475 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:55:01.476 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 08:55:01.477 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:55:01.477 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.477 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.475 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 08:55:01.477 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.478 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.477 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 08:55:01.476 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 08:55:01.479 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.4687ms
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 2.6517ms
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.6759ms
2025-07-29 08:55:01.479 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 08:55:01.479 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 3.6579ms
2025-07-29 08:55:01.479 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 3.7444ms
2025-07-29 08:55:01.479 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 3.2879ms
2025-07-29 08:55:01.479 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.3701ms
2025-07-29 08:55:01.479 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.3947ms
2025-07-29 08:55:01.487 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 08:55:01.487 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 08:55:01.487 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 08:55:01.487 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:55:01.487 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.487 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.487 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.487 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.487 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:55:01.487 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:55:01.487 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 08:55:01.487 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 08:55:01.491 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:55:01.491 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:55:01.492 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:55:01.505 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 08:55:01.506 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 08:55:01.510 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 08:55:01.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.511 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 19.3135ms
2025-07-29 08:55:01.511 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.511 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:55:01.511 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 08:55:01.511 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 19.6651ms
2025-07-29 08:55:01.511 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 24.9113ms
2025-07-29 08:55:01.517 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:55:01.519 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 31.5934ms
2025-07-29 08:55:01.519 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 32.3266ms
2025-07-29 08:55:01.519 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:55:01.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 08:55:01.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 08:55:01.519 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 32.646ms
2025-07-29 08:55:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.525 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:55:01.525 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 08:55:01.525 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:55:01.525 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:55:01.525 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.525 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 08:55:01.525 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:55:01.525 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 08:55:01.531 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 08:55:01.538 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 08:55:01.540 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 08:55:01.540 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.540 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.540 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.540 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.7734ms
2025-07-29 08:55:01.540 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 08:55:01.540 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 15.0776ms
2025-07-29 08:55:01.540 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 15.2102ms
2025-07-29 08:55:01.540 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 08:55:01.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 15.8401ms
2025-07-29 08:55:01.541 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 08:55:01.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 22.0729ms
2025-07-29 08:55:01.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 22.0444ms
2025-07-29 08:55:01.555 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 08:55:01.578 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.583 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.585 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.588 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.591 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.597 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.600 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.603 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.608 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.611 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.617 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.620 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.623 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.625 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.627 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.629 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.635 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.638 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.641 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.644 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.646 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.648 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.652 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.654 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.656 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.660 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.661 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.667 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.670 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.673 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.677 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.686 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.688 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.697 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.718 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.720 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.722 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.734 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.737 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.738 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.740 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.742 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.750 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.752 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.754 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.758 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.758 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:01.765 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 253.2479ms
2025-07-29 08:55:01.765 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 08:55:01.766 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 278.9441ms
2025-07-29 08:55:01.768 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 08:55:01.768 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:01.768 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 08:55:01.768 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 08:55:01.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 08:55:01.778 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.782 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.785 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.794 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.796 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.801 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.804 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.807 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.810 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.815 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.818 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.821 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.823 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.825 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.828 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.833 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.836 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.838 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.840 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.842 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.844 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.847 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.850 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.852 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.855 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.857 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.859 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.861 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.864 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.868 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.870 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.875 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.876 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.878 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.880 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.883 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.885 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.889 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.892 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.895 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.897 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.901 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.903 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.905 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.907 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.909 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.912 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.915 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.918 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.920 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.927 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.931 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.934 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.936 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.952 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.979 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.981 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.984 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.985 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.986 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.988 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.989 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.990 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.992 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:01.995 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.000 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.002 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.012 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.016 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.019 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.021 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.024 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.026 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.032 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.034 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.035 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.037 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.038 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.040 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.042 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 08:55:02.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:02.048 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 279.5651ms
2025-07-29 08:55:02.048 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 08:55:02.048 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 280.8579ms
2025-07-29 08:55:30.623 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:30.623 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:30.623 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:55:30.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:30.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:30.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:55:30.624 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:55:30.624 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:55:30.624 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:55:30.624 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:55:30.624 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:55:30.624 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:55:30.633 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:55:30.640 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:55:30.640 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:55:30.641 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:30.641 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.4071ms
2025-07-29 08:55:30.641 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:55:30.641 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.5941ms
2025-07-29 08:55:30.641 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:55:30.641 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.1007ms
2025-07-29 08:55:30.641 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.0196ms
2025-07-29 08:55:30.661 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:55:30.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:55:30.661 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.6773ms
2025-07-29 08:55:30.661 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:55:30.661 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.1479ms
2025-07-29 08:56:00.627 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:00.627 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:00.627 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:00.628 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:00.628 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:00.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:56:00.628 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:00.628 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:56:00.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:56:00.628 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:56:00.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:56:00.628 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:56:00.631 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:56:00.636 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:56:00.637 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:56:00.637 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.1287ms
2025-07-29 08:56:00.637 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:56:00.638 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:56:00.638 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.3533ms
2025-07-29 08:56:00.639 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 10.5095ms
2025-07-29 08:56:00.639 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:56:00.640 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.9115ms
2025-07-29 08:56:00.640 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:56:00.646 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:56:00.646 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.3526ms
2025-07-29 08:56:00.646 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:56:00.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.8837ms
2025-07-29 08:56:30.634 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:30.634 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:30.635 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:30.635 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:56:30.635 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:56:30.636 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:56:30.636 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:30.636 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:56:30.636 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:56:30.637 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:56:30.637 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:56:30.637 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:56:30.657 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:56:30.661 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:56:30.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.3782ms
2025-07-29 08:56:30.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:56:30.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.144ms
2025-07-29 08:56:30.671 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:56:30.672 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:56:30.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 36.5699ms
2025-07-29 08:56:30.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:56:30.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.4839ms
2025-07-29 08:56:30.692 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:56:30.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:56:30.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.5657ms
2025-07-29 08:56:30.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:56:30.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.5876ms
2025-07-29 08:57:00.630 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:00.630 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:00.631 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:00.631 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:57:00.631 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:57:00.631 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:00.632 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:57:00.632 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:57:00.632 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:00.633 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:00.634 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:57:00.634 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:57:00.652 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:57:00.655 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:57:00.655 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:57:00.655 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.6346ms
2025-07-29 08:57:00.656 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:57:00.656 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:57:00.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.7248ms
2025-07-29 08:57:00.656 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.3442ms
2025-07-29 08:57:00.657 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:57:00.661 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.092ms
2025-07-29 08:57:00.666 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:57:00.668 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:57:00.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.961ms
2025-07-29 08:57:00.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:57:00.668 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.9155ms
2025-07-29 08:57:30.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:30.626 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:30.626 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:57:30.629 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:30.629 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:30.629 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:57:30.629 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:57:30.630 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:57:30.630 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:57:30.630 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:57:30.631 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:57:30.631 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:57:30.658 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:57:30.659 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:57:30.659 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:57:30.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.0674ms
2025-07-29 08:57:30.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:57:30.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:57:30.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.3063ms
2025-07-29 08:57:30.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:57:30.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.0054ms
2025-07-29 08:57:30.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3823ms
2025-07-29 08:57:30.698 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:57:30.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:57:30.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.8463ms
2025-07-29 08:57:30.698 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:57:30.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.9131ms
2025-07-29 08:58:00.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:00.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:00.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:00.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:00.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:00.624 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:58:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:58:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:58:00.625 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:58:00.625 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:58:00.625 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:58:00.632 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:58:00.633 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:58:00.633 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:58:00.633 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.2834ms
2025-07-29 08:58:00.633 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:58:00.635 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:58:00.635 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.3984ms
2025-07-29 08:58:00.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.4711ms
2025-07-29 08:58:00.635 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:58:00.635 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.6702ms
2025-07-29 08:58:00.644 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:58:00.652 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:58:00.653 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.2649ms
2025-07-29 08:58:00.653 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:58:00.653 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3435ms
2025-07-29 08:58:30.616 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:30.616 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:30.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:58:30.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:58:30.617 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:58:30.617 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:58:30.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:58:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:58:30.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:58:30.617 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:58:30.657 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:58:30.660 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:58:30.660 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:58:30.661 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.6059ms
2025-07-29 08:58:30.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:58:30.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:58:30.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.4575ms
2025-07-29 08:58:30.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.0676ms
2025-07-29 08:58:30.667 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:58:30.668 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 51.7042ms
2025-07-29 08:58:30.693 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:58:30.693 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:58:30.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 75.7095ms
2025-07-29 08:58:30.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:58:30.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 76.1229ms
2025-07-29 08:59:00.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:00.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:00.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:00.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:00.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:59:00.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:59:00.619 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:59:00.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:00.619 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:59:00.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:00.620 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:59:00.620 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:59:00.633 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:59:00.635 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:59:00.636 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.2156ms
2025-07-29 08:59:00.636 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:59:00.636 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:59:00.637 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.1889ms
2025-07-29 08:59:00.637 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:59:00.638 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2472ms
2025-07-29 08:59:00.638 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:59:00.638 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.4047ms
2025-07-29 08:59:00.665 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:59:00.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:59:00.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.0131ms
2025-07-29 08:59:00.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:59:00.666 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.4684ms
2025-07-29 08:59:30.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:30.627 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:30.627 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:30.628 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:30.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:59:30.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:59:30.628 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:59:30.628 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 08:59:30.628 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 08:59:30.628 +00:00 [INF] CORS policy execution successful.
2025-07-29 08:59:30.629 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:59:30.629 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 08:59:30.641 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 08:59:30.641 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 08:59:30.652 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 08:59:30.654 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.6678ms
2025-07-29 08:59:30.655 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 08:59:30.654 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 08:59:30.656 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7806ms
2025-07-29 08:59:30.657 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:59:30.657 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 08:59:30.658 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.0183ms
2025-07-29 08:59:30.659 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 08:59:30.659 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.8332ms
2025-07-29 08:59:30.659 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 08:59:30.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.6028ms
2025-07-29 08:59:30.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.0618ms
2025-07-29 09:00:00.615 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:00.615 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:00.615 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:00.616 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:00:00.616 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:00:00.616 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:00:00.616 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:00:00.616 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:00:00.616 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:00:00.624 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:00:00.624 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:00:00.624 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:00:00.624 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:00:00.624 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.4392ms
2025-07-29 09:00:00.624 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.446ms
2025-07-29 09:00:00.624 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:00:00.624 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:00:00.626 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.7989ms
2025-07-29 09:00:00.626 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.1681ms
2025-07-29 09:00:00.661 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:00:00.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:00:00.661 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.6018ms
2025-07-29 09:00:00.661 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:00:00.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.0292ms
2025-07-29 09:00:30.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:30.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:30.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:30.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:30.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:00:30.619 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:00:30.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:00:30.619 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:00:30.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:00:30.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:00:30.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:00:30.619 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:00:30.629 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:00:30.634 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:00:30.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.3129ms
2025-07-29 09:00:30.635 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:00:30.636 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:00:30.637 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1362ms
2025-07-29 09:00:30.637 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:00:30.637 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.0186ms
2025-07-29 09:00:30.637 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:00:30.637 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.3744ms
2025-07-29 09:00:30.641 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:00:30.646 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:00:30.647 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.3878ms
2025-07-29 09:00:30.648 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:00:30.648 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.9229ms
2025-07-29 09:01:00.629 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:00.629 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:00.629 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:00.629 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:00.630 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:00.630 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:00.630 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:01:00.630 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:01:00.630 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:01:00.630 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:01:00.630 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:01:00.630 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:01:00.634 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:01:00.636 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:01:00.636 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:01:00.636 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.2202ms
2025-07-29 09:01:00.637 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:01:00.638 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.782ms
2025-07-29 09:01:00.638 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:01:00.650 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.2999ms
2025-07-29 09:01:00.650 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:01:00.651 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.1029ms
2025-07-29 09:01:00.668 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:01:00.668 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:01:00.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.3213ms
2025-07-29 09:01:00.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:01:00.668 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 39.2738ms
2025-07-29 09:01:30.616 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:30.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:30.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:01:30.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:01:30.617 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:01:30.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:01:30.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:01:30.618 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:01:30.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:01:30.619 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:01:30.630 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:01:30.634 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:01:30.638 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:01:30.638 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:01:30.638 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.4072ms
2025-07-29 09:01:30.638 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.4484ms
2025-07-29 09:01:30.638 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:01:30.638 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:01:30.638 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:01:30.643 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.4872ms
2025-07-29 09:01:30.649 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:01:30.649 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.968ms
2025-07-29 09:01:30.649 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.5914ms
2025-07-29 09:01:30.650 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:01:30.650 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.4894ms
2025-07-29 09:02:00.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:00.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:00.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:00.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:02:00.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:02:00.625 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:02:00.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:00.625 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:02:00.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:02:00.626 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:02:00.637 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:02:00.641 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:02:00.641 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9769ms
2025-07-29 09:02:00.641 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:02:00.641 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:02:00.642 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.6025ms
2025-07-29 09:02:00.642 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:02:00.642 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.6723ms
2025-07-29 09:02:00.642 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:02:00.644 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2712ms
2025-07-29 09:02:00.673 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:02:00.673 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:02:00.673 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.9268ms
2025-07-29 09:02:00.673 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:02:00.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.1178ms
2025-07-29 09:02:30.617 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:30.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:30.618 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:30.618 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:30.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:02:30.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:02:30.618 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:02:30.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:02:30.618 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:02:30.618 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:02:30.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:02:30.618 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:02:30.632 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:02:30.633 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:02:30.634 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:02:30.634 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:02:30.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.5321ms
2025-07-29 09:02:30.635 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.4325ms
2025-07-29 09:02:30.636 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:02:30.635 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:02:30.636 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.0164ms
2025-07-29 09:02:30.636 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.1591ms
2025-07-29 09:02:30.640 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:02:30.646 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:02:30.648 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.858ms
2025-07-29 09:02:30.648 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:02:30.657 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.1514ms
2025-07-29 09:03:00.614 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:00.614 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:00.614 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:00.615 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:00.615 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:03:00.615 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:03:00.615 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:03:00.615 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:03:00.615 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:03:00.615 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:03:00.618 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:03:00.621 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:03:00.622 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.5804ms
2025-07-29 09:03:00.623 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:03:00.623 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:03:00.623 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.3982ms
2025-07-29 09:03:00.623 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:03:00.623 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.0664ms
2025-07-29 09:03:00.623 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:03:00.625 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.3287ms
2025-07-29 09:03:00.669 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:03:00.669 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:03:00.669 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.0353ms
2025-07-29 09:03:00.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:03:00.669 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.0474ms
2025-07-29 09:03:30.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:30.624 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:30.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:30.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:30.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:03:30.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:03:30.625 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:03:30.625 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:03:30.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:03:30.625 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:03:30.625 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:03:30.625 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:03:30.640 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:03:30.643 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:03:30.644 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.1976ms
2025-07-29 09:03:30.645 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:03:30.646 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.5038ms
2025-07-29 09:03:30.646 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:03:30.652 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:03:30.652 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.009ms
2025-07-29 09:03:30.653 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:03:30.653 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.8305ms
2025-07-29 09:03:30.656 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:03:30.658 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:03:30.659 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.078ms
2025-07-29 09:03:30.659 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:03:30.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.143ms
2025-07-29 09:04:48.143 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 09:04:51.392 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 09:04:51.516 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.518 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.519 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.520 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.520 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.521 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.521 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.521 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.521 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:51.521 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:04:54.203 +00:00 [INF] Executed DbCommand (96ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:04:54.346 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:04:54.348 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:04:54.755 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-29 09:04:54.755 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-29 09:04:54.958 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-29 09:04:54.959 +00:00 [INF] Hosting environment: Development
2025-07-29 09:04:54.959 +00:00 [INF] Content root path: C:\Users\pc\PersonaX\PersonaXFleet
2025-07-29 09:04:55.019 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:04:55.019 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:04:55.166 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:04:55.167 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:04:55.176 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 170.6851ms
2025-07-29 09:04:55.176 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 170.8369ms
2025-07-29 09:04:55.192 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:04:55.192 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:04:55.206 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:04:55.206 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:04:55.226 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:04:55.226 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:04:55.271 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:04:55.271 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:04:55.710 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-29 09:04:56.059 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:04:56.090 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:04:56.101 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:04:56.103 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:04:56.126 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 846.333ms
2025-07-29 09:04:56.127 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:04:56.142 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 949.8606ms
2025-07-29 09:04:56.148 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 876.2179ms
2025-07-29 09:04:56.149 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:04:56.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 958.0365ms
2025-07-29 09:04:56.239 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 528.8164ms
2025-07-29 09:04:56.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-29 09:04:56.270 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 11.8774ms
2025-07-29 09:04:56.279 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-29 09:04:56.433 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 154.2817ms
2025-07-29 09:04:56.532 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-29 09:04:56.655 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 123.2308ms
2025-07-29 09:05:01.280 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:05:01.281 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:05:01.283 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.283 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.284 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 4.3675ms
2025-07-29 09:05:01.284 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 3.2849ms
2025-07-29 09:05:01.289 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:05:01.295 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.301 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:05:01.315 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:05:01.349 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:01.355 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 39.3312ms
2025-07-29 09:05:01.355 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:05:01.355 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 66.9736ms
2025-07-29 09:05:01.363 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:05:01.364 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.365 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:05:01.366 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:05:01.370 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:01.371 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 4.7634ms
2025-07-29 09:05:01.371 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:05:01.371 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 7.9861ms
2025-07-29 09:05:01.516 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:05:01.516 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:05:01.516 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.516 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 0.8711ms
2025-07-29 09:05:01.517 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:01.517 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.518 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.8047ms
2025-07-29 09:05:01.518 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.518 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:05:01.518 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 2.2634ms
2025-07-29 09:05:01.518 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.519 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:05:01.519 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.4753ms
2025-07-29 09:05:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.520 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 1.3669ms
2025-07-29 09:05:01.520 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:05:01.520 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:01.521 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:05:01.521 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.521 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.522 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 0.998ms
2025-07-29 09:05:01.521 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.522 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 1.1395ms
2025-07-29 09:05:01.522 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.4842ms
2025-07-29 09:05:01.527 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:01.530 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.530 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:01.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:01.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:05:01.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:05:01.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:05:01.535 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.535 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.535 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.535 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.535 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:05:01.535 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:01.535 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:01.535 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:01.535 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:01.535 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:01.541 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:01.542 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:05:01.552 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:05:01.653 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:05:01.660 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 126.3266ms
2025-07-29 09:05:01.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:01.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 129.6031ms
2025-07-29 09:05:01.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:01.672 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:01.672 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:01.683 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:05:01.689 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 155.7193ms
2025-07-29 09:05:01.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:05:01.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 159.2875ms
2025-07-29 09:05:01.697 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:05:01.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:05:01.704 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.705 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:05:01.706 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:01.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:05:01.735 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 58.7392ms
2025-07-29 09:05:01.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:01.736 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 69.0797ms
2025-07-29 09:05:01.745 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:05:01.745 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.746 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 39.3756ms
2025-07-29 09:05:01.746 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:05:01.746 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 47.2565ms
2025-07-29 09:05:01.754 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:05:01.757 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.785 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 243.9063ms
2025-07-29 09:05:01.786 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:01.786 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 252.2083ms
2025-07-29 09:05:01.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:05:01.791 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.791 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:01.792 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:01.798 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:05:01.802 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.802 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 10.2334ms
2025-07-29 09:05:01.802 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:01.802 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 13.8775ms
2025-07-29 09:05:01.824 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:05:01.834 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:01.837 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 284.8136ms
2025-07-29 09:05:01.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:01.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 310.8083ms
2025-07-29 09:05:01.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:01.846 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:01.847 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:05:01.861 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:05:01.862 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:01.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1913ms
2025-07-29 09:05:01.864 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:01.864 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.5696ms
2025-07-29 09:05:01.899 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 370.5224ms
2025-07-29 09:05:01.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:01.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 379.5861ms
2025-07-29 09:05:01.917 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:05:01.917 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:01.917 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:01.918 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:05:01.926 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:05:01.929 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:01.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.2326ms
2025-07-29 09:05:01.930 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:01.930 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 14.0321ms
2025-07-29 09:05:02.015 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:02.015 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:05:02.016 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.016 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.105ms
2025-07-29 09:05:02.017 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.019 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:05:02.019 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:02.019 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 5.7129ms
2025-07-29 09:05:02.021 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.021 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.6071ms
2025-07-29 09:05:02.026 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:05:02.026 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.027 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:05:02.028 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.029 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:05:02.029 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 10.552ms
2025-07-29 09:05:02.030 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.030 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:05:02.031 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:05:02.031 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.032 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:05:02.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:05:02.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:05:02.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:02.034 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.034 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.034 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:05:02.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:05:02.034 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:05:02.036 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.038 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.040 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.042 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.044 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.044 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.116 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:05:02.131 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.139 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 102.3687ms
2025-07-29 09:05:02.139 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:05:02.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 114.4754ms
2025-07-29 09:05:02.147 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:05:02.148 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.149 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:05:02.149 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.151 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:05:02.161 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.175 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 132.2817ms
2025-07-29 09:05:02.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:05:02.175 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 143.2612ms
2025-07-29 09:05:02.183 +00:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:05:02.184 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:05:02.185 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:05:02.186 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.187 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 142.9279ms
2025-07-29 09:05:02.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:05:02.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 157.8207ms
2025-07-29 09:05:02.192 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.192 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:05:02.204 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:05:02.211 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.216 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.216 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 66.6507ms
2025-07-29 09:05:02.216 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:05:02.217 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 69.4525ms
2025-07-29 09:05:02.231 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:05:02.264 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.264 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:05:02.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:05:02.265 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.337 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:05:02.338 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:05:02.338 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.339 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 127.7499ms
2025-07-29 09:05:02.339 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:05:02.341 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:02.352 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 165.5762ms
2025-07-29 09:05:02.352 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:05:02.353 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.354 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 88.8138ms
2025-07-29 09:05:02.354 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:05:02.354 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:02.354 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 124.5825ms
2025-07-29 09:05:02.363 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 322.0318ms
2025-07-29 09:05:02.363 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:05:02.364 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 334.0105ms
2025-07-29 09:05:02.366 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 327.1938ms
2025-07-29 09:05:02.366 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:05:02.366 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 337.5628ms
2025-07-29 09:05:02.375 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:05:02.376 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.377 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:05:02.377 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.379 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:05:02.380 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.382 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:05:02.383 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:02.398 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:05:02.413 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:02.413 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:05:02.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 37.1232ms
2025-07-29 09:05:02.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:05:02.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 40.7632ms
2025-07-29 09:05:02.416 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:02.416 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 33.2669ms
2025-07-29 09:05:02.417 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:05:02.418 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 40.1608ms
2025-07-29 09:05:02.536 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:05:02.538 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.539 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 495.1084ms
2025-07-29 09:05:02.539 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:05:02.540 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 506.3925ms
2025-07-29 09:05:02.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:02.546 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:02.547 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:05:02.547 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:02.560 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:05:02.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:05:02.565 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:02.566 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 18.6046ms
2025-07-29 09:05:02.566 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:05:02.566 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.365ms
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 1.6563ms
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.7152ms
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.677ms
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 1.4973ms
2025-07-29 09:05:06.393 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.1556ms
2025-07-29 09:05:06.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.9506ms
2025-07-29 09:05:06.392 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:06.394 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.394 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:06.395 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:06.399 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:05:06.399 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:05:06.399 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:05:06.399 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.399 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.399 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.400 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:05:06.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:06.400 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:06.400 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:05:06.400 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:06.412 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:05:06.412 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:05:06.412 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:05:06.415 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.415 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.415 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 14.8115ms
2025-07-29 09:05:06.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 19.8386ms
2025-07-29 09:05:06.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:06.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:06.415 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 15.3174ms
2025-07-29 09:05:06.415 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:06.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 23.0483ms
2025-07-29 09:05:06.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 16.8796ms
2025-07-29 09:05:06.415 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 16.59ms
2025-07-29 09:05:06.418 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:05:06.418 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:05:06.418 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:05:06.419 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.419 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.419 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.419 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:06.419 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:06.419 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:06.419 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:06.419 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:05:06.419 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:05:06.426 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:05:06.426 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:05:06.426 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:05:06.428 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.429 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 10.1271ms
2025-07-29 09:05:06.430 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.430 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 10.6771ms
2025-07-29 09:05:06.430 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:05:06.431 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:05:06.431 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 13.4616ms
2025-07-29 09:05:06.432 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 13.65ms
2025-07-29 09:05:06.432 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.4307ms
2025-07-29 09:05:06.432 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:05:06.432 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 13.95ms
2025-07-29 09:05:06.434 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:05:06.447 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:05:06.481 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.490 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.497 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.503 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.507 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.509 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.522 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.524 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.527 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.537 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.539 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.541 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.545 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.547 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.549 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.552 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.555 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.557 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.558 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.559 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.562 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.566 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.568 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.573 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.575 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.584 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.587 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.601 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.604 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.606 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.607 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.609 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.610 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.611 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.612 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.615 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.617 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.619 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.623 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.625 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.628 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.631 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.633 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.636 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.640 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.643 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.645 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.648 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.651 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.654 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.656 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.657 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.658 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:05:06.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:06.664 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:05:06.664 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:05:06.664 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 230.6206ms
2025-07-29 09:05:06.664 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:05:06.664 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 266.1466ms
2025-07-29 09:05:06.666 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:05:06.674 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.678 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.680 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.682 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.684 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.687 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.696 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.700 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.702 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.704 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.708 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.710 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.712 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.721 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.723 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.724 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.730 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.733 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.736 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.739 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.741 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.743 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.748 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.753 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.755 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.757 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.759 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.765 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.768 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.771 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.773 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.775 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.777 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.783 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.786 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.793 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.795 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.799 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.803 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.807 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.809 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.812 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.815 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.819 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.821 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.823 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.825 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.829 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.831 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.833 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.835 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.837 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.839 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.841 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.845 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.847 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.849 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.853 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.856 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.858 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.859 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.861 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.864 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:05:06.864 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:06.869 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 204.8574ms
2025-07-29 09:05:06.869 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:05:06.869 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 206.0178ms
2025-07-29 09:05:31.518 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:31.517 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:31.518 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:05:31.518 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:31.518 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:31.518 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:05:31.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:05:31.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:31.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:05:31.519 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:05:31.526 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:05:31.527 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:05:31.527 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:05:31.528 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:05:31.528 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.7895ms
2025-07-29 09:05:31.528 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:05:31.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8245ms
2025-07-29 09:05:31.539 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:05:31.541 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:31.548 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.4645ms
2025-07-29 09:05:31.548 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:05:31.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1504ms
2025-07-29 09:05:31.571 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:05:31.572 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:05:31.572 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.9839ms
2025-07-29 09:05:31.572 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:05:31.572 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.3998ms
2025-07-29 09:06:01.518 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:01.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:01.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:01.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:01.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:06:01.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:06:01.519 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:06:01.519 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:06:01.519 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:06:01.519 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:06:01.527 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:06:01.527 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:06:01.528 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.2641ms
2025-07-29 09:06:01.528 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:06:01.528 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.0611ms
2025-07-29 09:06:01.532 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:06:01.533 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:06:01.534 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.4739ms
2025-07-29 09:06:01.534 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:06:01.534 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.9122ms
2025-07-29 09:06:01.540 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:06:01.543 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:06:01.547 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.5099ms
2025-07-29 09:06:01.547 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:06:01.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.5726ms
2025-07-29 09:06:31.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:31.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:31.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:06:31.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:31.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:31.519 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:06:31.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:06:31.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:06:31.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:06:31.520 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:06:31.520 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:06:31.520 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:06:31.538 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:06:31.538 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:06:31.538 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:06:31.538 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:06:31.538 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.7436ms
2025-07-29 09:06:31.538 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:06:31.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.7159ms
2025-07-29 09:06:31.543 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:06:31.544 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.9972ms
2025-07-29 09:06:31.549 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6441ms
2025-07-29 09:06:31.579 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:06:31.579 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:06:31.579 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.5813ms
2025-07-29 09:06:31.579 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:06:31.579 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 60.5482ms
2025-07-29 09:07:01.731 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:07:01.731 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:07:01.732 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:07:01.732 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:07:02.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:07:02.018 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:07:02.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:07:02.018 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:07:02.122 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:07:02.122 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:07:02.123 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:07:02.123 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:07:02.201 +00:00 [INF] Executed DbCommand (465ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:07:02.276 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:07:02.320 +00:00 [INF] Executed DbCommand (119ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:07:02.320 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:07:02.321 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 197.8109ms
2025-07-29 09:07:02.321 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:07:02.337 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 605.3656ms
2025-07-29 09:07:02.351 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:07:02.351 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 620.6712ms
2025-07-29 09:07:02.498 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 377.1456ms
2025-07-29 09:07:02.598 +00:00 [INF] Executed DbCommand (498ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:07:02.599 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:07:02.600 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 581.351ms
2025-07-29 09:07:02.600 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:07:02.600 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 582.7749ms
2025-07-29 09:10:28.561 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 09:10:30.400 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 09:10:30.468 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.469 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.469 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.469 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.469 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.469 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.470 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.470 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.470 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:30.470 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:10:56.319 +00:00 [ERR] An error occurred using the connection to database 'PersonaXFleet' on server 'localhost'.
2025-07-29 09:10:56.570 +00:00 [ERR] An exception occurred while iterating over the results of a query for context type 'PersonaXFleet.Data.AuthDbContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
Microsoft.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
 ---> System.ComponentModel.Win32Exception (2): The system cannot find the file specified.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, SqlConnectionString connectionOptions, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
ClientConnectionId:00000000-0000-0000-0000-000000000000
Error Number:2,State:0,Class:20
2025-07-29 09:11:49.907 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 09:11:52.066 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 09:11:52.130 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:52.131 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:11:53.768 +00:00 [INF] Executed DbCommand (124ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:11:53.952 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:11:53.955 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:11:54.535 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-29 09:11:54.535 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-29 09:11:54.807 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-29 09:11:54.807 +00:00 [INF] Hosting environment: Development
2025-07-29 09:11:54.807 +00:00 [INF] Content root path: C:\Users\pc\PersonaX\PersonaXFleet
2025-07-29 09:11:56.247 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-29 09:11:57.146 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 928.6148ms
2025-07-29 09:11:57.251 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-29 09:11:57.252 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-29 09:11:57.289 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 37.308ms
2025-07-29 09:11:57.775 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 522.9876ms
2025-07-29 09:11:57.972 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-29 09:11:58.190 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 217.6483ms
2025-07-29 09:12:47.147 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:12:47.147 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:12:47.306 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:47.306 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:47.325 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 178.0751ms
2025-07-29 09:12:47.325 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 178.075ms
2025-07-29 09:12:47.383 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:12:47.391 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:47.462 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:12:47.510 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:12:47.536 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:47.618 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 98.7189ms
2025-07-29 09:12:47.618 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:12:47.621 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 238.2396ms
2025-07-29 09:12:47.630 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:12:47.631 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:47.636 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:12:47.637 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:12:47.663 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:47.664 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 26.978ms
2025-07-29 09:12:47.664 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:12:47.665 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 34.8422ms
2025-07-29 09:12:48.066 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:12:48.069 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:12:48.070 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:12:48.071 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.071 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.072 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.073 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 2.5445ms
2025-07-29 09:12:48.073 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 6.6802ms
2025-07-29 09:12:48.073 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:12:48.072 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:12:48.073 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.076 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.076 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 3.6488ms
2025-07-29 09:12:48.077 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:12:48.077 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.076 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 4.4654ms
2025-07-29 09:12:48.080 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 3.3505ms
2025-07-29 09:12:48.082 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:48.082 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 13.7881ms
2025-07-29 09:12:48.085 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.089 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:12:48.092 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:12:48.112 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.112 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 23.8057ms
2025-07-29 09:12:48.129 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:12:48.130 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.130 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 2.8398ms
2025-07-29 09:12:48.181 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:12:48.181 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:12:48.181 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:12:48.182 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.182 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:12:48.182 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:12:48.183 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.183 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:12:48.188 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.188 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:12:48.188 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:12:48.189 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.190 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:12:48.193 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:48.196 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:48.196 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:12:48.208 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:48.535 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:12:48.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:48.934 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:12:48.958 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:48.963 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 774.454ms
2025-07-29 09:12:48.963 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 766.6767ms
2025-07-29 09:12:48.964 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:12:48.964 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:12:48.967 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:12:48.968 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.969 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:12:48.969 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:12:48.970 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:48.971 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:48.971 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:12:48.971 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:12:48.978 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:12:48.978 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 796.3001ms
2025-07-29 09:12:48.978 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 895.7783ms
2025-07-29 09:12:48.983 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:48.984 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 14.823ms
2025-07-29 09:12:48.984 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:12:48.988 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 20.195ms
2025-07-29 09:12:48.989 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:12:48.991 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:48.991 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.8244ms
2025-07-29 09:12:48.991 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:12:48.992 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5263ms
2025-07-29 09:12:49.150 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:12:49.153 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.169 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:12:49.172 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.195 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:12:49.196 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 1002.7475ms
2025-07-29 09:12:49.196 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.196 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:12:49.197 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 1014.4566ms
2025-07-29 09:12:49.201 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:12:49.201 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.202 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 993.4804ms
2025-07-29 09:12:49.202 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.202 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:12:49.202 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.202 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 1021.1873ms
2025-07-29 09:12:49.206 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:12:49.206 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.206 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.207 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.220 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:12:49.221 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:12:49.222 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.222 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.222 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 19.969ms
2025-07-29 09:12:49.222 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 15.3626ms
2025-07-29 09:12:49.222 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:12:49.222 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.223 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 17.3689ms
2025-07-29 09:12:49.223 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 22.275ms
2025-07-29 09:12:49.233 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 1037.0073ms
2025-07-29 09:12:49.234 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:12:49.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 1052.9166ms
2025-07-29 09:12:49.240 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:12:49.241 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.243 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:12:49.243 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.255 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:12:49.258 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.258 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 14.6802ms
2025-07-29 09:12:49.258 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:12:49.259 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 18.5137ms
2025-07-29 09:12:49.464 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:49.469 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.469 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:12:49.469 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 5.2556ms
2025-07-29 09:12:49.470 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.470 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.166ms
2025-07-29 09:12:49.471 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:49.472 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:12:49.472 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.472 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.0239ms
2025-07-29 09:12:49.477 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.477 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 5.9563ms
2025-07-29 09:12:49.504 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:12:49.504 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:12:49.504 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.505 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.505 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:12:49.505 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:12:49.510 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:12:49.516 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.516 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.532 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.533 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:12:49.558 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:49.559 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:12:49.560 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.560 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:12:49.561 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.561 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:12:49.566 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:12:49.567 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.568 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.572 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.572 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.574 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.587 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.618 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:12:49.630 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.642 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 125.2508ms
2025-07-29 09:12:49.642 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:12:49.644 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 139.3171ms
2025-07-29 09:12:49.660 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:12:49.664 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 154.359ms
2025-07-29 09:12:49.671 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:12:49.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 168.2633ms
2025-07-29 09:12:49.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:12:49.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:12:49.675 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.695 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:12:49.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:12:49.696 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.697 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 21.4071ms
2025-07-29 09:12:49.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:12:49.697 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:12:49.697 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 23.1476ms
2025-07-29 09:12:49.721 +00:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:12:49.727 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:12:49.727 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.727 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 155.4847ms
2025-07-29 09:12:49.727 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.727 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:12:49.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 30.5855ms
2025-07-29 09:12:49.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:12:49.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 169.4005ms
2025-07-29 09:12:49.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 32.0527ms
2025-07-29 09:12:49.738 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:12:49.739 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.742 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:12:49.743 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.755 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:12:49.755 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:12:49.775 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:12:49.779 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:49.781 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 37.8051ms
2025-07-29 09:12:49.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:12:49.781 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 44.3975ms
2025-07-29 09:12:49.784 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:49.795 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 227.8095ms
2025-07-29 09:12:49.795 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:12:49.796 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 286.43ms
2025-07-29 09:12:49.800 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:12:49.801 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.801 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:12:49.801 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:12:49.827 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:12:49.829 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:49.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 28.4092ms
2025-07-29 09:12:49.831 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:12:49.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 31.1971ms
2025-07-29 09:12:49.839 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:12:49.842 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:49.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 254.5361ms
2025-07-29 09:12:49.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 308.1446ms
2025-07-29 09:12:49.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:12:49.853 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:49.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.853 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:49.864 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:12:49.869 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:12:49.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 16.7313ms
2025-07-29 09:12:49.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:12:49.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 18.9988ms
2025-07-29 09:12:50.001 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:12:50.005 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:50.005 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 433.3028ms
2025-07-29 09:12:50.005 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:12:50.006 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 447.5455ms
2025-07-29 09:12:50.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:12:50.012 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:12:50.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:12:50.013 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:12:50.023 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:12:50.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:12:50.030 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:12:50.031 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 18.0306ms
2025-07-29 09:12:50.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:12:50.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.0352ms
2025-07-29 09:13:18.077 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:18.077 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:18.078 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:18.088 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:18.088 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:18.088 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:18.089 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:13:18.089 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:13:18.089 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:13:18.089 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:13:18.097 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:13:18.101 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:13:18.352 +00:00 [INF] Executed DbCommand (121ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:13:18.369 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:13:18.371 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 281.5495ms
2025-07-29 09:13:18.371 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:13:18.371 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 294.262ms
2025-07-29 09:13:18.430 +00:00 [INF] Executed DbCommand (211ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:13:18.431 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:13:18.506 +00:00 [INF] Executed DbCommand (116ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:13:18.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:13:18.508 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 405.9837ms
2025-07-29 09:13:18.508 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:13:18.508 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 431.4401ms
2025-07-29 09:13:18.520 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 422.5635ms
2025-07-29 09:13:18.520 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:13:18.521 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 442.7332ms
2025-07-29 09:13:48.094 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:48.094 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:48.098 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:48.098 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:48.099 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:13:48.099 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:13:48.099 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:13:48.099 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:13:48.110 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:13:48.113 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:13:48.113 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:13:48.114 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:13:48.133 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:13:48.133 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:13:48.133 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:13:48.190 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:13:48.191 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:13:48.191 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 91.7024ms
2025-07-29 09:13:48.191 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:13:48.191 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:13:48.191 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 91.8083ms
2025-07-29 09:13:48.191 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:13:48.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 97.1454ms
2025-07-29 09:13:48.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.3694ms
2025-07-29 09:13:48.192 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 78.3219ms
2025-07-29 09:13:48.192 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:13:48.193 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 82.2833ms
2025-07-29 09:14:18.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:18.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:18.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:18.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:18.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:14:18.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:14:18.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:14:18.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:14:18.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:18.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:18.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:14:18.663 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:14:18.677 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:14:18.683 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:14:18.685 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:14:18.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:14:18.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.6687ms
2025-07-29 09:14:18.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:14:18.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.1074ms
2025-07-29 09:14:18.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1543ms
2025-07-29 09:14:18.689 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:14:18.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.2783ms
2025-07-29 09:14:18.749 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:14:18.750 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:14:18.750 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.3866ms
2025-07-29 09:14:18.750 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:14:18.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.4303ms
2025-07-29 09:14:55.704 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:55.704 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:55.704 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:55.704 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:14:55.704 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:14:55.709 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:55.710 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:14:55.710 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:14:55.710 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:14:55.710 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:14:55.710 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:14:55.710 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:14:55.748 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:14:55.762 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:14:55.763 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.3132ms
2025-07-29 09:14:55.763 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:14:55.764 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.0194ms
2025-07-29 09:14:55.813 +00:00 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:14:55.813 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:14:55.813 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 108.8714ms
2025-07-29 09:14:55.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:14:55.829 +00:00 [INF] Executed DbCommand (114ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:14:55.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 126.1869ms
2025-07-29 09:14:55.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:14:55.830 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 119.9452ms
2025-07-29 09:14:55.830 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:14:55.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 127.0005ms
2025-07-29 09:15:18.650 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:18.650 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:18.651 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:18.651 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:18.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:18.651 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:18.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:15:18.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:15:18.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:15:18.653 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:15:18.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:15:18.653 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:15:18.671 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:15:18.671 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:15:18.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:15:18.674 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:15:18.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.0948ms
2025-07-29 09:15:18.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.4773ms
2025-07-29 09:15:18.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:15:18.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:15:18.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0218ms
2025-07-29 09:15:18.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.0622ms
2025-07-29 09:15:18.683 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:15:18.686 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:15:18.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.3543ms
2025-07-29 09:15:18.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:15:18.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.3103ms
2025-07-29 09:15:48.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:48.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:48.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:48.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:15:48.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:48.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:15:48.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:15:48.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:15:48.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:15:48.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:15:48.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:15:48.662 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:15:48.682 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:15:48.689 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:15:48.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.4165ms
2025-07-29 09:15:48.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:15:48.690 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:15:48.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:15:48.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.7847ms
2025-07-29 09:15:48.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:15:48.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.883ms
2025-07-29 09:15:48.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.2128ms
2025-07-29 09:15:48.757 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:15:48.758 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:15:48.758 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 96.6571ms
2025-07-29 09:15:48.759 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:15:48.759 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 98.9151ms
2025-07-29 09:16:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:16:29.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:16:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:16:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:16:29.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:16:29.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:16:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:16:29.669 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:16:29.675 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:16:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:16:29.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:16:29.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:16:29.676 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:16:29.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:16:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.364ms
2025-07-29 09:16:29.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:16:29.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.6484ms
2025-07-29 09:16:29.685 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:16:29.686 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:16:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.9997ms
2025-07-29 09:16:29.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:16:29.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.8876ms
2025-07-29 09:16:29.694 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:16:29.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:16:29.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.4962ms
2025-07-29 09:16:29.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:16:29.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.2729ms
2025-07-29 09:16:57.535 +00:00 [INF] User profile is available. Using 'C:\Users\pc\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-07-29 09:16:58.613 +00:00 [WRN] The foreign key property 'FuelLog.VehicleId1' was created in shadow state because a conflicting property with the simple name 'VehicleId' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.
2025-07-29 09:16:58.658 +00:00 [WRN] No store type was specified for the decimal property 'Cost' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'FuelAmount' on entity type 'FuelLog'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'LaborHours' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'TotalCost' on entity type 'Invoice'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'ActualCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceHistory'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'EstimatedCost' on entity type 'MaintenanceRequest'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'UnitPrice' on entity type 'PartUsed'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'EngineSize' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:58.659 +00:00 [WRN] No store type was specified for the decimal property 'PurchasePrice' on entity type 'Vehicle'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-07-29 09:16:59.742 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:16:59.854 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:16:59.857 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-07-29 09:17:00.239 +00:00 [INF] Now listening on: https://localhost:7092
2025-07-29 09:17:00.239 +00:00 [INF] Now listening on: http://localhost:5062
2025-07-29 09:17:00.466 +00:00 [INF] Application started. Press Ctrl+C to shut down.
2025-07-29 09:17:00.468 +00:00 [INF] Hosting environment: Development
2025-07-29 09:17:00.468 +00:00 [INF] Content root path: C:\Users\pc\PersonaX\PersonaXFleet
2025-07-29 09:17:01.869 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/index.html - null null
2025-07-29 09:17:02.468 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/index.html - 200 null text/html;charset=utf-8 625.4413ms
2025-07-29 09:17:02.527 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_vs/browserLink - null null
2025-07-29 09:17:02.527 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - null null
2025-07-29 09:17:02.542 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 15.3808ms
2025-07-29 09:17:02.627 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/_vs/browserLink - 200 null text/javascript; charset=UTF-8 100.196ms
2025-07-29 09:17:02.744 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - null null
2025-07-29 09:17:02.861 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 118.2147ms
2025-07-29 09:17:26.507 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:26.507 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:26.524 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.525 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.529 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 22.0608ms
2025-07-29 09:17:26.529 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 22.061ms
2025-07-29 09:17:26.534 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:26.540 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.553 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:26.574 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:26.585 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:26.594 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:26.594 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.596 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:26.596 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 16.9078ms
2025-07-29 09:17:26.596 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:26.596 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:26.598 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 64.4266ms
2025-07-29 09:17:26.609 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:26.609 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 13.1174ms
2025-07-29 09:17:26.610 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:26.610 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 16.1587ms
2025-07-29 09:17:26.798 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:17:26.798 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:26.798 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:17:26.800 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.800 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 2.3084ms
2025-07-29 09:17:26.801 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.801 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.802 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 3.9194ms
2025-07-29 09:17:26.802 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 4.189ms
2025-07-29 09:17:26.806 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:17:26.818 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:26.818 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.818 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests - 204 null null 15.7283ms
2025-07-29 09:17:26.827 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:26.827 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:17:26.827 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.827 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 9.964ms
2025-07-29 09:17:26.827 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.831 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.831 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:26.831 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 4.1552ms
2025-07-29 09:17:26.832 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:26.831 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles - 204 null null 7.0394ms
2025-07-29 09:17:26.834 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.835 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/active-requests - 204 null null 3.5901ms
2025-07-29 09:17:26.839 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:17:26.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:17:26.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:26.853 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:26.854 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.854 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.854 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.854 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:26.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:26.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:26.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:26.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:17:26.855 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:17:26.860 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:17:26.860 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:26.860 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:26.860 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:26.875 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:26.993 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:17:27.052 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:17:27.061 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 188.2981ms
2025-07-29 09:17:27.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:27.066 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:27.066 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.067 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:27.067 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:27.069 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 237.7567ms
2025-07-29 09:17:27.073 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:17:27.074 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.6467ms
2025-07-29 09:17:27.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:27.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.052ms
2025-07-29 09:17:27.092 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:17:27.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.112 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:17:27.114 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.130 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:27.131 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.140 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 279.4935ms
2025-07-29 09:17:27.140 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 279.5327ms
2025-07-29 09:17:27.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:17:27.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 287.4673ms
2025-07-29 09:17:27.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 287.7857ms
2025-07-29 09:17:27.142 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:17:27.143 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - null null
2025-07-29 09:17:27.144 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.144 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:17:27.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.144 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.144 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.150 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:17:27.152 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:17:27.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.155 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 10.9742ms
2025-07-29 09:17:27.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 11.009ms
2025-07-29 09:17:27.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:17:27.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests - 200 null application/json; charset=utf-8 12.5995ms
2025-07-29 09:17:27.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 12.5997ms
2025-07-29 09:17:27.160 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 299.2904ms
2025-07-29 09:17:27.160 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:27.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 307.4121ms
2025-07-29 09:17:27.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:27.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.163 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:27.163 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.168 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:27.168 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.169 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 5.7933ms
2025-07-29 09:17:27.169 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:27.169 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 7.0925ms
2025-07-29 09:17:27.173 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 312.5602ms
2025-07-29 09:17:27.173 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:27.173 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 320.663ms
2025-07-29 09:17:27.176 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:27.176 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.176 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:27.176 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:17:27.180 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:17:27.183 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.183 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 6.6047ms
2025-07-29 09:17:27.183 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:27.184 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 8.094ms
2025-07-29 09:17:27.248 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:17:27.248 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:27.249 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.249 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.249 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 1.9944ms
2025-07-29 09:17:27.249 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.9976ms
2025-07-29 09:17:27.251 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:27.253 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.254 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 3.6438ms
2025-07-29 09:17:27.256 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:17:27.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:17:27.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:17:27.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:17:27.260 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:17:27.260 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.260 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.260 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:17:27.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:17:27.261 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.261 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:17:27.261 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:17:27.260 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.261 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.261 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.261 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:17:27.261 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:27.262 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.263 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:17:27.263 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.265 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 204 null null 6.9182ms
2025-07-29 09:17:27.267 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.267 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.268 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.268 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.268 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.271 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.346 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:17:27.347 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:17:27.348 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.351 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:17:27.363 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 94.9486ms
2025-07-29 09:17:27.364 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:17:27.364 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 104.8553ms
2025-07-29 09:17:27.365 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.365 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.376 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:17:27.377 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - null null
2025-07-29 09:17:27.378 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.378 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:17:27.378 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.380 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 112.8ms
2025-07-29 09:17:27.381 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:17:27.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 121.5695ms
2025-07-29 09:17:27.381 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 113.5485ms
2025-07-29 09:17:27.381 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:17:27.382 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 122.3943ms
2025-07-29 09:17:27.387 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:17:27.391 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - null null
2025-07-29 09:17:27.391 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.391 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - null null
2025-07-29 09:17:27.391 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 12.6654ms
2025-07-29 09:17:27.391 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.391 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:17:27.391 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:17:27.391 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:17:27.391 +00:00 [INF] Route matched with {action = "GetRecentAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRecentAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.391 +00:00 [INF] Route matched with {action = "GetAllMaintenanceSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllMaintenanceSchedules() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.392 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/3CEEFCE9-3816-4420-A690-1A247882F6FE/schedules - 200 null application/json; charset=utf-8 14.7605ms
2025-07-29 09:17:27.405 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:17:27.405 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:17:27.434 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [VehicleId], [v0].[Make] AS [VehicleMake], [v0].[Model] AS [VehicleModel], [v0].[LicensePlate], [a].[Id] AS [UserId], [a].[UserName], [a].[Email] AS [UserEmail], [t].[AssignmentDate]
FROM (
    SELECT TOP(@__p_0) [v].[AssignmentDate], [v].[UserId], [v].[VehicleId]
    FROM [VehicleAssignmentHistories] AS [v]
    ORDER BY [v].[AssignmentDate] DESC
) AS [t]
INNER JOIN [Vehicles] AS [v0] ON [t].[VehicleId] = [v0].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [t].[UserId] = [a].[Id]
ORDER BY [t].[AssignmentDate] DESC
2025-07-29 09:17:27.434 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType], [m].[CompletedDate]
FROM [MaintenanceSchedules] AS [m]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
2025-07-29 09:17:27.435 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.435 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentTrackingDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.435 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.435 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.435 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet) in 43.6085ms
2025-07-29 09:17:27.435 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet) in 43.573ms
2025-07-29 09:17:27.435 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRecentAssignments (PersonaXFleet)'
2025-07-29 09:17:27.435 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllMaintenanceSchedules (PersonaXFleet)'
2025-07-29 09:17:27.436 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RecentAssignments - 200 null application/json; charset=utf-8 45.6196ms
2025-07-29 09:17:27.436 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/schedules - 200 null application/json; charset=utf-8 45.4702ms
2025-07-29 09:17:27.441 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 173.4126ms
2025-07-29 09:17:27.441 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.442 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 182.2117ms
2025-07-29 09:17:27.443 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 175.282ms
2025-07-29 09:17:27.444 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:17:27.444 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 184.0972ms
2025-07-29 09:17:27.445 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - null null
2025-07-29 09:17:27.445 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.445 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.446 +00:00 [INF] Route matched with {action = "GetMostRecentCommentsForAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentCommentsForAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.447 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - null null
2025-07-29 09:17:27.447 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.447 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:17:27.447 +00:00 [INF] Route matched with {action = "GetMostRecentMaintenanceComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMostRecentMaintenanceComments() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:27.456 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m0].[MaintenanceId] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [m].[Action] AS [Stage], [m].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
LEFT JOIN [AspNetUsers] AS [a] ON [m0].[RequestedByUserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [m].[UserId] = [a0].[Id]
WHERE [m].[Action] <> N'create' AND [m].[Comments] NOT LIKE N''
ORDER BY [m].[Timestamp] DESC
2025-07-29 09:17:27.460 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v0].[Id] AS [RequestId], COALESCE([a].[UserName], N'Unknown Owner') AS [RequestOwnerName], [v].[Stage], [v].[Comments] AS [Comment], COALESCE([a0].[UserName], N'Unknown User') AS [CommenterUserName], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [VehicleAssignmentRequests] AS [v0] ON [v].[VehicleAssignmentRequestId] = [v0].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [v0].[UserId] = [a].[Id]
LEFT JOIN [AspNetUsers] AS [a0] ON [v].[UserId] = [a0].[Id]
WHERE [v].[Stage] <> N'create' AND [v].[Comments] NOT LIKE N''
ORDER BY [v].[Timestamp] DESC
2025-07-29 09:17:27.460 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.461 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType40`1[[System.Collections.Generic.List`1[[<>f__AnonymousType38`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:27.461 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet) in 13.0608ms
2025-07-29 09:17:27.461 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMostRecentMaintenanceComments (PersonaXFleet)'
2025-07-29 09:17:27.461 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet) in 15.242ms
2025-07-29 09:17:27.461 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMostRecentCommentsForAllRequests (PersonaXFleet)'
2025-07-29 09:17:27.461 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/latest-comments?limit=4 - 200 null application/json; charset=utf-8 15.3198ms
2025-07-29 09:17:27.461 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/latest-comments?limit=4 - 200 null application/json; charset=utf-8 17.383ms
2025-07-29 09:17:27.540 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:17:27.542 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.543 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 271.6074ms
2025-07-29 09:17:27.543 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:17:27.543 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 283.415ms
2025-07-29 09:17:27.545 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:27.546 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:27.546 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:17:27.546 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:17:27.553 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:17:27.557 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:17:27.557 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:27.558 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 11.5077ms
2025-07-29 09:17:27.558 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:17:27.558 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.2918ms
2025-07-29 09:17:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:17:29.678 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:29.689 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:17:29.691 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:29.691 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:29.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.9603ms
2025-07-29 09:17:29.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:29.691 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:29.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.0141ms
2025-07-29 09:17:29.723 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:17:29.728 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:29.740 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.3669ms
2025-07-29 09:17:29.740 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:17:29.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 66.2529ms
2025-07-29 09:17:29.745 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:17:29.747 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:29.747 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.9032ms
2025-07-29 09:17:29.747 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:29.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 72.9167ms
2025-07-29 09:17:30.257 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:30.257 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:17:30.257 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.257 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.257 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:30.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:17:30.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:30.258 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.6969ms
2025-07-29 09:17:30.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.258 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.6168ms
2025-07-29 09:17:30.259 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.259 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:30.259 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:17:30.262 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.262 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.265 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:17:30.266 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.266 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:17:30.272 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.272 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 13.2715ms
2025-07-29 09:17:30.272 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:30.272 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.272 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 15.4527ms
2025-07-29 09:17:30.272 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.273 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 13.8333ms
2025-07-29 09:17:30.273 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:30.273 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 16.0926ms
2025-07-29 09:17:30.276 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:17:30.277 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:17:30.277 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.277 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.277 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:30.277 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:30.277 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:17:30.277 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.279 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.284 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:17:30.287 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.289 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.289 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.289 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 11.7542ms
2025-07-29 09:17:30.289 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:17:30.289 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 12.0472ms
2025-07-29 09:17:30.289 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:17:30.289 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 14.365ms
2025-07-29 09:17:30.290 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 13.6067ms
2025-07-29 09:17:30.297 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:17:30.311 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.312 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.314 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.315 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.315 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 36.3453ms
2025-07-29 09:17:30.315 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:17:30.316 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 54.2709ms
2025-07-29 09:17:30.318 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 45.123ms
2025-07-29 09:17:30.318 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.318 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:17:30.318 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.318 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 61.6789ms
2025-07-29 09:17:30.319 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:17:30.319 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.321 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:17:30.321 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.322 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:17:30.322 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.328 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:17:30.328 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.328 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.328 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.926ms
2025-07-29 09:17:30.331 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.332 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.333 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.333 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:30.334 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.334 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.335 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:17:30.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 12.638ms
2025-07-29 09:17:30.335 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:17:30.335 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 14.9759ms
2025-07-29 09:17:30.335 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 16.7093ms
2025-07-29 09:17:30.336 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:17:30.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5117ms
2025-07-29 09:17:30.341 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:17:30.342 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.343 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 8.3903ms
2025-07-29 09:17:30.343 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:30.343 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.532ms
2025-07-29 09:17:30.345 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:30.345 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:30.345 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:30.345 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:17:30.349 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:17:30.350 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:30.351 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 5.5582ms
2025-07-29 09:17:30.351 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:17:30.351 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.7528ms
2025-07-29 09:17:32.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:17:32.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-29 09:17:32.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-29 09:17:32.620 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.620 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.620 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.620 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:32.620 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:32.620 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:32.622 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:32.623 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:32.623 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:32.624 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-29 09:17:32.624 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 2.8443ms
2025-07-29 09:17:32.625 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:32.625 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 6.1919ms
2025-07-29 09:17:32.627 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-29 09:17:32.628 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.628 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:32.628 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:32.629 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-29 09:17:32.629 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 0.8809ms
2025-07-29 09:17:32.629 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:32.629 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 2.5654ms
2025-07-29 09:17:32.641 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:17:32.662 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.673 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.675 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.680 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.683 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.687 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.689 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.691 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.694 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.702 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-29 09:17:32.702 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.704 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.707 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.711 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.715 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.719 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.721 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.723 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.725 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.726 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.729 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.731 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.736 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.740 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.744 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.746 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.749 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.754 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.756 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.758 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.760 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.762 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.764 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.767 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.770 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.772 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.773 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.774 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.776 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.777 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.779 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.780 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.781 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.785 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.787 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.788 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.789 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.791 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.792 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.794 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.796 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.797 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.801 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.803 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.804 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.806 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.807 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.809 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.810 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.811 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.814 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.817 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.820 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:32.822 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.823 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.824 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.826 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.827 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.827 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 204.5003ms
2025-07-29 09:17:32.827 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:32.827 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 208.7615ms
2025-07-29 09:17:32.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.829 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-29 09:17:32.829 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.829 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:32.829 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:32.830 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.833 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.836 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.836 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-29 09:17:32.839 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.839 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:32.840 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 10.0866ms
2025-07-29 09:17:32.840 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:32.840 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.841 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 11.8147ms
2025-07-29 09:17:32.842 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.843 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.845 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.846 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.847 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.851 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.853 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.854 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.856 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.857 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.858 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.858 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:32.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:17:32.864 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:32.864 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:32.864 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:32.864 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 241.4547ms
2025-07-29 09:17:32.864 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:32.865 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 246.0995ms
2025-07-29 09:17:32.867 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:17:32.872 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.876 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.877 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.879 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.881 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.885 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.887 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.888 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.891 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.893 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.896 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.900 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.903 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.905 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.907 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.909 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.911 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.912 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.914 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.917 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.919 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.920 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.923 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.925 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.927 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.929 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.930 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.932 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.935 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.937 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.940 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.942 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.947 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.951 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.952 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.954 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.956 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.957 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.959 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.961 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.964 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.966 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.968 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.970 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.973 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.976 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.978 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.980 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.982 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.984 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.987 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.990 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.994 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.996 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:32.997 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.000 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.002 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.005 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.007 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.009 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.011 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.012 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.016 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.019 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.021 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.024 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.026 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.028 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.030 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.032 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.036 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.038 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.039 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.041 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.043 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.044 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.046 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.048 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.052 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.053 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.055 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.056 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.058 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.059 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.061 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.062 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.064 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.065 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:33.067 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:33.071 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 207.6602ms
2025-07-29 09:17:33.071 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:33.072 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 208.6535ms
2025-07-29 09:17:38.051 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:38.051 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.052 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.2315ms
2025-07-29 09:17:38.055 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:38.055 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.055 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 5.8741ms
2025-07-29 09:17:38.058 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:38.058 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.059 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:38.059 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:38.060 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:38.060 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8942ms
2025-07-29 09:17:38.060 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:38.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.7541ms
2025-07-29 09:17:38.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:17:38.065 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.065 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:38.065 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:38.065 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:38.065 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4456ms
2025-07-29 09:17:38.065 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:17:38.066 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1943ms
2025-07-29 09:17:38.146 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:17:38.148 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-29 09:17:38.148 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-29 09:17:38.148 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.148 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.148 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.148 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:38.148 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:38.148 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:38.148 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:38.149 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:38.148 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:38.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-29 09:17:38.150 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.3304ms
2025-07-29 09:17:38.150 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:38.150 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 2.3141ms
2025-07-29 09:17:38.152 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:17:38.153 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-29 09:17:38.157 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:38.157 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 8.2896ms
2025-07-29 09:17:38.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:38.157 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 9.3742ms
2025-07-29 09:17:38.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.167 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.193 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:38.193 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.194 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.194 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:38.195 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-29 09:17:38.195 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:38.195 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes/departments - null null
2025-07-29 09:17:38.195 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.195 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.195 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:38.195 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:38.195 +00:00 [INF] Route matched with {action = "GetDepartments", controller = "Routes"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetDepartments() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:38.195 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:38.196 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.197 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String[]'.
2025-07-29 09:17:38.197 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet) in 1.8694ms
2025-07-29 09:17:38.197 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetDepartments (PersonaXFleet)'
2025-07-29 09:17:38.197 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes/departments - 200 null application/json; charset=utf-8 2.6046ms
2025-07-29 09:17:38.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.200 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-29 09:17:38.203 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:17:38.204 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:38.205 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.206 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 10.554ms
2025-07-29 09:17:38.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:38.236 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:38.236 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 41.4027ms
2025-07-29 09:17:38.236 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 41.3727ms
2025-07-29 09:17:38.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:38.236 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 43.2029ms
2025-07-29 09:17:38.238 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.241 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.242 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:17:38.242 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.242 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:38.242 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:17:38.247 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.249 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.251 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:17:38.264 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:17:38.265 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.7674ms
2025-07-29 09:17:38.265 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:17:38.266 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7203ms
2025-07-29 09:17:38.266 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.269 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.271 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.272 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.277 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.279 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.281 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.283 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.285 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.286 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.287 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.288 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.289 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.290 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.293 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.295 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.297 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.298 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.300 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.302 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.304 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.306 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.310 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.314 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.316 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.317 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.319 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.321 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.322 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.323 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.324 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.325 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.327 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.330 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.333 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.335 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.337 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.338 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.340 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.343 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.346 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.349 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.351 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.352 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.354 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.356 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.357 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.359 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.361 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.363 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.365 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.366 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.368 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.369 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.370 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.371 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.372 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.373 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.374 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.374 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:38.377 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 228.2403ms
2025-07-29 09:17:38.377 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:38.377 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 230.9231ms
2025-07-29 09:17:38.379 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:17:38.379 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:17:38.379 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:38.379 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:17:38.381 +00:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:17:38.384 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.387 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.388 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.389 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.390 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.392 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.395 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.398 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.399 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.401 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.405 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.406 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.407 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.410 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.413 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.414 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.416 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.417 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.418 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.420 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.422 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.424 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.425 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.428 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.430 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.432 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.433 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.435 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.437 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.438 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.441 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.443 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.445 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.448 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.450 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.455 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.457 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.459 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.462 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.465 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.466 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.469 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.476 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.481 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.483 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.490 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.492 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.497 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.502 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.506 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.511 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.514 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.519 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.521 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.527 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.530 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.532 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:17:38.535 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:38.537 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 157.3971ms
2025-07-29 09:17:38.537 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:17:38.537 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 158.4118ms
2025-07-29 09:17:56.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Routes - null null
2025-07-29 09:17:56.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:56.520 +00:00 [INF] Route matched with {action = "GetRoutes", controller = "Routes"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.RouteDto]]] GetRoutes() on controller PersonaXFleet.Controllers.RoutesController (PersonaXFleet).
2025-07-29 09:17:56.524 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id], [r].[Department], [r].[Description], [r].[Name], [t].[Id], [t].[Role], [t].[RouteId], [t].[UserId], [t].[Id0], [t].[AccessFailedCount], [t].[ConcurrencyStamp], [t].[Department], [t].[Email], [t].[EmailConfirmed], [t].[FullName], [t].[LockoutEnabled], [t].[LockoutEnd], [t].[MustChangePassword], [t].[NormalizedEmail], [t].[NormalizedUserName], [t].[PasswordHash], [t].[PhoneNumber], [t].[PhoneNumberConfirmed], [t].[SecurityStamp], [t].[TwoFactorEnabled], [t].[UserName]
FROM [Routes] AS [r]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t] ON [r].[Id] = [t].[RouteId]
ORDER BY [r].[Id], [t].[Id]
2025-07-29 09:17:56.528 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.RouteDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:17:56.528 +00:00 [INF] Executed action PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet) in 8.3642ms
2025-07-29 09:17:56.529 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.RoutesController.GetRoutes (PersonaXFleet)'
2025-07-29 09:17:56.529 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Routes - 200 null application/json; charset=utf-8 9.5857ms
2025-07-29 09:18:08.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:08.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:08.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:08.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:08.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:08.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:08.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:08.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:08.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:08.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:08.660 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:18:08.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:08.665 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:18:08.668 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:18:08.669 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.3889ms
2025-07-29 09:18:08.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:08.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8354ms
2025-07-29 09:18:08.670 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:18:08.672 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:08.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.4231ms
2025-07-29 09:18:08.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:08.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.139ms
2025-07-29 09:18:08.678 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:18:08.683 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:08.684 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.4637ms
2025-07-29 09:18:08.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:08.685 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7818ms
2025-07-29 09:18:29.652 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:29.652 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:29.652 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:29.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:29.654 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:29.654 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:18:29.658 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:18:29.658 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:18:29.661 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:29.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.7494ms
2025-07-29 09:18:29.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:29.664 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.0354ms
2025-07-29 09:18:29.665 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:18:29.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.049ms
2025-07-29 09:18:29.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:29.666 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.7457ms
2025-07-29 09:18:29.668 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:18:29.671 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:29.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.8037ms
2025-07-29 09:18:29.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:29.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2983ms
2025-07-29 09:18:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:38.154 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:18:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:18:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:38.154 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:38.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:18:38.154 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:18:38.158 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:18:38.160 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:18:38.162 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:18:38.162 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:18:38.165 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:38.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.0355ms
2025-07-29 09:18:38.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:18:38.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.7192ms
2025-07-29 09:18:38.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:18:38.167 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:18:38.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.0727ms
2025-07-29 09:18:38.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.7067ms
2025-07-29 09:18:38.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.4579ms
2025-07-29 09:18:38.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:18:38.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.9311ms
2025-07-29 09:19:08.164 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:08.165 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:08.165 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:08.166 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:08.166 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:08.167 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:08.167 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:08.167 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:08.167 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:08.167 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:08.167 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:08.168 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:19:08.175 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:19:08.178 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:19:08.182 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:19:08.187 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.9055ms
2025-07-29 09:19:08.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:08.187 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:08.190 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.15ms
2025-07-29 09:19:08.190 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:08.196 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:19:08.202 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:08.202 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.2747ms
2025-07-29 09:19:08.202 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 37.3882ms
2025-07-29 09:19:08.203 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.5801ms
2025-07-29 09:19:08.204 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:08.204 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 38.7478ms
2025-07-29 09:19:29.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:29.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:29.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:29.655 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:19:29.655 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:29.655 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:29.659 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:19:29.659 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:19:29.662 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:19:29.663 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:29.663 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.0502ms
2025-07-29 09:19:29.663 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.0977ms
2025-07-29 09:19:29.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:29.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:29.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.346ms
2025-07-29 09:19:29.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.2698ms
2025-07-29 09:19:29.667 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:19:29.669 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:29.669 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.6781ms
2025-07-29 09:19:29.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:29.669 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.6168ms
2025-07-29 09:19:38.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:38.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:38.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:19:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:19:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:38.159 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:38.159 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:19:38.159 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:19:38.161 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:19:38.163 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:19:38.165 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:38.165 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 6.1352ms
2025-07-29 09:19:38.165 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:19:38.165 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.4264ms
2025-07-29 09:19:38.170 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:19:38.170 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.3529ms
2025-07-29 09:19:38.170 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:19:38.175 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:19:38.177 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.3107ms
2025-07-29 09:19:38.177 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:19:38.178 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.2121ms
2025-07-29 09:19:38.178 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:19:38.178 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.0569ms
2025-07-29 09:20:08.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:08.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:08.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:08.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:08.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:08.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:08.654 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:08.654 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:08.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:08.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:08.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:08.655 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:20:08.667 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:20:08.670 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:08.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.6529ms
2025-07-29 09:20:08.671 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:08.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5827ms
2025-07-29 09:20:08.674 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:20:08.675 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:20:08.675 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:08.676 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 21.2459ms
2025-07-29 09:20:08.676 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:08.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.317ms
2025-07-29 09:20:08.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:20:08.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.9591ms
2025-07-29 09:20:08.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:08.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.5711ms
2025-07-29 09:20:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:29.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:29.669 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:29.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:29.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:29.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:29.670 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:20:29.671 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:20:29.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:20:29.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.1764ms
2025-07-29 09:20:29.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:29.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.1695ms
2025-07-29 09:20:29.677 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:20:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:29.687 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.8891ms
2025-07-29 09:20:29.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.1544ms
2025-07-29 09:20:29.692 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:20:29.693 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:29.694 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.0822ms
2025-07-29 09:20:29.694 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:29.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.1175ms
2025-07-29 09:20:38.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:38.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:38.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:20:38.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:38.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:38.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:20:38.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:38.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:38.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:38.665 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:38.665 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:20:38.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:20:38.669 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:20:38.669 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:20:38.671 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:38.671 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:20:38.671 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:20:38.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 6.201ms
2025-07-29 09:20:38.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:20:38.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.864ms
2025-07-29 09:20:38.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:20:38.674 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:20:38.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 9.2362ms
2025-07-29 09:20:38.675 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.4318ms
2025-07-29 09:20:38.675 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.8975ms
2025-07-29 09:20:38.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:20:38.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.1919ms
2025-07-29 09:21:29.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:21:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:21:29.677 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:21:29.677 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:21:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:21:29.679 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:21:29.687 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:21:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:21:29.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.8731ms
2025-07-29 09:21:29.690 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:21:29.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:21:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:21:29.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.4639ms
2025-07-29 09:21:29.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:21:29.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 15.9567ms
2025-07-29 09:21:29.694 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.7626ms
2025-07-29 09:21:29.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.694 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:21:29.698 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:21:29.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.698 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.698 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:21:29.698 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:21:29.703 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:21:29.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:21:29.706 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.0782ms
2025-07-29 09:21:29.706 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:21:29.706 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0063ms
2025-07-29 09:21:29.709 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:21:29.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:21:29.712 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.1919ms
2025-07-29 09:21:29.713 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:21:29.712 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:21:29.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:21:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.7558ms
2025-07-29 09:21:29.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:21:29.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:21:29.714 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:21:29.714 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:21:29.714 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.9339ms
2025-07-29 09:21:29.714 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:21:29.714 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.4192ms
2025-07-29 09:21:29.730 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:21:29.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:21:29.733 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.5086ms
2025-07-29 09:21:29.733 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:21:29.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.032ms
2025-07-29 09:22:34.411 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:34.415 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:34.415 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:34.415 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:34.415 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:34.415 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:34.415 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:34.415 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:34.465 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:22:34.465 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:34.466 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:22:34.466 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:34.466 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.8063ms
2025-07-29 09:22:34.466 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:34.502 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 86.2008ms
2025-07-29 09:22:34.502 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:34.502 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 94.6479ms
2025-07-29 09:22:34.503 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 88.2361ms
2025-07-29 09:22:34.694 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:34.695 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:34.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:34.695 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:34.901 +00:00 [INF] Executed DbCommand (123ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:22:34.901 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:34.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 206.8602ms
2025-07-29 09:22:34.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:34.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 207.8221ms
2025-07-29 09:22:35.271 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:35.271 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:35.271 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:35.271 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:35.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:35.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:35.273 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:35.273 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:35.273 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:35.273 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:35.273 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:35.273 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:35.304 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:22:35.338 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:35.339 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 67.5446ms
2025-07-29 09:22:35.339 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:35.372 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 101.1586ms
2025-07-29 09:22:35.410 +00:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:22:35.413 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:35.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 140.7654ms
2025-07-29 09:22:35.414 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:35.414 +00:00 [INF] Executed DbCommand (136ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:22:35.419 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 141.5738ms
2025-07-29 09:22:35.421 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:35.431 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 157.6459ms
2025-07-29 09:22:35.431 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:35.435 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 162.2086ms
2025-07-29 09:22:38.167 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:38.168 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:38.168 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:38.168 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:38.168 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:38.168 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:38.168 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:38.168 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:38.168 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:38.180 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:38.338 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:38.338 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:22:38.356 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:22:38.357 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:38.357 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.513ms
2025-07-29 09:22:38.357 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:22:38.357 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 190.3835ms
2025-07-29 09:22:38.358 +00:00 [INF] Executed DbCommand (175ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:22:38.371 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:22:38.375 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:38.375 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 207.2977ms
2025-07-29 09:22:38.376 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:22:38.375 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:38.376 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 209.0628ms
2025-07-29 09:22:38.376 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 207.5441ms
2025-07-29 09:22:38.376 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:38.376 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 208.5212ms
2025-07-29 09:22:42.232 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:22:42.235 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:22:42.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.233 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:22:42.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.235 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 3.0593ms
2025-07-29 09:22:42.235 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 3.0251ms
2025-07-29 09:22:42.236 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.236 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 1.3493ms
2025-07-29 09:22:42.236 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:22:42.236 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:22:42.236 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.236 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:22:42.236 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.5536ms
2025-07-29 09:22:42.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.237 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:22:42.237 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.4119ms
2025-07-29 09:22:42.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.237 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:22:42.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.237 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.8129ms
2025-07-29 09:22:42.237 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.1395ms
2025-07-29 09:22:42.237 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.6451ms
2025-07-29 09:22:42.245 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:22:42.245 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:22:42.245 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:22:42.246 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:22:42.246 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.246 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.246 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.246 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.246 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:22:42.246 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:22:42.246 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:22:42.246 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:42.246 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:22:42.246 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:22:42.246 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:22:42.246 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:22:42.252 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:22:42.252 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:22:42.254 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.255 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.1097ms
2025-07-29 09:22:42.255 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:42.255 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 9.7239ms
2025-07-29 09:22:42.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:22:42.260 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:22:42.260 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:42.260 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:22:42.260 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.260 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 13.7894ms
2025-07-29 09:22:42.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:22:42.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 15.5106ms
2025-07-29 09:22:42.264 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:22:42.267 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:22:42.268 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.268 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.268 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.268 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:22:42.268 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 21.5561ms
2025-07-29 09:22:42.268 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.0096ms
2025-07-29 09:22:42.268 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:22:42.268 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:42.268 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.268 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 9.3504ms
2025-07-29 09:22:42.268 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 23.3269ms
2025-07-29 09:22:42.268 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:22:42.270 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:22:42.270 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.273 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.273 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:22:42.273 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.273 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:22:42.273 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:22:42.275 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.277 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.281 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:22:42.283 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.283 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 12.4703ms
2025-07-29 09:22:42.283 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:22:42.283 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 15.2763ms
2025-07-29 09:22:42.284 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.289 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.291 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:22:42.291 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.291 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.291 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 17.7397ms
2025-07-29 09:22:42.291 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:22:42.291 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 18.2461ms
2025-07-29 09:22:42.292 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.294 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.295 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.296 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.298 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.299 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.301 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.303 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.305 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.307 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.308 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.309 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.311 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.312 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.314 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.315 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.316 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.318 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.320 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.321 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.323 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.325 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.326 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.327 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.328 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.330 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.331 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.333 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.334 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.337 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.339 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.340 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.343 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.344 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.347 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.349 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.351 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.354 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.356 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.358 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.360 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.361 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.363 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.364 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.365 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.367 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.369 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.371 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.373 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.375 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.377 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.378 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.380 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.381 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.382 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.384 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.386 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.388 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.390 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.391 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.394 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.396 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.399 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.400 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.402 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.404 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.405 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.407 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.409 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.411 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.413 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.415 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.416 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.418 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.420 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.422 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.422 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.424 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 177.8888ms
2025-07-29 09:22:42.425 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:22:42.425 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 179.8583ms
2025-07-29 09:22:42.427 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:22:42.427 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:42.427 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:22:42.427 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:22:42.431 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:22:42.437 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.440 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.442 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.444 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.446 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.448 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.451 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.454 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.456 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.458 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.460 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.462 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.464 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.465 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.467 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.469 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.473 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.474 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.476 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.477 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.479 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.482 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.483 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.486 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.488 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.491 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.494 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.496 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.498 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.501 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.507 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.518 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.523 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.525 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.529 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.531 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.533 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.535 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.537 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.539 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.540 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.542 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.548 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.554 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.558 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.561 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.564 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.566 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.569 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.571 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.573 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.575 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.576 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.578 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.581 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.583 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.586 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.588 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.589 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.591 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.593 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.595 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.598 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.636 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:22:42.637 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:42.639 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 211.8975ms
2025-07-29 09:22:42.639 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:22:42.639 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 213.0211ms
2025-07-29 09:22:45.885 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.885 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.885 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.885 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:22:45.885 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:22:45.885 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:22:45.886 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.885 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.886 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.886 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.6397ms
2025-07-29 09:22:45.886 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:45.886 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.886 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:22:45.886 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:22:45.886 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.4849ms
2025-07-29 09:22:45.886 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.886 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:22:45.886 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.891 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.892 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:22:45.894 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.894 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:22:45.901 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.903 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 16.243ms
2025-07-29 09:22:45.903 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:45.903 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 17.5728ms
2025-07-29 09:22:45.909 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:22:45.909 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.909 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.909 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:45.909 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:22:45.909 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:22:45.909 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.909 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 22.9772ms
2025-07-29 09:22:45.909 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:22:45.909 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 24.2538ms
2025-07-29 09:22:45.911 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.913 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:22:45.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.914 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 27.5467ms
2025-07-29 09:22:45.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:22:45.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 28.7553ms
2025-07-29 09:22:45.920 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:22:45.920 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.920 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:22:45.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 11.5878ms
2025-07-29 09:22:45.921 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.927 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:22:45.927 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.927 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:22:45.928 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.928 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:22:45.929 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 22.3803ms
2025-07-29 09:22:45.934 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.937 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.934 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 43.7648ms
2025-07-29 09:22:45.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 16.2258ms
2025-07-29 09:22:45.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:22:45.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:22:45.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 10.0595ms
2025-07-29 09:22:45.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:22:45.938 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 18.4692ms
2025-07-29 09:22:45.938 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.3778ms
2025-07-29 09:22:45.939 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 12.3321ms
2025-07-29 09:22:45.941 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.941 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.941 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:22:45.941 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.944 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.945 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:22:45.945 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.946 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.0008ms
2025-07-29 09:22:45.948 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:22:45.949 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.949 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 7.3817ms
2025-07-29 09:22:45.949 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:22:45.949 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.949 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.8634ms
2025-07-29 09:22:45.949 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.950 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:45.950 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.976 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:22:45.976 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.976 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.859ms
2025-07-29 09:22:45.976 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:45.977 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.8833ms
2025-07-29 09:22:45.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:22:45.979 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:45.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:45.980 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:45.983 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:22:45.985 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:22:45.985 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 5.6265ms
2025-07-29 09:22:45.985 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:22:45.985 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.016ms
2025-07-29 09:22:50.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - null null
2025-07-29 09:22:50.519 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - null null
2025-07-29 09:22:50.519 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:22:50.520 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:50.520 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:50.520 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:50.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:22:50.520 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:22:50.520 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 204 null null 0.925ms
2025-07-29 09:22:50.522 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:22:50.525 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:22:50.525 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:22:50.525 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:50.525 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:50.530 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:22:50.545 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:22:50.570 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:22:50.572 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:50.586 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 60.5343ms
2025-07-29 09:22:50.586 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:22:50.586 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - 200 null application/json; charset=utf-8 67.1159ms
2025-07-29 09:22:50.600 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-29 09:22:50.670 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:22:50.699 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:22:50.702 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:50.706 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 180.445ms
2025-07-29 09:22:50.706 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:22:50.706 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - 200 null application/json; charset=utf-8 187.0113ms
2025-07-29 09:22:50.722 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:22:50.737 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 206.7914ms
2025-07-29 09:22:50.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:22:50.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 200 null application/json; charset=utf-8 215.6051ms
2025-07-29 09:23:08.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:08.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:08.158 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:08.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:08.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:08.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:08.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:08.159 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:08.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:08.159 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:08.159 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:23:08.159 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:08.165 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:23:08.165 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:23:08.166 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:08.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.6259ms
2025-07-29 09:23:08.166 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:23:08.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:08.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.7163ms
2025-07-29 09:23:08.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:08.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.9663ms
2025-07-29 09:23:08.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.9858ms
2025-07-29 09:23:08.203 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:23:08.203 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:08.203 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.364ms
2025-07-29 09:23:08.203 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:08.203 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.2768ms
2025-07-29 09:23:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:29.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:29.675 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:29.675 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:29.683 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:23:29.684 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:23:29.685 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:23:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:29.691 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:23:29.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.2869ms
2025-07-29 09:23:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.2872ms
2025-07-29 09:23:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:29.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.992ms
2025-07-29 09:23:29.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.2593ms
2025-07-29 09:23:29.737 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:23:29.737 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:29.737 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.4819ms
2025-07-29 09:23:29.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:29.738 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 62.4182ms
2025-07-29 09:23:38.157 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:38.157 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:38.157 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:23:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:38.158 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:23:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:38.158 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:38.158 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:23:38.158 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:23:38.161 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:23:38.162 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:23:38.163 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:38.163 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.4257ms
2025-07-29 09:23:38.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:23:38.165 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.2905ms
2025-07-29 09:23:38.165 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:23:38.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.8933ms
2025-07-29 09:23:38.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:23:38.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.4019ms
2025-07-29 09:23:38.168 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:23:38.170 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:23:38.170 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.9381ms
2025-07-29 09:23:38.170 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:23:38.170 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.0449ms
2025-07-29 09:24:08.166 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:08.166 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:08.167 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:08.167 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:08.167 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:08.167 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:08.169 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:08.169 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:08.187 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:24:08.187 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:24:08.187 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:08.188 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:08.188 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:08.188 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:08.188 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:24:08.188 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:24:08.188 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.7454ms
2025-07-29 09:24:08.188 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.7614ms
2025-07-29 09:24:08.188 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:08.188 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:08.189 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.3289ms
2025-07-29 09:24:08.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.0111ms
2025-07-29 09:24:08.198 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:24:08.199 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:08.200 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.2322ms
2025-07-29 09:24:08.200 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:08.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.9806ms
2025-07-29 09:24:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:29.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:29.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:29.661 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:24:29.677 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:24:29.677 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:24:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:24:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.351ms
2025-07-29 09:24:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.2773ms
2025-07-29 09:24:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.5436ms
2025-07-29 09:24:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.9268ms
2025-07-29 09:24:29.684 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:24:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:29.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.7552ms
2025-07-29 09:24:29.689 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:29.689 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.9975ms
2025-07-29 09:24:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:24:38.153 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:38.153 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:38.153 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:24:38.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:38.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:38.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:38.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:24:38.154 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:38.154 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:24:38.158 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:24:38.159 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:24:38.159 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 5.5628ms
2025-07-29 09:24:38.159 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:24:38.159 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:24:38.160 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.3649ms
2025-07-29 09:24:38.161 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:38.161 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.4762ms
2025-07-29 09:24:38.161 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:24:38.161 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.6683ms
2025-07-29 09:24:38.166 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:24:38.171 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:24:38.172 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.5924ms
2025-07-29 09:24:38.172 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:24:38.172 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.3945ms
2025-07-29 09:25:08.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:08.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:08.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:08.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:08.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:08.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:08.154 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:08.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:08.154 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:08.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:08.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:08.154 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:08.162 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:25:08.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:08.162 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.2615ms
2025-07-29 09:25:08.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:08.167 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:25:08.168 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.9134ms
2025-07-29 09:25:08.169 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:08.169 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.0799ms
2025-07-29 09:25:08.170 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:25:08.170 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:08.171 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:08.172 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.8948ms
2025-07-29 09:25:08.172 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.8869ms
2025-07-29 09:25:08.172 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:08.172 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.9941ms
2025-07-29 09:25:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:29.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:29.676 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:29.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:29.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:29.680 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:29.683 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:29.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:29.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:29.688 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:29.689 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:25:29.693 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:25:29.696 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:29.697 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.6714ms
2025-07-29 09:25:29.698 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:29.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:29.698 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.8941ms
2025-07-29 09:25:29.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.0528ms
2025-07-29 09:25:29.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.2052ms
2025-07-29 09:25:29.712 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:25:29.713 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:29.713 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.7951ms
2025-07-29 09:25:29.713 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.2178ms
2025-07-29 09:25:38.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:38.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:38.152 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:38.152 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:38.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:25:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:38.155 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:38.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:38.155 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:38.158 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:38.158 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:38.158 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:25:38.165 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:25:38.166 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:38.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.5668ms
2025-07-29 09:25:38.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:25:38.169 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.8353ms
2025-07-29 09:25:38.170 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:25:38.179 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:38.179 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.4304ms
2025-07-29 09:25:38.179 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:25:38.181 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.6181ms
2025-07-29 09:25:38.232 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:25:38.233 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:25:38.233 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 75.1191ms
2025-07-29 09:25:38.234 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:25:38.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 81.5898ms
2025-07-29 09:25:43.969 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:25:43.969 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:43.969 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 204 null null 0.5647ms
2025-07-29 09:25:43.970 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - null null
2025-07-29 09:25:43.971 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - null null
2025-07-29 09:25:43.971 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:43.971 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:25:43.971 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:43.973 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:25:43.972 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:43.973 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:25:43.973 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:25:43.973 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:25:43.973 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:43.973 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:25:43.982 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:25:43.984 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:43.988 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 14.6089ms
2025-07-29 09:25:43.995 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:25:43.998 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - 200 null application/json; charset=utf-8 26.6385ms
2025-07-29 09:25:44.005 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:25:44.033 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:25:44.033 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:25:44.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:44.034 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 62.7908ms
2025-07-29 09:25:44.034 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:25:44.035 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - 200 null application/json; charset=utf-8 64.8189ms
2025-07-29 09:25:44.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:25:44.050 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 76.7264ms
2025-07-29 09:25:44.050 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:25:44.051 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 200 null application/json; charset=utf-8 78.2436ms
2025-07-29 09:26:08.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:08.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:08.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:08.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:08.659 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:08.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:08.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:08.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:08.662 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:08.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:08.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:08.662 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:26:08.678 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:26:08.679 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:26:08.679 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:26:08.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.3768ms
2025-07-29 09:26:08.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:08.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:08.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.3018ms
2025-07-29 09:26:08.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:08.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.7556ms
2025-07-29 09:26:08.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.4002ms
2025-07-29 09:26:08.709 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:26:08.709 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:08.709 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.2497ms
2025-07-29 09:26:08.709 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:08.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 49.1262ms
2025-07-29 09:26:29.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:29.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:29.659 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:29.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:29.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:29.659 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:26:29.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:29.679 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:26:29.679 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:26:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:26:29.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.3502ms
2025-07-29 09:26:29.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.303ms
2025-07-29 09:26:29.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:29.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:29.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.6913ms
2025-07-29 09:26:29.689 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:26:29.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.1223ms
2025-07-29 09:26:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.9767ms
2025-07-29 09:26:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:29.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.3755ms
2025-07-29 09:26:38.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:38.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:38.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:26:38.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:38.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:38.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:26:38.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:38.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:38.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:38.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:26:38.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:38.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:26:38.670 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:26:38.673 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:38.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.4924ms
2025-07-29 09:26:38.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:26:38.675 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:26:38.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.6039ms
2025-07-29 09:26:38.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:26:38.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.9278ms
2025-07-29 09:26:38.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:26:38.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.0976ms
2025-07-29 09:26:38.684 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:26:38.697 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:26:38.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.9904ms
2025-07-29 09:26:38.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:26:38.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.7533ms
2025-07-29 09:27:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:27:29.670 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:27:29.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:27:29.672 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:27:29.686 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:27:29.686 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:27:29.688 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:27:29.688 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:27:29.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.9955ms
2025-07-29 09:27:29.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1044ms
2025-07-29 09:27:29.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:27:29.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:27:29.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:27:29.688 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:27:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.0386ms
2025-07-29 09:27:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.3754ms
2025-07-29 09:27:29.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:27:29.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:27:29.701 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:27:29.701 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:27:29.713 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:27:29.720 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:27:29.720 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:27:29.720 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.934ms
2025-07-29 09:27:29.720 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:27:29.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.004ms
2025-07-29 09:27:29.721 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:27:29.721 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.3422ms
2025-07-29 09:27:29.721 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:27:29.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.3226ms
2025-07-29 09:27:29.756 +00:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:27:29.756 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:27:29.756 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 67.7202ms
2025-07-29 09:27:29.756 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:27:29.756 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 69.8116ms
2025-07-29 09:27:29.758 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:27:29.758 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:27:29.758 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:27:29.758 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:27:29.762 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:27:29.764 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:27:29.764 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 5.9447ms
2025-07-29 09:27:29.764 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:27:29.764 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.9703ms
2025-07-29 09:28:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:28:29.663 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:28:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:28:29.665 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:28:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:28:29.670 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:28:29.686 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:28:29.687 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:28:29.693 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:28:29.694 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.9117ms
2025-07-29 09:28:29.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:28:29.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:28:29.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.4046ms
2025-07-29 09:28:29.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:28:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5369ms
2025-07-29 09:28:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.579ms
2025-07-29 09:28:29.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:28:29.699 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:28:29.701 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:28:29.701 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:28:29.712 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:28:29.713 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:28:29.715 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:28:29.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.4339ms
2025-07-29 09:28:29.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:28:29.716 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:28:29.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.1391ms
2025-07-29 09:28:29.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.9835ms
2025-07-29 09:28:29.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:28:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.0225ms
2025-07-29 09:28:29.722 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:28:29.722 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:28:29.722 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.9915ms
2025-07-29 09:28:29.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:28:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.9111ms
2025-07-29 09:28:29.724 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:28:29.725 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:28:29.725 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:28:29.725 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:28:29.728 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:28:29.730 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:28:29.730 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 4.8756ms
2025-07-29 09:28:29.730 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:28:29.730 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 5.9241ms
2025-07-29 09:29:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:29.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:29.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:29.663 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:29.677 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:29:29.677 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:29:29.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:29.679 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:29.679 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.3281ms
2025-07-29 09:29:29.679 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.5071ms
2025-07-29 09:29:29.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:29.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.2204ms
2025-07-29 09:29:29.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 22.4622ms
2025-07-29 09:29:29.683 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:29.684 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:29.689 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:29.692 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:29.695 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:29:29.699 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:29:29.700 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:29.701 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:29.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.2112ms
2025-07-29 09:29:29.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.7168ms
2025-07-29 09:29:29.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:29.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:29.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.2655ms
2025-07-29 09:29:29.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 27.6053ms
2025-07-29 09:29:29.726 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:29:29.727 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:29.727 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.1591ms
2025-07-29 09:29:29.727 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:29.727 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 44.3288ms
2025-07-29 09:29:29.728 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:29.729 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:29.729 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:29.729 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:29.733 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:29:29.734 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:29.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 4.9514ms
2025-07-29 09:29:29.734 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:29.734 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 5.77ms
2025-07-29 09:29:37.114 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:29:37.114 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:37.114 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - null null
2025-07-29 09:29:37.114 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - null null
2025-07-29 09:29:37.115 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 204 null null 1.5885ms
2025-07-29 09:29:37.115 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:37.115 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:37.115 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:29:37.115 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:29:37.115 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:37.115 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:37.123 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:29:37.123 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:29:37.123 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - null null
2025-07-29 09:29:37.124 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:37.124 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:37.124 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 8.9541ms
2025-07-29 09:29:37.124 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:29:37.124 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:37.124 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:29:37.124 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/documents - 200 null application/json; charset=utf-8 10.2303ms
2025-07-29 09:29:37.141 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:29:37.142 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:37.142 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 27.0256ms
2025-07-29 09:29:37.142 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:29:37.142 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/comments - 200 null application/json; charset=utf-8 28.3735ms
2025-07-29 09:29:37.162 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:29:37.166 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:37.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 42.467ms
2025-07-29 09:29:37.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:29:37.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/c207a190-7df2-46de-b6e4-19cd517a9742/workflow-status - 200 null application/json; charset=utf-8 43.6184ms
2025-07-29 09:29:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:38.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:29:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:38.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:29:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:38.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:38.154 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:38.154 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:29:38.154 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:29:38.157 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:29:38.157 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:29:38.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:38.162 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.4255ms
2025-07-29 09:29:38.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:29:38.163 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.0604ms
2025-07-29 09:29:38.163 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:29:38.163 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.3156ms
2025-07-29 09:29:38.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:29:38.165 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:29:38.165 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.3104ms
2025-07-29 09:29:38.167 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:29:38.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.9001ms
2025-07-29 09:29:38.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:29:38.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.0272ms
2025-07-29 09:30:08.163 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:08.163 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:08.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:08.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:08.164 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:08.164 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:08.164 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:08.164 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:08.181 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:30:08.193 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:30:08.194 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.5675ms
2025-07-29 09:30:08.194 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:08.194 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.1799ms
2025-07-29 09:30:08.194 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:08.194 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:08.194 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:08.197 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:30:08.210 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:30:08.211 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:08.211 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.1272ms
2025-07-29 09:30:08.211 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:08.212 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.8969ms
2025-07-29 09:30:08.232 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:30:08.242 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:08.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.2171ms
2025-07-29 09:30:08.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:08.243 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.8704ms
2025-07-29 09:30:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:29.676 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:30:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:30:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.577ms
2025-07-29 09:30:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:29.678 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 18.5506ms
2025-07-29 09:30:29.683 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:29.683 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:30:29.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:29.684 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:29.684 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.4489ms
2025-07-29 09:30:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.5997ms
2025-07-29 09:30:29.686 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:29.686 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:30:29.729 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:30:29.729 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:29.729 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.9624ms
2025-07-29 09:30:29.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:29.729 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 46.7784ms
2025-07-29 09:30:38.174 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:38.174 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:38.174 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:30:38.174 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:38.174 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:38.174 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:30:38.175 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:38.175 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:38.175 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:38.175 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:30:38.175 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:38.175 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:30:38.179 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:30:38.182 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:30:38.183 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:38.185 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:30:38.186 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.1595ms
2025-07-29 09:30:38.186 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.1812ms
2025-07-29 09:30:38.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:30:38.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:30:38.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.1835ms
2025-07-29 09:30:38.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.1897ms
2025-07-29 09:30:38.193 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:30:38.198 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:30:38.199 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.4715ms
2025-07-29 09:30:38.199 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:30:38.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0503ms
2025-07-29 09:31:08.149 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:08.150 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:08.150 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:08.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:08.150 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:08.150 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:08.150 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:08.151 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:08.152 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:08.152 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:08.152 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:08.152 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:08.167 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:31:08.169 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:31:08.169 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:08.170 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.4045ms
2025-07-29 09:31:08.170 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:31:08.171 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:08.171 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:08.172 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4638ms
2025-07-29 09:31:08.172 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:08.180 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.5007ms
2025-07-29 09:31:08.181 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.4545ms
2025-07-29 09:31:08.181 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:08.182 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.7127ms
2025-07-29 09:31:08.182 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:08.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.8689ms
2025-07-29 09:31:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:29.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:29.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:29.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:29.658 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:29.659 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:29.664 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:31:29.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:29.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.4347ms
2025-07-29 09:31:29.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:29.667 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.8739ms
2025-07-29 09:31:29.668 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:31:29.669 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:29.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.3747ms
2025-07-29 09:31:29.670 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:29.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 14.9309ms
2025-07-29 09:31:29.690 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:31:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:29.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.1553ms
2025-07-29 09:31:29.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:29.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.6498ms
2025-07-29 09:31:38.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:38.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:38.162 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:31:38.162 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:38.162 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:38.162 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:38.162 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:38.162 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:38.162 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:38.162 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:38.162 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:38.162 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:31:38.165 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:31:38.166 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:31:38.167 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:38.167 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:38.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 4.5349ms
2025-07-29 09:31:38.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 4.7068ms
2025-07-29 09:31:38.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:31:38.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:31:38.169 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.3983ms
2025-07-29 09:31:38.171 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.2365ms
2025-07-29 09:31:38.171 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:31:38.172 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:31:38.173 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 10.1151ms
2025-07-29 09:31:38.173 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:31:38.191 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.0334ms
2025-07-29 09:31:54.144 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - null null
2025-07-29 09:31:54.144 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:54.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/comments - null null
2025-07-29 09:31:54.144 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/documents - null null
2025-07-29 09:31:54.144 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - 204 null null 0.6852ms
2025-07-29 09:31:54.144 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:54.144 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:54.144 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:31:54.145 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:54.145 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:31:54.145 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:54.147 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - null null
2025-07-29 09:31:54.149 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:31:54.149 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:31:54.149 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:31:54.156 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:31:54.156 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:31:54.167 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:54.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 22.15ms
2025-07-29 09:31:54.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:31:54.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/documents - 200 null application/json; charset=utf-8 22.9399ms
2025-07-29 09:31:54.175 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:31:54.176 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:54.176 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 30.4524ms
2025-07-29 09:31:54.176 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:31:54.176 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/comments - 200 null application/json; charset=utf-8 31.858ms
2025-07-29 09:31:54.198 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:31:54.199 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:31:54.199 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 50.0804ms
2025-07-29 09:31:54.200 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:31:54.200 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - 200 null application/json; charset=utf-8 53.4748ms
2025-07-29 09:32:02.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-07-29 09:32:02.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-07-29 09:32:02.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:32:02.895 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.895 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.896 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:32:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-07-29 09:32:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-07-29 09:32:02.896 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.6708ms
2025-07-29 09:32:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.897 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 1.8481ms
2025-07-29 09:32:02.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.904 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:32:02.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:32:02.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 17.1716ms
2025-07-29 09:32:02.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:02.914 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.914 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 18.5802ms
2025-07-29 09:32:02.918 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:32:02.918 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.918 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:02.918 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:32:02.918 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.926 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:32:02.926 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.926 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 8.1342ms
2025-07-29 09:32:02.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:02.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 9.6466ms
2025-07-29 09:32:02.935 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:32:02.948 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.948 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.948 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 34.1775ms
2025-07-29 09:32:02.948 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-07-29 09:32:02.948 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 53.5311ms
2025-07-29 09:32:02.950 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - null null
2025-07-29 09:32:02.951 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.951 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-07-29 09:32:02.951 +00:00 [INF] Route matched with {action = "GetApprovedRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.953 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.954 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 40.1436ms
2025-07-29 09:32:02.955 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-07-29 09:32:02.958 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 62.9291ms
2025-07-29 09:32:02.958 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.958 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - null null
2025-07-29 09:32:02.959 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.959 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.959 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-07-29 09:32:02.959 +00:00 [INF] Route matched with {action = "GetRequestsBeforeApproval", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestsBeforeApproval() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.959 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.959 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet) in 8.4317ms
2025-07-29 09:32:02.959 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetApprovedRequests (PersonaXFleet)'
2025-07-29 09:32:02.960 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ApprovedRequests - 200 null application/json; charset=utf-8 9.54ms
2025-07-29 09:32:02.960 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.963 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[Status] NOT IN (1, 2)
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.965 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.966 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet) in 6.2477ms
2025-07-29 09:32:02.966 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetRequestsBeforeApproval (PersonaXFleet)'
2025-07-29 09:32:02.966 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/RequestsBeforeApproval - 200 null application/json; charset=utf-8 7.7312ms
2025-07-29 09:32:02.966 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 47.3228ms
2025-07-29 09:32:02.966 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:32:02.966 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 67.3082ms
2025-07-29 09:32:02.968 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.969 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.969 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:32:02.969 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.973 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:32:02.974 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.975 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.976 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 2.1891ms
2025-07-29 09:32:02.978 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:32:02.978 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:02.978 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 9.6006ms
2025-07-29 09:32:02.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-07-29 09:32:02.979 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:32:02.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-07-29 09:32:02.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:02.979 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.3657ms
2025-07-29 09:32:02.979 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.979 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.979 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:02.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:02.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-07-29 09:32:02.979 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:02.983 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.983 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:02.984 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:03.012 +00:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-07-29 09:32:03.034 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:03.035 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType65`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:03.036 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 52.5783ms
2025-07-29 09:32:03.036 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-07-29 09:32:03.036 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 57.9817ms
2025-07-29 09:32:03.037 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:32:03.038 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:32:03.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:03.040 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:03.040 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-07-29 09:32:03.040 +00:00 [INF] Route matched with {action = "GetMyPendingVehicleActions", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingVehicleActions(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:03.048 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName] AS [RequestorName], [v].[RequestReason], [v].[RequestDate], [v].[CurrentStage], [v].[Status], [r].[Name] AS [RouteName], [v1].[Id], [v1].[Make], [v1].[Model], [v1].[LicensePlate]
FROM [UserRouteRoles] AS [u]
INNER JOIN [VehicleAssignmentRequests] AS [v] ON [u].[RouteId] = [v].[CurrentRouteId]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v1] ON [v].[VehicleId] = [v1].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [v].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [VehicleAssignmentTransactions] AS [v0]
    WHERE [v0].[VehicleAssignmentRequestId] = [v].[Id] AND [v0].[Stage] = [v].[CurrentStage] AND [v0].[UserId] = @__userId_0 AND [v0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:03.048 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType65`9[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:03.048 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet) in 8.5608ms
2025-07-29 09:32:03.048 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyPendingVehicleActions (PersonaXFleet)'
2025-07-29 09:32:03.049 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.6871ms
2025-07-29 09:32:03.067 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:03.067 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 83.7039ms
2025-07-29 09:32:03.068 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:03.068 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 88.7637ms
2025-07-29 09:32:03.088 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:03.088 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 104.2494ms
2025-07-29 09:32:03.088 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:03.088 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 109.3361ms
2025-07-29 09:32:05.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/comments - null null
2025-07-29 09:32:05.501 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-07-29 09:32:05.503 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:05.503 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:05.503 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet)'
2025-07-29 09:32:05.503 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 204 null null 2.756ms
2025-07-29 09:32:05.506 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - null null
2025-07-29 09:32:05.506 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:05.507 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:05.507 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:05.511 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:32:05.513 +00:00 [INF] Route matched with {action = "GetAllVehicleRequestComments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVehicleRequestComments(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:32:05.517 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:05.517 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 10.7156ms
2025-07-29 09:32:05.518 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:32:05.518 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/workflow-status - 200 null application/json; charset=utf-8 12.5228ms
2025-07-29 09:32:05.531 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId]
FROM [VehicleAssignmentRequests] AS [v]
WHERE [v].[Id] = @__id_0
2025-07-29 09:32:05.553 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[UserName] AS [User], [v].[Stage], [v].[Comments] AS [Comment], [v].[UserId], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[VehicleAssignmentRequestId] = @__id_0 AND [v].[Comments] NOT LIKE N'' AND [v].[Stage] <> N'Create'
ORDER BY [v].[Timestamp]
2025-07-29 09:32:05.553 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType63`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:05.555 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet) in 42.0493ms
2025-07-29 09:32:05.556 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet)'
2025-07-29 09:32:05.556 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/0556b180-d5c9-48da-82fe-f9508f6471a9/comments - 200 null application/json; charset=utf-8 54.9274ms
2025-07-29 09:32:08.151 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:08.151 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:08.151 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:08.151 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:08.151 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:08.152 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:08.151 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:08.152 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:08.152 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:08.152 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:08.152 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:08.152 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:08.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:32:08.154 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:32:08.156 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:08.157 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:08.157 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 4.8427ms
2025-07-29 09:32:08.157 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 5.2537ms
2025-07-29 09:32:08.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:08.158 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:08.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.6886ms
2025-07-29 09:32:08.159 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 7.6749ms
2025-07-29 09:32:08.161 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:08.163 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:08.163 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 10.5713ms
2025-07-29 09:32:08.163 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:08.163 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.9255ms
2025-07-29 09:32:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:29.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:29.668 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:32:29.669 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:32:29.670 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:29.670 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:29.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.3093ms
2025-07-29 09:32:29.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.3925ms
2025-07-29 09:32:29.670 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:29.670 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:29.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.9757ms
2025-07-29 09:32:29.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.7502ms
2025-07-29 09:32:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:29.676 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:29.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:29.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:29.712 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:29.712 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:29.712 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.407ms
2025-07-29 09:32:29.712 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:29.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 41.3503ms
2025-07-29 09:32:38.169 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:38.170 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:38.171 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:38.171 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:38.171 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:38.171 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:38.171 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:38.171 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:32:38.172 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:38.172 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:38.172 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:38.172 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:38.186 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:32:38.200 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:32:38.200 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:32:38.200 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.8204ms
2025-07-29 09:32:38.200 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:32:38.201 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.725ms
2025-07-29 09:32:38.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:38.205 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.3208ms
2025-07-29 09:32:38.205 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:32:38.205 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 35.6583ms
2025-07-29 09:32:38.224 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:38.226 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:38.227 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.5178ms
2025-07-29 09:32:38.227 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:38.227 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.7591ms
2025-07-29 09:32:53.877 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.878 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.878 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.878 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.878 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.9822ms
2025-07-29 09:32:53.878 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.5382ms
2025-07-29 09:32:53.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:32:53.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:32:53.878 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:32:53.878 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.878 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.878 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:53.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:32:53.878 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:32:53.879 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:32:53.879 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.879 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.881 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.882 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.883 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:32:53.883 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.885 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:32:53.885 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.890 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 11.0096ms
2025-07-29 09:32:53.892 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:53.892 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:32:53.894 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 15.923ms
2025-07-29 09:32:53.894 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:53.894 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:32:53.897 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.898 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.898 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:32:53.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 19.653ms
2025-07-29 09:32:53.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:32:53.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 19.8465ms
2025-07-29 09:32:53.899 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:32:53.899 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 20.6752ms
2025-07-29 09:32:53.899 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 20.8398ms
2025-07-29 09:32:53.900 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:32:53.903 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:32:53.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:32:53.904 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 9.6701ms
2025-07-29 09:32:53.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:32:53.904 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:32:53.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:32:53.904 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.904 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.904 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 12.2343ms
2025-07-29 09:32:53.911 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.911 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.911 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 29.826ms
2025-07-29 09:32:53.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 9.0426ms
2025-07-29 09:32:53.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:32:53.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:32:53.913 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 32.8387ms
2025-07-29 09:32:53.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 10.3073ms
2025-07-29 09:32:53.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 9.2841ms
2025-07-29 09:32:53.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:32:53.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 10.5467ms
2025-07-29 09:32:53.916 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.917 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.917 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:32:53.917 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.920 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.920 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.920 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 204 null null 0.8842ms
2025-07-29 09:32:53.922 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:32:53.924 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.925 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.925 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:53.925 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.926 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:32:53.926 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.926 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 8.7867ms
2025-07-29 09:32:53.926 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:32:53.926 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 10.0862ms
2025-07-29 09:32:53.929 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:53.931 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.931 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 5.8702ms
2025-07-29 09:32:53.931 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:53.931 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.8537ms
2025-07-29 09:32:53.933 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:32:53.933 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:32:53.933 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:53.933 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:32:53.937 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:32:53.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:32:53.939 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 5.1844ms
2025-07-29 09:32:53.939 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:32:53.939 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.1311ms
2025-07-29 09:33:00.269 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:33:00.269 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:33:00.269 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 1.0054ms
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 1.4647ms
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.269 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 204 null null 0.2821ms
2025-07-29 09:33:00.269 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/vehicles - null null
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 1.5851ms
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 1.6581ms
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/AllAssignments - 204 null null 0.9417ms
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/vehicles - 204 null null 0.7306ms
2025-07-29 09:33:00.270 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - null null
2025-07-29 09:33:00.270 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.270 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Auth/users - 204 null null 0.0778ms
2025-07-29 09:33:00.277 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:33:00.277 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:33:00.277 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:33:00.277 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:33:00.278 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.278 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.278 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.278 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:33:00.278 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:33:00.278 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:33:00.278 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:00.278 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:00.278 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:33:00.282 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.282 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:33:00.282 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:33:00.286 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:33:00.289 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.290 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 11.8125ms
2025-07-29 09:33:00.290 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:33:00.292 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:33:00.293 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 15.3268ms
2025-07-29 09:33:00.302 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/vehicles - null null
2025-07-29 09:33:00.303 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.303 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:33:00.303 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:33:00.304 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:33:00.304 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.305 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 26.6292ms
2025-07-29 09:33:00.305 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:33:00.310 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 32.4372ms
2025-07-29 09:33:00.311 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - null null
2025-07-29 09:33:00.311 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.312 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:33:00.312 +00:00 [INF] Route matched with {action = "GetAllRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequests() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:00.314 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:33:00.316 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:33:00.318 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.320 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 15.1861ms
2025-07-29 09:33:00.320 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:33:00.320 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.320 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/vehicles - 200 null application/json; charset=utf-8 20.0688ms
2025-07-29 09:33:00.320 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 42.3865ms
2025-07-29 09:33:00.320 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:33:00.320 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 43.2117ms
2025-07-29 09:33:00.323 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.323 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [a].[UserName], [a].[Email], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], [r].[Name] AS [RouteName], [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:33:00.324 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType61`10[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.325 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - null null
2025-07-29 09:33:00.325 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet) in 11.1283ms
2025-07-29 09:33:00.325 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllRequests (PersonaXFleet)'
2025-07-29 09:33:00.325 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.325 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllRequests?status=Pending - 200 null application/json; charset=utf-8 14.4826ms
2025-07-29 09:33:00.325 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:33:00.325 +00:00 [INF] Route matched with {action = "GetAllAssignments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllAssignments() on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:00.327 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.329 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.331 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[UserId], [v].[Make], [v].[Model], [v].[LicensePlate], [a].[UserName], [a].[Email]
FROM [Vehicles] AS [v]
LEFT JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[UserId] IS NOT NULL
2025-07-29 09:33:00.332 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.333 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleAssignmentDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.333 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet) in 7.9491ms
2025-07-29 09:33:00.333 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllAssignments (PersonaXFleet)'
2025-07-29 09:33:00.333 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/AllAssignments - 200 null application/json; charset=utf-8 9.029ms
2025-07-29 09:33:00.335 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.336 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.338 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.340 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.341 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.343 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.345 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.348 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.349 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.351 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.352 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.353 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.355 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.356 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.358 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.374 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.387 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.390 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.391 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.393 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.395 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.397 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.399 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.402 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.405 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.408 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.411 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.412 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.414 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.416 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.417 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.419 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.420 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.422 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.424 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.427 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.430 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.432 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.434 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.436 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.439 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.441 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.444 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.446 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.449 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.451 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.452 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.454 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.456 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.459 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.461 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.468 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.469 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.472 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.474 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.476 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.478 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.480 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.482 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.483 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.485 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.486 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.487 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.489 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.491 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.493 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.495 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.497 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.499 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.500 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.502 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.504 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.505 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.508 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.510 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.512 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.513 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.515 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.516 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.517 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.519 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.520 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.522 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.524 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.526 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.528 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.528 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.530 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 248.0358ms
2025-07-29 09:33:00.530 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:33:00.530 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 252.883ms
2025-07-29 09:33:00.532 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Auth/users - null null
2025-07-29 09:33:00.532 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:00.533 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:33:00.533 +00:00 [INF] Route matched with {action = "GetAllUsers", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllUsers() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:33:00.534 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
2025-07-29 09:33:00.539 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.541 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.543 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.544 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.546 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.547 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.549 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.550 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.552 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.553 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.555 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.556 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.559 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.560 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.562 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.563 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.565 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.567 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.568 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.570 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.571 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.573 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.575 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.577 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.579 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.580 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.582 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.583 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.587 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.590 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.593 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.594 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.596 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.597 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.599 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.600 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.602 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.604 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.606 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.609 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.611 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.613 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.614 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.616 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.618 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.619 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.621 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.623 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.625 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.627 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.629 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.630 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.632 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.634 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.635 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.637 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.638 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.640 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.642 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.644 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.646 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.647 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.649 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.651 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.653 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.655 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.661 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.666 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.668 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.670 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.672 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.681 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.684 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.687 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.691 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.694 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.696 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.699 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.701 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.705 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.707 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.709 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.711 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.713 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.714 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.716 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.717 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:00.717 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.UserDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:00.720 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet) in 187.1748ms
2025-07-29 09:33:00.720 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.GetAllUsers (PersonaXFleet)'
2025-07-29 09:33:00.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Auth/users - 200 null application/json; charset=utf-8 188.7275ms
2025-07-29 09:33:08.161 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:08.161 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:08.161 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:08.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:08.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:08.163 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:08.163 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:08.164 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:08.164 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:08.164 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:08.164 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:08.164 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:08.171 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:33:08.174 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:33:08.175 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:08.177 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.4194ms
2025-07-29 09:33:08.177 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:08.178 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.625ms
2025-07-29 09:33:08.180 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:08.180 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.1124ms
2025-07-29 09:33:08.181 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:08.181 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.055ms
2025-07-29 09:33:08.185 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:33:08.187 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:08.187 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.2134ms
2025-07-29 09:33:08.187 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:08.187 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.0778ms
2025-07-29 09:33:23.161 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/login - null null
2025-07-29 09:33:23.162 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.162 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/login - 204 null null 1.5157ms
2025-07-29 09:33:23.167 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/auth/login - application/json 61
2025-07-29 09:33:23.168 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.168 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:33:23.192 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PersonaXFleet.Models.LoginModel) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:33:23.295 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-29 09:33:23.408 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:23.418 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RouteId], [r].[Name] AS [RouteName], [u].[Role]
FROM [UserRouteRoles] AS [u]
INNER JOIN [Routes] AS [r] ON [u].[RouteId] = [r].[Id]
WHERE [u].[UserId] = @__user_Id_0
2025-07-29 09:33:23.470 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:33:23.552 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:23.554 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet) in 362.2703ms
2025-07-29 09:33:23.554 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:33:23.555 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/auth/login - 200 null application/json; charset=utf-8 387.2364ms
2025-07-29 09:33:23.684 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.684 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:33:23.685 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 2.1264ms
2025-07-29 09:33:23.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.685 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.6425ms
2025-07-29 09:33:23.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:33:23.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:33:23.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:33:23.689 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:23.689 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:23.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.700 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:33:23.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:23.701 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:23.700 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.700 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.701 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:23.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:33:23.701 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:23.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.715 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:33:23.715 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:23.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.7682ms
2025-07-29 09:33:23.715 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:23.715 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.0406ms
2025-07-29 09:33:23.719 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:33:23.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.720 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:33:23.724 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.724 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.724 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:23.724 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.724 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:23.727 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 37.7124ms
2025-07-29 09:33:23.727 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:33:23.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 38.3786ms
2025-07-29 09:33:23.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:33:23.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.5985ms
2025-07-29 09:33:23.766 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:33:23.771 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.773 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:23.776 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 51.1536ms
2025-07-29 09:33:23.777 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:23.789 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:33:23.789 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.803 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:33:23.812 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:33:23.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:33:23.815 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.815 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:33:23.815 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:23.822 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 133.5444ms
2025-07-29 09:33:23.823 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 101.7694ms
2025-07-29 09:33:23.830 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.838 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 137.5862ms
2025-07-29 09:33:23.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 137.8941ms
2025-07-29 09:33:23.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:33:23.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:33:23.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 138.7631ms
2025-07-29 09:33:23.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 139.0228ms
2025-07-29 09:33:23.845 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:33:23.845 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.845 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.846 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:33:23.851 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:23.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 34.4355ms
2025-07-29 09:33:23.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:33:23.855 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.856 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 43.3446ms
2025-07-29 09:33:23.856 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:33:23.856 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:23.856 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:33:23.856 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:33:23.859 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.862 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:33:23.863 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.865 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 13.0916ms
2025-07-29 09:33:23.865 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.865 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:33:23.865 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:23.866 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.7684ms
2025-07-29 09:33:23.870 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:33:23.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.871 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:33:23.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 14.8528ms
2025-07-29 09:33:23.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:33:23.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:23.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.3103ms
2025-07-29 09:33:23.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 14.9398ms
2025-07-29 09:33:23.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:33:23.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.6998ms
2025-07-29 09:33:23.894 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:33:23.895 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:33:23.895 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 106.7305ms
2025-07-29 09:33:23.895 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.896 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 195.376ms
2025-07-29 09:33:23.898 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.900 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.900 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.901 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:33:23.904 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:33:23.905 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:33:23.905 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 4.6602ms
2025-07-29 09:33:23.905 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.905 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 7.4855ms
2025-07-29 09:33:23.909 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.909 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.909 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.909 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:33:23.912 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:33:23.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:33:23.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 5.3737ms
2025-07-29 09:33:23.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 6.6426ms
2025-07-29 09:33:23.917 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:23.918 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:23.918 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.918 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:33:23.922 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:33:23.923 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:33:23.924 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 5.3543ms
2025-07-29 09:33:23.924 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:33:23.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 6.9251ms
2025-07-29 09:33:25.032 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:33:25.032 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:25.033 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 0.7804ms
2025-07-29 09:33:25.035 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:33:25.037 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:25.038 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:33:25.042 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:33:25.061 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-29 09:33:25.064 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-29 09:33:25.064 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 21.8991ms
2025-07-29 09:33:25.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:33:25.065 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 29.7227ms
2025-07-29 09:33:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:29.669 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:29.669 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:29.684 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:33:29.684 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:33:29.686 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.7038ms
2025-07-29 09:33:29.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.5333ms
2025-07-29 09:33:29.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.9652ms
2025-07-29 09:33:29.689 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:29.695 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:33:29.698 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3473ms
2025-07-29 09:33:29.698 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:29.698 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:29.698 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:29.738 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:33:29.741 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:29.742 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.3484ms
2025-07-29 09:33:29.742 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:29.745 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 56.2324ms
2025-07-29 09:33:53.691 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:53.691 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:53.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:53.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:53.692 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:53.692 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:53.692 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:53.692 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:53.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:53.693 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:53.693 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:53.694 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:33:53.708 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:33:53.715 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:33:53.718 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:33:53.719 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.3214ms
2025-07-29 09:33:53.719 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:33:53.719 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.9759ms
2025-07-29 09:33:53.719 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:53.720 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.3942ms
2025-07-29 09:33:53.720 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:33:53.720 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.8827ms
2025-07-29 09:33:53.736 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:33:53.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:33:53.737 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.3473ms
2025-07-29 09:33:53.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:33:53.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.5906ms
2025-07-29 09:33:58.887 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:33:58.887 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:58.887 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.0194ms
2025-07-29 09:33:58.889 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - application/json 132
2025-07-29 09:33:58.891 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:33:58.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 09:33:58.914 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:33:58.969 +00:00 [INF] Creating personal maintenance request for user: 9E412790-A394-4EF7-8D7C-3CC21BE464DC
2025-07-29 09:33:58.978 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:33:58.994 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:33:59.028 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Department_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Department] = @__user_Department_0
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 09:33:59.049 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Department] = N'Default'
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 09:33:59.427 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 1000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 500), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MaintenanceRequests] ([MaintenanceId], [AdminComments], [CompletionDate], [CurrentRouteId], [CurrentStage], [Department], [Description], [EstimatedCost], [Priority], [RequestDate], [RequestType], [RequestedByUserId], [Status], [VehicleId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-29 09:33:59.460 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MaintenanceTransactions] ([Id], [Action], [Comments], [IsCompleted], [MaintenanceRequestId], [Timestamp], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-29 09:33:59.490 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[Comments], [m].[IsCompleted], [m].[MaintenanceRequestId], [m].[Timestamp], [m].[UserId]
FROM [MaintenanceTransactions] AS [m]
WHERE [m].[MaintenanceRequestId] = @__p_0
2025-07-29 09:34:07.077 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([Id], [ActionLink], [CreatedAt], [IsDeleted], [IsRead], [Message], [RelatedEntityId], [Title], [Type], [UserId], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-07-29 09:34:07.104 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__request_CurrentRouteId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Id] = @__request_CurrentRouteId_0
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 09:34:07.107 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:34:09.788 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:34:09.797 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 10882.1874ms
2025-07-29 09:34:09.797 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 09:34:09.797 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 10908.063ms
2025-07-29 09:34:21.296 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/comments - null null
2025-07-29 09:34:21.296 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:21.296 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet)'
2025-07-29 09:34:21.296 +00:00 [INF] Route matched with {action = "GetAllVehicleRequestComments", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllVehicleRequestComments(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:34:21.300 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId]
FROM [VehicleAssignmentRequests] AS [v]
WHERE [v].[Id] = @__id_0
2025-07-29 09:34:21.304 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[UserName] AS [User], [v].[Stage], [v].[Comments] AS [Comment], [v].[UserId], [v].[Timestamp]
FROM [VehicleAssignmentTransactions] AS [v]
INNER JOIN [AspNetUsers] AS [a] ON [v].[UserId] = [a].[Id]
WHERE [v].[VehicleAssignmentRequestId] = @__id_0 AND [v].[Comments] NOT LIKE N'' AND [v].[Stage] <> N'Create'
ORDER BY [v].[Timestamp]
2025-07-29 09:34:21.304 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType63`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:34:21.304 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet) in 7.7573ms
2025-07-29 09:34:21.304 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetAllVehicleRequestComments (PersonaXFleet)'
2025-07-29 09:34:21.304 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/comments - 200 null application/json; charset=utf-8 8.8259ms
2025-07-29 09:34:21.308 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - null null
2025-07-29 09:34:21.308 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:21.308 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:34:21.308 +00:00 [INF] Route matched with {action = "GetVehicleWorkflowStatus", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehicleWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:34:21.323 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[CurrentRouteId], [t].[CurrentStage], [t].[RequestDate], [t].[RequestReason], [t].[Status], [t].[UserId], [t].[VehicleId], [t].[Id0], [t].[Department], [t].[Description], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Comments], [t1].[IsCompleted], [t1].[Stage], [t1].[Timestamp], [t1].[UserId], [t1].[VehicleAssignmentRequestId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [v].[Id], [v].[CurrentRouteId], [v].[CurrentStage], [v].[RequestDate], [v].[RequestReason], [v].[Status], [v].[UserId], [v].[VehicleId], [r].[Id] AS [Id0], [r].[Department], [r].[Description], [r].[Name]
    FROM [VehicleAssignmentRequests] AS [v]
    INNER JOIN [Routes] AS [r] ON [v].[CurrentRouteId] = [r].[Id]
    WHERE [v].[Id] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id0] = [t0].[RouteId]
LEFT JOIN (
    SELECT [v0].[Id], [v0].[Comments], [v0].[IsCompleted], [v0].[Stage], [v0].[Timestamp], [v0].[UserId], [v0].[VehicleAssignmentRequestId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [VehicleAssignmentTransactions] AS [v0]
    INNER JOIN [AspNetUsers] AS [a0] ON [v0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[Id] = [t1].[VehicleAssignmentRequestId]
ORDER BY [t].[Id], [t].[Id0], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:34:21.323 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:34:21.323 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet) in 14.8569ms
2025-07-29 09:34:21.323 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehicleWorkflowStatus (PersonaXFleet)'
2025-07-29 09:34:21.323 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/vehicle-requests/387d36fc-523c-46ca-9a45-3e8e6bcace79/workflow-status - 200 null application/json; charset=utf-8 15.8009ms
2025-07-29 09:34:23.694 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:34:23.694 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:34:23.694 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:34:23.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:23.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:23.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:23.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:34:23.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:34:23.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:34:23.695 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:34:23.695 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:34:23.695 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:34:23.698 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:34:23.702 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:34:23.703 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:34:23.705 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.9417ms
2025-07-29 09:34:23.705 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:34:23.705 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 11.0494ms
2025-07-29 09:34:23.711 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:34:23.716 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:34:23.717 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.1157ms
2025-07-29 09:34:23.717 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:34:23.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.0017ms
2025-07-29 09:34:23.717 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:34:23.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.3278ms
2025-07-29 09:34:23.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:34:23.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.4648ms
2025-07-29 09:34:29.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:34:29.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:34:29.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:34:29.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:29.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:29.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:34:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:34:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:34:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:34:29.658 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:34:29.658 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:34:29.658 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:34:29.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:34:29.662 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:34:29.666 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:34:29.667 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:34:29.667 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.9947ms
2025-07-29 09:34:29.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.4516ms
2025-07-29 09:34:29.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:34:29.668 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:34:29.671 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:34:29.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.5214ms
2025-07-29 09:34:29.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.6322ms
2025-07-29 09:34:29.674 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:34:29.676 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.1664ms
2025-07-29 09:34:29.676 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:34:29.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.3765ms
2025-07-29 09:35:10.490 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/login - null null
2025-07-29 09:35:10.491 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.491 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/login - 204 null null 0.2768ms
2025-07-29 09:35:10.497 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/auth/login - application/json 64
2025-07-29 09:35:10.498 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.498 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:35:10.498 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PersonaXFleet.Models.LoginModel) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:35:10.517 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-29 09:35:10.597 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:35:10.601 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RouteId], [r].[Name] AS [RouteName], [u].[Role]
FROM [UserRouteRoles] AS [u]
INNER JOIN [Routes] AS [r] ON [u].[RouteId] = [r].[Id]
WHERE [u].[UserId] = @__user_Id_0
2025-07-29 09:35:10.603 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:35:10.608 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:10.608 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet) in 109.6789ms
2025-07-29 09:35:10.608 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:35:10.608 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/auth/login - 200 null application/json; charset=utf-8 115.3421ms
2025-07-29 09:35:10.697 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.697 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - null null
2025-07-29 09:35:10.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - 204 null null 0.6922ms
2025-07-29 09:35:10.697 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - 204 null null 0.5315ms
2025-07-29 09:35:10.699 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - null null
2025-07-29 09:35:10.699 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.699 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - 204 null null 0.7635ms
2025-07-29 09:35:10.699 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - 204 null null 0.5822ms
2025-07-29 09:35:10.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - null null
2025-07-29 09:35:10.702 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.702 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.703 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:35:10.703 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:35:10.703 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:35:10.703 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:10.743 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.744 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.745 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:10.745 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.745 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:10.745 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:10.745 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:10.746 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.746 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.746 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:35:10.747 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:35:10.756 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:10.758 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:10.759 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.759 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.0362ms
2025-07-29 09:35:10.761 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:10.765 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 55.7125ms
2025-07-29 09:35:10.767 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.767 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.767 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.767 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.768 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:10.768 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.768 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:10.768 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:35:10.772 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:35:10.774 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:35:10.774 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.774 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.774 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 71.3905ms
2025-07-29 09:35:10.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:35:10.781 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.782 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 79.0248ms
2025-07-29 09:35:10.782 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 81.6865ms
2025-07-29 09:35:10.783 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:35:10.783 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - 200 null application/json; charset=utf-8 83.1646ms
2025-07-29 09:35:10.783 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:10.783 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:35:10.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - null null
2025-07-29 09:35:10.789 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.789 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:35:10.789 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.789 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:10.790 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.790 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:35:10.794 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:35:10.798 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:10.799 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.800 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 54.7162ms
2025-07-29 09:35:10.800 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:35:10.800 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:10.801 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 32.5681ms
2025-07-29 09:35:10.801 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 56.2086ms
2025-07-29 09:35:10.801 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.803 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:10.804 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.6493ms
2025-07-29 09:35:10.804 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:10.810 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 43.8414ms
2025-07-29 09:35:10.811 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:35:10.811 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null text/plain; charset=utf-8 44.4407ms
2025-07-29 09:35:10.811 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.811 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.812 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.812 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.812 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:10.813 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.813 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:10.813 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:35:10.814 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.815 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 26.0042ms
2025-07-29 09:35:10.816 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:35:10.817 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:35:10.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 23.5039ms
2025-07-29 09:35:10.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:35:10.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 29.53ms
2025-07-29 09:35:10.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/0083F210-288A-4C68-8A15-F5696F5E6348/schedules - 200 null application/json; charset=utf-8 29.7175ms
2025-07-29 09:35:10.821 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:35:10.822 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:35:10.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 10.716ms
2025-07-29 09:35:10.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.825 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:35:10.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null text/plain; charset=utf-8 13.2789ms
2025-07-29 09:35:10.825 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.825 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 78.4816ms
2025-07-29 09:35:10.825 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:35:10.825 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 79.6877ms
2025-07-29 09:35:10.828 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:10.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 15.6497ms
2025-07-29 09:35:10.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:10.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.831 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.832 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:35:10.832 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:35:10.832 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.832 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 21.1736ms
2025-07-29 09:35:10.832 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.832 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:35:10.837 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:35:10.837 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:10.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:35:10.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 9.5027ms
2025-07-29 09:35:10.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.846 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:35:10.847 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:10.847 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 15.2017ms
2025-07-29 09:35:10.847 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null text/plain; charset=utf-8 16.4189ms
2025-07-29 09:35:10.847 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:35:10.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 16.0055ms
2025-07-29 09:35:10.848 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:10.849 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:10.850 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.850 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:35:10.855 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:35:10.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:35:10.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 6.9605ms
2025-07-29 09:35:10.858 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:35:10.858 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null text/plain; charset=utf-8 9.3593ms
2025-07-29 09:35:14.707 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.707 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.707 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 204 null null 0.9779ms
2025-07-29 09:35:14.707 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.707 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:35:14.708 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:35:14.708 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.708 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:35:14.708 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.708 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.709 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:35:14.709 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:35:14.709 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.709 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.709 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.710 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:14.710 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:35:14.710 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:14.710 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:35:14.714 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:14.715 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.717 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:14.717 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.721 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.721 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:35:14.721 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:14.721 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.721 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 204 null null 0.8179ms
2025-07-29 09:35:14.721 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.5661ms
2025-07-29 09:35:14.721 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:14.722 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.729 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.729 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 19.114ms
2025-07-29 09:35:14.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:35:14.730 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 26.2226ms
2025-07-29 09:35:14.735 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:35:14.736 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 29.0849ms
2025-07-29 09:35:14.736 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 29.1302ms
2025-07-29 09:35:14.737 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.737 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - null null
2025-07-29 09:35:14.737 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles - null null
2025-07-29 09:35:14.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.737 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:35:14.737 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:35:14.737 +00:00 [INF] Route matched with {action = "GetActiveRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.737 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:14.740 +00:00 [INF] Route matched with {action = "GetVehicles", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.DTOs.VehicleDto]]] GetVehicles() on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:35:14.742 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:14.742 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:14.746 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.761 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 53.0678ms
2025-07-29 09:35:14.763 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] NOT IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.765 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.765 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.766 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 56.1005ms
2025-07-29 09:35:14.766 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet) in 28.5268ms
2025-07-29 09:35:14.766 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:35:14.766 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetActiveRequests (PersonaXFleet)'
2025-07-29 09:35:14.772 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - null null
2025-07-29 09:35:14.772 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.777 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:35:14.778 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.778 +00:00 [INF] Route matched with {action = "GetApprovedAndRejectedRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetApprovedAndRejectedRequests() on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.784 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 76.0882ms
2025-07-29 09:35:14.790 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.790 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 72.8472ms
2025-07-29 09:35:14.790 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/active-requests - 200 null application/json; charset=utf-8 53.4752ms
2025-07-29 09:35:14.790 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:14.791 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 75.201ms
2025-07-29 09:35:14.797 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:14.804 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
2025-07-29 09:35:14.806 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.806 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.807 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.807 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.807 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:14.808 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 204 null null 1.9944ms
2025-07-29 09:35:14.809 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.7038ms
2025-07-29 09:35:14.809 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:14.809 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:14.810 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.810 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.811 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 74.2441ms
2025-07-29 09:35:14.811 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet) in 70.2486ms
2025-07-29 09:35:14.811 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicles (PersonaXFleet)'
2025-07-29 09:35:14.816 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[Status] IN (2, 7)
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles - 200 null application/json; charset=utf-8 79.4671ms
2025-07-29 09:35:14.817 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.818 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.818 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet) in 40.0375ms
2025-07-29 09:35:14.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:14.818 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetApprovedAndRejectedRequests (PersonaXFleet)'
2025-07-29 09:35:14.818 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/approved-rejected - 200 null application/json; charset=utf-8 46.3167ms
2025-07-29 09:35:14.823 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:35:14.831 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:35:14.833 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.834 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 22.8584ms
2025-07-29 09:35:14.834 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:35:14.835 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 30.9401ms
2025-07-29 09:35:14.850 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:35:14.850 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.850 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.9634ms
2025-07-29 09:35:14.850 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:14.850 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 33.1921ms
2025-07-29 09:35:14.852 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:14.852 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:14.853 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:14.853 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:14.856 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:35:14.857 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:14.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 4.6679ms
2025-07-29 09:35:14.857 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:14.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 5.729ms
2025-07-29 09:35:17.139 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - null null
2025-07-29 09:35:17.139 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:17.139 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - null null
2025-07-29 09:35:17.139 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:17.139 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:17.139 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:17.139 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:35:17.139 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 204 null null 1.0041ms
2025-07-29 09:35:17.139 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:35:17.139 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:17.139 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:17.142 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:17.145 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:35:17.146 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:35:17.146 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:17.147 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:17.147 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:17.148 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:17.148 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 8.6322ms
2025-07-29 09:35:17.148 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:35:17.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - 200 null application/json; charset=utf-8 10.12ms
2025-07-29 09:35:17.157 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:35:17.157 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:17.157 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 17.9904ms
2025-07-29 09:35:17.157 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:35:17.158 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - 200 null application/json; charset=utf-8 19.2875ms
2025-07-29 09:35:17.179 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:35:17.181 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:17.181 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 33.9263ms
2025-07-29 09:35:17.181 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:17.181 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 200 null application/json; charset=utf-8 40.1237ms
2025-07-29 09:35:23.876 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:23.877 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:23.877 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 204 null null 0.7652ms
2025-07-29 09:35:23.880 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:23.880 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:23.880 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:23.880 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:23.916 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:35:23.923 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:23.924 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 43.4544ms
2025-07-29 09:35:23.924 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:23.924 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 200 null application/json; charset=utf-8 45.061ms
2025-07-29 09:35:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:35:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:35:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:35:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:35:29.654 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:29.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:29.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:29.654 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:29.654 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:29.657 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:29.659 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:35:29.660 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:29.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.8908ms
2025-07-29 09:35:29.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:29.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:29.662 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.1666ms
2025-07-29 09:35:29.662 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:35:29.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 8.8397ms
2025-07-29 09:35:29.662 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.6356ms
2025-07-29 09:35:29.663 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:35:29.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:29.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.6993ms
2025-07-29 09:35:29.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:29.666 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 12.8985ms
2025-07-29 09:35:44.712 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:44.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:44.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:35:44.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:44.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:44.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:44.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:35:44.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:44.714 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:44.714 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:44.714 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:44.714 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:35:44.719 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:35:44.719 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:35:44.722 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:44.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.0341ms
2025-07-29 09:35:44.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:35:44.723 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:44.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 10.646ms
2025-07-29 09:35:44.724 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.5686ms
2025-07-29 09:35:44.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:35:44.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 12.3342ms
2025-07-29 09:35:44.747 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:35:44.748 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:35:44.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.5035ms
2025-07-29 09:35:44.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:35:44.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 34.4426ms
2025-07-29 09:35:50.997 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - null null
2025-07-29 09:35:50.999 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - null null
2025-07-29 09:35:51.000 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:51.000 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:51.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:35:51.000 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:35:51.000 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:51.000 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:51.022 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:35:51.022 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:51.023 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:51.043 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:35:51.049 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:51.051 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 50.9888ms
2025-07-29 09:35:51.052 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 204 null null 29.4795ms
2025-07-29 09:35:51.052 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:35:51.053 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - 200 null application/json; charset=utf-8 56.2289ms
2025-07-29 09:35:51.078 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:35:51.079 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:35:51.084 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:51.084 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:35:51.096 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:35:51.137 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:51.140 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 139.262ms
2025-07-29 09:35:51.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:35:51.140 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - 200 null application/json; charset=utf-8 143.3488ms
2025-07-29 09:35:51.158 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:35:51.161 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:35:51.162 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 76.7073ms
2025-07-29 09:35:51.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:35:51.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 200 null application/json; charset=utf-8 84.4801ms
2025-07-29 09:36:14.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:14.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:14.720 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:14.720 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:14.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:14.721 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:14.721 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:14.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:14.722 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:14.722 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:14.722 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:14.722 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:36:14.728 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:36:14.729 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:36:14.731 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:36:14.732 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6326ms
2025-07-29 09:36:14.732 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:14.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:14.733 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 11.2497ms
2025-07-29 09:36:14.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 13.2762ms
2025-07-29 09:36:14.733 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:14.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 14.316ms
2025-07-29 09:36:14.756 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:36:14.756 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:14.756 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.154ms
2025-07-29 09:36:14.756 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:14.756 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 34.7204ms
2025-07-29 09:36:29.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:36:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:29.672 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:36:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:36:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:29.674 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:29.674 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:36:29.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:36:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:36:29.683 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:36:29.684 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.4054ms
2025-07-29 09:36:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:29.686 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.4404ms
2025-07-29 09:36:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:29.692 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:36:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 26.601ms
2025-07-29 09:36:29.700 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.7781ms
2025-07-29 09:36:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.933ms
2025-07-29 09:36:29.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:29.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.3183ms
2025-07-29 09:36:44.725 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:44.725 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:44.726 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:36:44.727 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:44.727 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:44.727 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:44.727 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:44.727 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:36:44.728 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:44.727 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:36:44.728 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:44.728 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:36:44.735 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:36:44.736 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:36:44.741 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:36:44.743 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.3503ms
2025-07-29 09:36:44.744 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:36:44.745 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:44.745 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 20.192ms
2025-07-29 09:36:44.745 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.8395ms
2025-07-29 09:36:44.745 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:36:44.746 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 20.7663ms
2025-07-29 09:36:44.749 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:36:44.751 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:36:44.751 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.108ms
2025-07-29 09:36:44.751 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:36:44.751 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 26.085ms
2025-07-29 09:37:14.722 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:14.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:14.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:14.723 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:14.723 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:14.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:14.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:14.723 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:14.723 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:14.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:14.724 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:14.724 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:37:14.743 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:37:14.745 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:37:14.745 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.8671ms
2025-07-29 09:37:14.745 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:14.745 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:37:14.746 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:14.746 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.6906ms
2025-07-29 09:37:14.746 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:14.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 34.7206ms
2025-07-29 09:37:14.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 36.1183ms
2025-07-29 09:37:14.776 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:37:14.776 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:14.776 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.3365ms
2025-07-29 09:37:14.776 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:14.776 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 53.0128ms
2025-07-29 09:37:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:37:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:37:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:37:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:29.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:37:29.667 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:29.670 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:37:29.673 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:29.673 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:37:29.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.2737ms
2025-07-29 09:37:29.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:29.676 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:37:29.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.0344ms
2025-07-29 09:37:29.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:29.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.2869ms
2025-07-29 09:37:29.682 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:37:29.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.4161ms
2025-07-29 09:37:29.689 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:29.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.2001ms
2025-07-29 09:37:29.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:29.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.8124ms
2025-07-29 09:37:44.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:44.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:44.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:37:44.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:44.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:44.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:37:44.717 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:44.717 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:44.717 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:44.717 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:37:44.717 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:44.717 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:37:44.721 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:37:44.721 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:37:44.723 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:44.723 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:37:44.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 6.7423ms
2025-07-29 09:37:44.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.7038ms
2025-07-29 09:37:44.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:37:44.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:37:44.726 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 9.9257ms
2025-07-29 09:37:44.726 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 10.2899ms
2025-07-29 09:37:44.727 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:37:44.728 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:37:44.729 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.2788ms
2025-07-29 09:37:44.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:37:44.730 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 14.0714ms
2025-07-29 09:38:14.710 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:14.711 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:14.711 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:14.711 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:14.711 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:14.711 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:14.711 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:14.711 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:14.711 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:14.711 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:14.712 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:14.712 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:38:14.729 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:38:14.731 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:38:14.733 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:14.734 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:38:14.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.8418ms
2025-07-29 09:38:14.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.8097ms
2025-07-29 09:38:14.735 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:14.735 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:14.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 30.4547ms
2025-07-29 09:38:14.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 29.7821ms
2025-07-29 09:38:14.759 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:38:14.759 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:14.759 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.6952ms
2025-07-29 09:38:14.759 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:14.760 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 48.2446ms
2025-07-29 09:38:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:38:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:38:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:38:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:29.661 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:38:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:29.672 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:38:29.672 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:38:29.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:29.679 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.3994ms
2025-07-29 09:38:29.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:29.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 21.5176ms
2025-07-29 09:38:29.683 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:38:29.683 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:38:29.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.9464ms
2025-07-29 09:38:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:29.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:29.685 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.7239ms
2025-07-29 09:38:29.685 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.3165ms
2025-07-29 09:38:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.7598ms
2025-07-29 09:38:44.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:44.719 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:44.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:44.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:38:44.719 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:44.719 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:38:44.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:44.719 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:44.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:44.720 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:38:44.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:44.724 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:38:44.733 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:38:44.735 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:44.741 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.9489ms
2025-07-29 09:38:44.741 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:38:44.741 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:38:44.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 23.2305ms
2025-07-29 09:38:44.742 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:38:44.742 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 22.1457ms
2025-07-29 09:38:44.742 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:38:44.742 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 23.1642ms
2025-07-29 09:38:44.746 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:38:44.748 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:38:44.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.855ms
2025-07-29 09:38:44.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:38:44.749 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 29.6433ms
2025-07-29 09:39:14.729 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:14.730 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:14.730 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:14.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:14.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:14.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:14.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:14.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:14.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:14.734 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:39:14.734 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:14.734 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:14.752 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:39:14.752 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:39:14.755 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:14.755 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:39:14.756 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.0343ms
2025-07-29 09:39:14.756 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.8969ms
2025-07-29 09:39:14.761 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:14.762 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:14.762 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 33.4195ms
2025-07-29 09:39:14.762 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 32.8116ms
2025-07-29 09:39:14.777 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:39:14.777 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:14.778 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.5168ms
2025-07-29 09:39:14.778 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:14.778 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 47.8567ms
2025-07-29 09:39:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:39:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:39:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:39:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:29.664 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:29.664 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:29.664 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:39:29.667 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:39:29.667 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:39:29.674 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:39:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:39:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.7176ms
2025-07-29 09:39:29.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.9631ms
2025-07-29 09:39:29.683 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:29.683 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:29.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.0566ms
2025-07-29 09:39:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.386ms
2025-07-29 09:39:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.5487ms
2025-07-29 09:39:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.9251ms
2025-07-29 09:39:44.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:44.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:44.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:39:44.718 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:44.718 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:44.718 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:44.718 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:44.718 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:39:44.719 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:39:44.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:44.719 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:44.719 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:39:44.754 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:39:44.754 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:39:44.755 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:39:44.757 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:39:44.757 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:44.757 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 38.5665ms
2025-07-29 09:39:44.758 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:39:44.758 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:39:44.759 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 39.4962ms
2025-07-29 09:39:44.759 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:39:44.759 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 40.6079ms
2025-07-29 09:39:44.760 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:39:44.760 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 42.7178ms
2025-07-29 09:39:44.760 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 42.9057ms
2025-07-29 09:39:44.761 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 43.8898ms
2025-07-29 09:40:14.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:40:14.721 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:14.722 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:40:14.722 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:40:14.722 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:40:14.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:14.723 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - null null
2025-07-29 09:40:14.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:40:14.724 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:14.724 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:40:14.727 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:40:14.727 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:40:14.759 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:40:14.759 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:40:14.783 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:40:14.787 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 63.9653ms
2025-07-29 09:40:14.787 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:40:14.789 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:40:14.791 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 63.7751ms
2025-07-29 09:40:14.791 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:40:14.793 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 74.518ms
2025-07-29 09:40:14.794 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 71.6395ms
2025-07-29 09:40:14.832 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:40:14.833 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:40:14.833 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 105.9067ms
2025-07-29 09:40:14.833 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:40:14.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=0083F210-288A-4C68-8A15-F5696F5E6348 - 200 null application/json; charset=utf-8 110.8262ms
2025-07-29 09:40:15.613 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:40:15.613 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:15.614 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - null null
2025-07-29 09:40:15.614 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - null null
2025-07-29 09:40:15.614 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 204 null null 1.2246ms
2025-07-29 09:40:15.614 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:15.614 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:15.614 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:40:15.614 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:40:15.614 +00:00 [INF] Route matched with {action = "GetRequestDocuments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRequestDocuments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:40:15.614 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:40:15.625 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id] AS [DocumentId], [m].[FileName], [m].[FilePath], [m].[UploadDate], [m].[UploadedByUserId]
FROM [MaintenanceDocuments] AS [m]
WHERE [m].[MaintenanceRequestId] = @__id_0
2025-07-29 09:40:15.625 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 09:40:15.625 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - null null
2025-07-29 09:40:15.626 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType46`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType45`5[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:40:15.626 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet) in 11.9329ms
2025-07-29 09:40:15.626 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetRequestDocuments (PersonaXFleet)'
2025-07-29 09:40:15.626 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:15.626 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/documents - 200 null application/json; charset=utf-8 12.842ms
2025-07-29 09:40:15.626 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:40:15.627 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:40:15.639 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 09:40:15.640 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:40:15.640 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 25.5006ms
2025-07-29 09:40:15.640 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 09:40:15.640 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/comments - 200 null application/json; charset=utf-8 26.5629ms
2025-07-29 09:40:15.676 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 09:40:15.678 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:40:15.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 51.3418ms
2025-07-29 09:40:15.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 09:40:15.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/704351e3-5adc-4643-81a8-d5ff5004e0ca/workflow-status - 200 null application/json; charset=utf-8 56.345ms
2025-07-29 09:40:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:40:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:40:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:40:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:40:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:40:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:40:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:40:29.673 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:40:29.673 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:40:29.673 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:40:29.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:40:29.676 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:40:29.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:40:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 4.7325ms
2025-07-29 09:40:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:40:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 6.9232ms
2025-07-29 09:40:29.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:40:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.701ms
2025-07-29 09:40:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:40:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 9.6336ms
2025-07-29 09:40:29.683 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:40:29.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:40:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.5446ms
2025-07-29 09:40:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:40:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 13.5084ms
2025-07-29 09:41:02.405 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/login - null null
2025-07-29 09:41:02.405 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.405 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/login - 204 null null 0.5463ms
2025-07-29 09:41:02.505 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/auth/login - application/json 61
2025-07-29 09:41:02.505 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.533 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:41:02.533 +00:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(PersonaXFleet.Models.LoginModel) on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:41:02.575 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-07-29 09:41:02.672 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:41:02.678 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[Id] AS [RouteId], [r].[Name] AS [RouteName], [u].[Role]
FROM [UserRouteRoles] AS [u]
INNER JOIN [Routes] AS [r] ON [u].[RouteId] = [r].[Id]
WHERE [u].[UserId] = @__user_Id_0
2025-07-29 09:41:02.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-07-29 09:41:02.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IList`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:41:02.680 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet) in 147.1897ms
2025-07-29 09:41:02.680 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Login (PersonaXFleet)'
2025-07-29 09:41:02.681 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/auth/login - 200 null application/json; charset=utf-8 175.9151ms
2025-07-29 09:41:02.888 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:02.889 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.889 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:41:02.889 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.1482ms
2025-07-29 09:41:02.889 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.889 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.394ms
2025-07-29 09:41:02.894 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:02.894 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:41:02.894 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.895 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.8714ms
2025-07-29 09:41:02.897 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.902 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 4.1265ms
2025-07-29 09:41:02.933 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:02.933 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.933 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:41:02.933 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:41:02.938 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:41:02.939 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.939 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:41:02.939 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:02.982 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:02.983 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:02.983 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.983 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:02.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:02.983 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:41:02.983 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:02.983 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:41:03.016 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.019 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.022 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:41:03.023 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:03.036 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:41:03.036 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:41:03.037 +00:00 [INF] Executed DbCommand (91ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.037 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.037 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:41:03.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 98.2154ms
2025-07-29 09:41:03.037 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.6363ms
2025-07-29 09:41:03.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:41:03.037 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:03.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 91.8958ms
2025-07-29 09:41:03.038 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 100.0684ms
2025-07-29 09:41:03.050 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:41:03.055 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.056 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 122.5184ms
2025-07-29 09:41:03.056 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:41:03.057 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 124.433ms
2025-07-29 09:41:03.070 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.070 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.070 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.071 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:41:03.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.071 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:03.071 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:03.108 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.110 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:41:03.111 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.111 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:41:03.113 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.113 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:41:03.113 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 90.0905ms
2025-07-29 09:41:03.113 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:41:03.113 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.113 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.113 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:41:03.114 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:41:03.114 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 97.8112ms
2025-07-29 09:41:03.114 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:41:03.114 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:41:03.114 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:03.114 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 42.425ms
2025-07-29 09:41:03.114 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:03.125 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:41:03.125 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.125 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.125 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:41:03.129 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:03.140 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:41:03.141 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.142 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 158.8678ms
2025-07-29 09:41:03.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:41:03.144 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 161.4674ms
2025-07-29 09:41:03.145 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 73.6401ms
2025-07-29 09:41:03.150 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.153 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.154 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.154 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 40.3783ms
2025-07-29 09:41:03.154 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:41:03.154 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.154 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:41:03.154 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:41:03.154 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 41.0313ms
2025-07-29 09:41:03.161 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:41:03.163 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.164 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 49.9627ms
2025-07-29 09:41:03.164 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:41:03.164 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:41:03.165 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.3407ms
2025-07-29 09:41:03.165 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:41:03.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 94.7957ms
2025-07-29 09:41:03.166 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.166 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 96.333ms
2025-07-29 09:41:03.170 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.170 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:41:03.171 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.171 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.171 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.171 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:41:03.174 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:41:03.174 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:41:03.174 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.174 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:03.174 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 19.9507ms
2025-07-29 09:41:03.174 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:41:03.175 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.2788ms
2025-07-29 09:41:03.175 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 41.7953ms
2025-07-29 09:41:03.175 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:41:03.175 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 49.9767ms
2025-07-29 09:41:03.177 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:41:03.179 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:41:03.179 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 7.4516ms
2025-07-29 09:41:03.179 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.180 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 10.4266ms
2025-07-29 09:41:03.184 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.185 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.185 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.185 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:41:03.194 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:41:03.194 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:41:03.194 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 8.9663ms
2025-07-29 09:41:03.194 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.194 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 10.1667ms
2025-07-29 09:41:03.196 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:03.198 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:03.198 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.198 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:41:03.205 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:41:03.206 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:41:03.208 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 8.2268ms
2025-07-29 09:41:03.208 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:41:03.208 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 11.9636ms
2025-07-29 09:41:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:41:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:41:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:41:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:41:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:41:29.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:29.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:29.677 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:41:29.679 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:41:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:41:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.1911ms
2025-07-29 09:41:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.3199ms
2025-07-29 09:41:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:41:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.023ms
2025-07-29 09:41:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 17.3723ms
2025-07-29 09:41:29.712 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:41:29.712 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:29.712 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.6961ms
2025-07-29 09:41:29.712 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:41:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 48.2173ms
2025-07-29 09:41:32.892 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:32.892 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:32.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:41:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:41:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:41:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:32.893 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:41:32.893 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:41:32.893 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:41:32.896 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:41:32.896 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:41:32.898 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:32.899 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 5.5739ms
2025-07-29 09:41:32.899 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:41:32.901 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 8.2198ms
2025-07-29 09:41:32.901 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:41:32.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 8.0651ms
2025-07-29 09:41:32.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:41:32.902 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 9.3161ms
2025-07-29 09:41:32.905 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:41:32.906 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:41:32.906 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 12.7886ms
2025-07-29 09:41:32.906 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:41:32.906 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 13.9052ms
2025-07-29 09:42:02.923 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:02.924 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:02.924 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:02.924 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:02.932 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:02.932 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:02.933 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:02.933 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:02.944 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:02.945 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:02.945 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:02.945 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:42:02.945 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:42:02.951 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:02.952 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.3727ms
2025-07-29 09:42:02.952 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:02.958 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.1892ms
2025-07-29 09:42:02.958 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:42:02.960 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:42:02.961 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.7838ms
2025-07-29 09:42:02.961 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:02.967 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.0035ms
2025-07-29 09:42:02.986 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:42:02.989 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:02.989 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.8704ms
2025-07-29 09:42:02.989 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:02.989 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 44.5743ms
2025-07-29 09:42:29.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:42:29.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:29.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:29.655 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:29.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:42:29.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:42:29.656 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:29.656 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:29.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:29.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:29.657 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:29.657 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:42:29.668 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:42:29.668 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:42:29.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:42:29.676 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.7785ms
2025-07-29 09:42:29.676 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:29.677 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:29.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 24.2948ms
2025-07-29 09:42:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.7296ms
2025-07-29 09:42:29.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.0957ms
2025-07-29 09:42:29.701 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:42:29.701 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:29.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.4942ms
2025-07-29 09:42:29.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:29.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 45.6598ms
2025-07-29 09:42:32.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:32.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:32.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:42:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:42:32.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:32.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:32.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:32.905 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:32.905 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:42:32.905 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:42:32.908 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:42:32.911 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:42:32.912 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 7.1437ms
2025-07-29 09:42:32.912 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:42:32.913 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:42:32.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 10.1516ms
2025-07-29 09:42:32.915 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:32.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 10.5996ms
2025-07-29 09:42:32.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:42:32.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 11.965ms
2025-07-29 09:42:32.921 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:42:32.927 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:42:32.928 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.099ms
2025-07-29 09:42:32.928 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:42:32.928 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.907ms
2025-07-29 09:43:02.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:02.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:02.894 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:02.894 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:02.894 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:02.894 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:02.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:02.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:02.894 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:02.894 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:43:02.894 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:02.894 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:02.921 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:43:02.921 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:43:02.921 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:43:02.921 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:43:02.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:02.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.579ms
2025-07-29 09:43:02.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.6592ms
2025-07-29 09:43:02.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:02.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:02.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:02.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.8128ms
2025-07-29 09:43:02.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.8672ms
2025-07-29 09:43:02.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:02.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.831ms
2025-07-29 09:43:02.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.7357ms
2025-07-29 09:43:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:43:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:43:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:43:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:29.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:29.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:43:29.672 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:43:29.673 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:43:29.679 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:43:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.2091ms
2025-07-29 09:43:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.0351ms
2025-07-29 09:43:29.683 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:29.685 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2949ms
2025-07-29 09:43:29.685 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 20.3253ms
2025-07-29 09:43:29.699 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:43:29.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:29.699 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1126ms
2025-07-29 09:43:29.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.0392ms
2025-07-29 09:43:32.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:32.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:32.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:43:32.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:32.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:32.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:43:32.901 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:32.901 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:32.901 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:43:32.901 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:32.901 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:32.901 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:43:32.903 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:43:32.904 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:43:32.906 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:43:32.907 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.0652ms
2025-07-29 09:43:32.907 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:43:32.907 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:32.909 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.1977ms
2025-07-29 09:43:32.909 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:43:32.918 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:43:32.923 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.7607ms
2025-07-29 09:43:32.923 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.2985ms
2025-07-29 09:43:32.924 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:43:32.924 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 23.4371ms
2025-07-29 09:43:32.925 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:43:32.925 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.31ms
2025-07-29 09:44:02.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:02.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:02.903 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:02.903 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:02.903 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:02.903 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:02.903 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:02.903 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:02.915 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:02.915 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:02.915 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:02.915 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:44:02.919 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:44:02.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:02.922 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:44:02.922 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5847ms
2025-07-29 09:44:02.923 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:02.923 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:44:02.923 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.4255ms
2025-07-29 09:44:02.923 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:02.923 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.8326ms
2025-07-29 09:44:02.927 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.2278ms
2025-07-29 09:44:02.934 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:44:02.935 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:02.935 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 20.2081ms
2025-07-29 09:44:02.935 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:02.936 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.713ms
2025-07-29 09:44:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:44:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:44:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:29.663 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:29.663 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:44:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:29.664 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:44:29.693 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:44:29.693 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:44:29.695 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:44:29.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:29.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.7693ms
2025-07-29 09:44:29.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.0319ms
2025-07-29 09:44:29.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:29.697 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.5836ms
2025-07-29 09:44:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 34.5592ms
2025-07-29 09:44:29.771 +00:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:44:29.771 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:29.771 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 107.2861ms
2025-07-29 09:44:29.771 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:29.771 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 107.9712ms
2025-07-29 09:44:32.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:32.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:32.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:44:32.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:32.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:32.902 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:32.902 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:44:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:44:32.903 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:32.903 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:44:32.912 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:44:32.913 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:44:32.913 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:44:32.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6623ms
2025-07-29 09:44:32.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:44:32.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 11.4766ms
2025-07-29 09:44:32.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:32.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.0336ms
2025-07-29 09:44:32.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:44:32.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 13.4064ms
2025-07-29 09:44:33.018 +00:00 [INF] Executed DbCommand (95ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:44:33.020 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:44:33.020 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 117.558ms
2025-07-29 09:44:33.020 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:44:33.020 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 118.4942ms
2025-07-29 09:45:02.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:02.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:02.899 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:02.900 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:02.900 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:02.900 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:02.900 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:02.900 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:45:02.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:02.900 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:02.900 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:02.900 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:02.907 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:45:02.908 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:45:02.908 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:45:02.913 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:45:02.914 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.407ms
2025-07-29 09:45:02.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:02.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.4833ms
2025-07-29 09:45:02.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:02.916 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:02.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.2708ms
2025-07-29 09:45:02.916 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:02.916 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.4948ms
2025-07-29 09:45:02.916 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 16.4649ms
2025-07-29 09:45:02.918 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:02.918 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.3043ms
2025-07-29 09:45:29.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:45:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:45:29.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:29.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:45:29.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:29.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:29.680 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:45:29.755 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:45:29.760 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:45:29.761 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:29.762 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 93.8176ms
2025-07-29 09:45:29.762 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:29.763 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:45:29.763 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 96.7602ms
2025-07-29 09:45:29.764 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 93.6459ms
2025-07-29 09:45:29.765 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:29.765 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 97.0408ms
2025-07-29 09:45:29.776 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:45:29.781 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:29.781 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 101.6495ms
2025-07-29 09:45:29.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:29.782 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 103.9228ms
2025-07-29 09:45:32.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:32.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:32.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:45:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:32.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:45:32.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:32.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:32.902 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:45:32.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:32.902 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:32.902 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:45:32.906 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:45:32.908 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:45:32.909 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:45:32.909 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:32.909 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.9881ms
2025-07-29 09:45:32.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 7.1336ms
2025-07-29 09:45:32.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:45:32.910 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:45:32.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 8.5327ms
2025-07-29 09:45:32.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 8.2453ms
2025-07-29 09:45:32.916 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:45:32.917 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:45:32.917 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 14.7127ms
2025-07-29 09:45:32.917 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:45:32.917 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 15.6386ms
2025-07-29 09:46:02.899 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:02.900 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:02.900 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:02.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:02.901 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:02.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:02.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:02.901 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:02.901 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:02.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:02.901 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:02.901 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:46:02.920 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:46:02.921 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:46:02.922 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.7374ms
2025-07-29 09:46:02.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:02.922 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:46:02.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:02.922 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.4232ms
2025-07-29 09:46:02.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:02.932 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.9334ms
2025-07-29 09:46:02.932 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.307ms
2025-07-29 09:46:02.951 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:46:02.951 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:02.951 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.946ms
2025-07-29 09:46:02.951 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:02.951 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.4225ms
2025-07-29 09:46:29.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:46:29.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:29.658 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:46:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:46:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:29.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:29.675 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:46:29.688 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:46:29.688 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:46:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:46:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:29.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.9892ms
2025-07-29 09:46:29.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 13.8588ms
2025-07-29 09:46:29.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:29.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:29.690 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:46:29.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.5537ms
2025-07-29 09:46:29.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 16.5711ms
2025-07-29 09:46:29.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:29.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.8179ms
2025-07-29 09:46:29.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:29.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 33.2855ms
2025-07-29 09:46:32.906 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:32.906 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:32.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:32.907 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:32.907 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:32.907 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:32.907 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:32.907 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:32.907 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:32.907 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:32.908 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:46:32.908 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:46:32.916 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:46:32.924 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:46:32.930 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:32.930 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:46:32.931 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.9419ms
2025-07-29 09:46:32.932 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.0492ms
2025-07-29 09:46:32.932 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:46:32.933 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:46:32.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.8004ms
2025-07-29 09:46:32.933 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:46:32.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.9173ms
2025-07-29 09:46:32.934 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:32.934 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.5944ms
2025-07-29 09:46:32.935 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:46:32.942 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.203ms
2025-07-29 09:46:51.294 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:51.294 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:46:51.295 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.295 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.295 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.4501ms
2025-07-29 09:46:51.300 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 5.709ms
2025-07-29 09:46:51.308 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:51.308 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:46:51.308 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.308 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.309 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:46:51.309 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:46:51.309 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:46:51.309 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:46:51.330 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:46:51.333 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:46:51.334 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:51.334 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 25.1109ms
2025-07-29 09:46:51.334 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:46:51.334 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.2637ms
2025-07-29 09:46:51.338 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:46:51.339 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:51.339 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 30.4428ms
2025-07-29 09:46:51.339 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:46:51.340 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 31.6891ms
2025-07-29 09:46:51.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:46:51.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:46:51.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:46:51.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:46:51.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:46:51.670 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:46:51.670 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:46:51.673 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:46:51.673 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:46:51.676 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:51.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 6.6764ms
2025-07-29 09:46:51.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:46:51.678 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 9.3542ms
2025-07-29 09:46:51.679 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:46:51.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:46:51.679 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 9.6527ms
2025-07-29 09:46:51.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:46:51.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 10.7613ms
2025-07-29 09:47:02.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:02.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:02.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:02.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:02.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:02.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:02.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:02.904 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:02.904 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:47:02.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:02.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:02.904 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:02.906 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:47:02.908 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:47:02.909 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:47:02.910 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.0118ms
2025-07-29 09:47:02.911 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:02.911 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:02.912 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 8.8321ms
2025-07-29 09:47:02.912 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 8.1903ms
2025-07-29 09:47:02.913 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:02.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 9.7202ms
2025-07-29 09:47:02.941 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:47:02.941 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:02.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.0733ms
2025-07-29 09:47:02.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:02.941 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.8883ms
2025-07-29 09:47:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:47:29.672 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:29.673 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:29.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:47:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:29.677 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:29.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:47:29.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:29.696 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:29.698 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:47:29.699 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:47:29.700 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:47:29.700 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:47:29.700 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.7191ms
2025-07-29 09:47:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.0417ms
2025-07-29 09:47:29.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:29.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:29.700 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 28.1839ms
2025-07-29 09:47:29.700 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 25.6258ms
2025-07-29 09:47:29.716 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:47:29.722 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:29.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 24.242ms
2025-07-29 09:47:29.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 31.4746ms
2025-07-29 09:47:32.892 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:32.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:32.893 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:47:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:32.893 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:47:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:32.893 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:32.893 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:32.893 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:47:32.893 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:47:32.896 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:47:32.899 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:47:32.900 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.6056ms
2025-07-29 09:47:32.901 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:47:32.901 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:47:32.901 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 9.0013ms
2025-07-29 09:47:32.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:32.902 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.0675ms
2025-07-29 09:47:32.902 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:47:32.906 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:47:32.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.4815ms
2025-07-29 09:47:32.911 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:47:32.912 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 18.5017ms
2025-07-29 09:47:32.912 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:47:32.913 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.5091ms
2025-07-29 09:48:02.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:02.895 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:02.896 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:48:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:02.896 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:02.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:02.896 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:02.896 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:02.896 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:02.909 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:48:02.913 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:48:02.913 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:48:02.913 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.434ms
2025-07-29 09:48:02.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:02.915 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:02.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.7943ms
2025-07-29 09:48:02.915 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.9974ms
2025-07-29 09:48:02.915 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:02.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.887ms
2025-07-29 09:48:02.932 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:48:02.932 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:02.933 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.7565ms
2025-07-29 09:48:02.933 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:02.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.6275ms
2025-07-29 09:48:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:48:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:29.669 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:29.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:48:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:29.674 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:29.676 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:48:29.676 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:48:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 9.2801ms
2025-07-29 09:48:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:29.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:29.678 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:48:29.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 19.2681ms
2025-07-29 09:48:29.694 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:48:29.697 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:48:29.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.4082ms
2025-07-29 09:48:29.698 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:29.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 50.9135ms
2025-07-29 09:48:29.723 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:48:29.724 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:29.724 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.0463ms
2025-07-29 09:48:29.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:29.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 47.8896ms
2025-07-29 09:48:32.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:32.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:32.908 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:32.908 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:48:32.908 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:32.908 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:48:32.908 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:32.908 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:32.908 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:32.908 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:32.908 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:48:32.908 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:48:32.914 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:48:32.919 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:48:32.919 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.2706ms
2025-07-29 09:48:32.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:48:32.920 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 12.4232ms
2025-07-29 09:48:32.920 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:48:32.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:32.925 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.2305ms
2025-07-29 09:48:32.926 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:48:32.931 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.5629ms
2025-07-29 09:48:32.932 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:48:32.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:48:32.939 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.3086ms
2025-07-29 09:48:32.939 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:48:32.940 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.2195ms
2025-07-29 09:49:03.027 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:03.094 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:03.095 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:03.095 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:03.101 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:03.186 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:49:03.189 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:03.192 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:03.588 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:03.588 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:03.589 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:03.603 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:03.636 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:49:03.641 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:49:03.687 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:03.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 494.8576ms
2025-07-29 09:49:03.688 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:49:03.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:03.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 84.4876ms
2025-07-29 09:49:03.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:03.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 661.5599ms
2025-07-29 09:49:03.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 100.2756ms
2025-07-29 09:49:03.760 +00:00 [INF] Executed DbCommand (558ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:49:03.766 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:03.767 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 580.6204ms
2025-07-29 09:49:03.767 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:03.767 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 672.9159ms
2025-07-29 09:49:07.156 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:49:07.156 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.156 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.4374ms
2025-07-29 09:49:07.165 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:07.166 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.167 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 11.8227ms
2025-07-29 09:49:07.167 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:49:07.168 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.168 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:49:07.168 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:49:07.175 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:07.175 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.175 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:49:07.175 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:49:07.217 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:49:07.218 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:49:07.219 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:07.219 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 50.6311ms
2025-07-29 09:49:07.219 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:49:07.219 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 51.5973ms
2025-07-29 09:49:07.234 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:49:07.234 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:07.234 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 58.6687ms
2025-07-29 09:49:07.234 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:49:07.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 60.3491ms
2025-07-29 09:49:07.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:07.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:49:07.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:07.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:49:07.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:49:07.673 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:49:07.673 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:49:07.681 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:49:07.682 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:07.682 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:49:07.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 9.4624ms
2025-07-29 09:49:07.683 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:49:07.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 12.1037ms
2025-07-29 09:49:07.688 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:49:07.690 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:07.690 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 16.715ms
2025-07-29 09:49:07.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:49:07.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.0346ms
2025-07-29 09:49:09.498 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:49:09.499 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:09.499 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 0.8168ms
2025-07-29 09:49:09.501 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:49:09.501 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:09.502 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:49:09.502 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:49:09.508 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-29 09:49:09.508 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-29 09:49:09.509 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 6.7994ms
2025-07-29 09:49:09.509 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:49:09.509 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 8.2878ms
2025-07-29 09:49:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:49:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:49:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:29.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:29.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:29.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:49:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:29.677 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:49:29.687 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:49:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:29.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.4246ms
2025-07-29 09:49:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:29.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 30.6222ms
2025-07-29 09:49:29.697 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:49:29.700 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:49:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.5443ms
2025-07-29 09:49:29.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:29.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 36.0523ms
2025-07-29 09:49:29.702 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:49:29.722 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:29.722 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.1138ms
2025-07-29 09:49:29.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 55.5197ms
2025-07-29 09:49:32.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:32.896 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:32.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:32.898 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:49:32.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:32.898 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:32.898 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:32.898 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:32.898 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:49:32.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:49:32.899 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:32.900 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:49:32.913 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:49:32.914 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:49:32.914 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.9454ms
2025-07-29 09:49:32.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:49:32.915 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.5504ms
2025-07-29 09:49:32.921 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:49:32.922 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:32.924 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.7845ms
2025-07-29 09:49:32.929 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:49:32.929 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.4206ms
2025-07-29 09:49:32.929 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:49:32.930 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:49:32.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.8887ms
2025-07-29 09:49:32.930 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:49:32.932 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.4671ms
2025-07-29 09:50:02.897 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:02.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:02.898 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:02.898 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:02.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:02.898 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:02.898 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:02.898 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:02.898 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:02.898 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:02.899 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:02.899 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:50:02.923 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:50:02.927 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:50:02.927 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.9165ms
2025-07-29 09:50:02.927 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:02.928 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:50:02.944 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:02.945 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.7782ms
2025-07-29 09:50:02.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 47.3639ms
2025-07-29 09:50:02.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:02.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.741ms
2025-07-29 09:50:02.970 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:50:02.971 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:02.971 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 70.5541ms
2025-07-29 09:50:02.971 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:02.971 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 72.742ms
2025-07-29 09:50:24.471 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:24.471 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.471 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.8383ms
2025-07-29 09:50:24.473 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:50:24.473 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.473 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.2594ms
2025-07-29 09:50:24.478 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:24.478 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.478 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:50:24.478 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:50:24.484 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:50:24.485 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.486 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:50:24.486 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:50:24.499 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:50:24.507 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:50:24.507 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:50:24.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:24.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:24.508 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 29.5666ms
2025-07-29 09:50:24.514 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 28.2325ms
2025-07-29 09:50:24.514 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:50:24.514 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:50:24.514 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 30.4437ms
2025-07-29 09:50:24.514 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.2996ms
2025-07-29 09:50:24.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:24.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:50:24.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:24.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:50:24.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:50:24.683 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:50:24.683 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:50:24.691 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:50:24.692 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:50:24.693 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:24.694 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 10.8474ms
2025-07-29 09:50:24.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:50:24.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 16.356ms
2025-07-29 09:50:24.698 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:50:24.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:24.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 14.7601ms
2025-07-29 09:50:24.698 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:50:24.698 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.4697ms
2025-07-29 09:50:29.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:50:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:50:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:50:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:29.664 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:29.665 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:50:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:29.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:29.672 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:50:29.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:50:29.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.7527ms
2025-07-29 09:50:29.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:29.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 11.6693ms
2025-07-29 09:50:29.677 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:50:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:29.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0236ms
2025-07-29 09:50:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 23.3941ms
2025-07-29 09:50:29.691 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:50:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:29.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.1684ms
2025-07-29 09:50:29.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:29.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 29.3627ms
2025-07-29 09:50:32.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:32.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:32.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:50:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:50:32.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:32.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:32.904 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:32.904 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:32.904 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:50:32.904 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:50:32.909 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:50:32.914 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:50:32.916 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:50:32.916 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:32.918 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.8628ms
2025-07-29 09:50:32.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:50:32.919 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:50:32.920 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.0797ms
2025-07-29 09:50:32.921 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.0323ms
2025-07-29 09:50:32.921 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:50:32.921 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:50:32.922 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.3319ms
2025-07-29 09:50:32.922 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.5289ms
2025-07-29 09:50:32.922 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:50:32.922 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.5683ms
2025-07-29 09:51:02.901 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:02.901 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:02.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:02.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:02.902 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:02.902 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:02.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:02.902 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:02.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:02.902 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:02.902 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:02.902 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:51:02.929 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:51:02.930 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:51:02.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.2898ms
2025-07-29 09:51:02.931 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:02.931 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:51:02.934 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:02.934 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.4225ms
2025-07-29 09:51:02.934 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:02.936 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.5068ms
2025-07-29 09:51:02.948 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 47.2867ms
2025-07-29 09:51:03.010 +00:00 [INF] Executed DbCommand (87ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:51:03.011 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:03.012 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 109.6657ms
2025-07-29 09:51:03.012 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:03.012 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 110.4916ms
2025-07-29 09:51:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:51:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:51:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:51:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:29.665 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:29.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:29.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:51:29.675 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:51:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:51:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.7489ms
2025-07-29 09:51:29.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:29.683 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:51:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.2703ms
2025-07-29 09:51:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:29.705 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 40.7008ms
2025-07-29 09:51:29.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 42.5556ms
2025-07-29 09:51:29.775 +00:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:51:29.775 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:29.775 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 109.6471ms
2025-07-29 09:51:29.775 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:29.775 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 110.9381ms
2025-07-29 09:51:32.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:32.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:32.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:32.905 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:32.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:32.908 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:32.908 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:32.908 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:51:32.918 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:51:32.920 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:32.934 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:51:32.938 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:32.938 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:32.938 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:51:32.938 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:32.938 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:51:32.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.7486ms
2025-07-29 09:51:32.938 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.9873ms
2025-07-29 09:51:32.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:51:32.938 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:51:32.939 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.9507ms
2025-07-29 09:51:32.939 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.2893ms
2025-07-29 09:51:32.952 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:51:32.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:32.955 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 17.0777ms
2025-07-29 09:51:32.956 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:51:32.956 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.2044ms
2025-07-29 09:51:51.149 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:51.159 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.160 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 10.6462ms
2025-07-29 09:51:51.160 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:51:51.160 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.160 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.3485ms
2025-07-29 09:51:51.165 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:51.165 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.165 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:51:51.166 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:51:51.166 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.166 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:51:51.166 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:51:51.166 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:51:51.179 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:51:51.188 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:51:51.188 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:51.188 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 22.1094ms
2025-07-29 09:51:51.188 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:51:51.188 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.4862ms
2025-07-29 09:51:51.196 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:51:51.196 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:51.196 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 30.1551ms
2025-07-29 09:51:51.196 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:51:51.197 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 31.5763ms
2025-07-29 09:51:51.942 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:51:51.942 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:51:51.943 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.943 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:51:51.943 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:51:51.943 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:51:51.943 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:51:51.943 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:51:51.949 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:51:51.953 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:51:51.955 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:51.957 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 13.5244ms
2025-07-29 09:51:51.957 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:51:51.957 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 15.1728ms
2025-07-29 09:51:51.958 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:51:51.958 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:51:51.958 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 14.8856ms
2025-07-29 09:51:51.958 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:51:51.959 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.451ms
2025-07-29 09:52:02.903 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:02.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:02.904 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:02.904 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:02.905 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:02.905 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:02.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:02.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:02.905 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:02.905 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:52:02.905 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:02.905 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:02.913 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:52:02.919 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:02.933 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:52:02.919 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:52:02.939 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.4006ms
2025-07-29 09:52:02.939 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:02.940 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:02.940 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.4129ms
2025-07-29 09:52:02.940 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.0467ms
2025-07-29 09:52:02.940 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:02.940 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:52:02.940 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.5629ms
2025-07-29 09:52:02.941 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.9877ms
2025-07-29 09:52:02.941 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:02.941 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.8992ms
2025-07-29 09:52:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:52:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:52:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:29.673 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:29.688 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - null null
2025-07-29 09:52:29.690 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:52:29.690 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:29.691 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:29.691 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:52:29.691 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:52:29.723 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:52:29.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.0127ms
2025-07-29 09:52:29.723 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:29.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 53.3043ms
2025-07-29 09:52:29.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:29.737 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 71.298ms
2025-07-29 09:52:29.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:29.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 75.9719ms
2025-07-29 09:52:29.843 +00:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:52:29.844 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:29.844 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 152.3044ms
2025-07-29 09:52:29.844 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:29.844 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=3CEEFCE9-3816-4420-A690-1A247882F6FE - 200 null application/json; charset=utf-8 156.8971ms
2025-07-29 09:52:33.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:33.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:33.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:52:33.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:33.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:33.655 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:33.656 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:33.656 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:33.656 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:52:33.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:52:33.656 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:33.656 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:52:33.660 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:52:33.662 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:52:33.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:33.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.2712ms
2025-07-29 09:52:33.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:52:33.669 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:52:33.671 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.0175ms
2025-07-29 09:52:33.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9638ms
2025-07-29 09:52:33.671 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:52:33.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.595ms
2025-07-29 09:52:33.682 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:52:33.691 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:52:33.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.9485ms
2025-07-29 09:52:33.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:52:33.694 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.7051ms
2025-07-29 09:53:03.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:53:03.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:53:03.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:53:03.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:53:03.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:53:03.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:53:03.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:53:03.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:53:03.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:53:03.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:53:03.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:53:03.662 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:53:03.699 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:53:03.699 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:53:03.700 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:53:03.700 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:53:03.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.826ms
2025-07-29 09:53:03.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:53:03.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.4109ms
2025-07-29 09:53:03.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.7573ms
2025-07-29 09:53:03.705 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:53:03.706 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 48.109ms
2025-07-29 09:53:03.722 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:53:03.725 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:53:03.726 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 63.9896ms
2025-07-29 09:53:03.726 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:53:03.735 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 74.3247ms
2025-07-29 09:58:54.564 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:58:54.564 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:58:54.567 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.3413ms
2025-07-29 09:58:54.576 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:58:54.576 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:58:54.577 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.3337ms
2025-07-29 09:58:54.594 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:58:54.595 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:58:54.595 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:58:54.595 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:58:54.595 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:58:54.595 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4416ms
2025-07-29 09:58:54.595 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:58:54.595 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.9666ms
2025-07-29 09:58:54.600 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:58:54.600 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:58:54.600 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:58:54.600 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:58:54.600 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:58:54.600 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4933ms
2025-07-29 09:58:54.601 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:58:54.601 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.0941ms
2025-07-29 09:59:11.728 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:11.728 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:11.731 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.5705ms
2025-07-29 09:59:11.731 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:11.731 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:11.731 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.2713ms
2025-07-29 09:59:11.773 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:11.773 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:11.773 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:11.773 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:59:11.774 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:11.774 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4645ms
2025-07-29 09:59:11.774 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:11.774 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 24.8221ms
2025-07-29 09:59:11.796 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:11.796 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:11.796 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:11.796 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:59:11.797 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:11.797 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6113ms
2025-07-29 09:59:11.797 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:11.797 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.5339ms
2025-07-29 09:59:12.023 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:12.023 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.024 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:12.024 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:59:12.024 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:12.024 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.56ms
2025-07-29 09:59:12.024 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:12.024 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.0703ms
2025-07-29 09:59:12.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 09:59:12.032 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.032 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:12.032 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 09:59:12.033 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:12.034 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.1198ms
2025-07-29 09:59:12.034 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 09:59:12.034 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.0486ms
2025-07-29 09:59:12.189 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.189 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.190 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 4.1798ms
2025-07-29 09:59:12.202 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:59:12.206 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.206 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 4.8945ms
2025-07-29 09:59:12.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:59:12.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:59:12.217 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:59:12.278 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.284 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.285 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:59:12.285 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:59:12.347 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.348 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.348 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:12.348 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:59:12.350 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.350 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.350 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:59:12.350 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:59:12.507 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.513 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.516 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.516 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:12.516 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.516 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:59:12.516 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:59:12.516 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:59:12.575 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:59:12.626 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.644 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:59:12.657 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 439.8916ms
2025-07-29 09:59:12.658 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:59:12.659 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 446.3111ms
2025-07-29 09:59:12.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 09:59:12.687 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:12.716 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:12.719 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:59:12.721 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:59:12.730 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:59:12.731 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.740 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 454.7975ms
2025-07-29 09:59:12.740 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:59:12.740 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:59:12.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 463.3556ms
2025-07-29 09:59:12.741 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:59:12.741 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 224.8411ms
2025-07-29 09:59:12.741 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:12.742 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 234.7543ms
2025-07-29 09:59:12.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.809 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.809 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 09:59:12.809 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.810 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:12.810 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:59:12.811 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:59:12.810 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:59:12.813 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.814 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 92.9187ms
2025-07-29 09:59:12.814 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 09:59:12.814 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 153.9408ms
2025-07-29 09:59:12.816 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:12.815 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:59:12.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 480.8747ms
2025-07-29 09:59:12.832 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:59:12.833 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 482.6954ms
2025-07-29 09:59:12.839 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:59:12.841 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:59:12.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 28.2793ms
2025-07-29 09:59:12.841 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:12.842 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 32.6076ms
2025-07-29 09:59:12.902 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:59:12.902 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.907 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 390.1773ms
2025-07-29 09:59:12.907 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:59:12.907 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:12.907 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 399.7882ms
2025-07-29 09:59:12.908 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:12.908 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 560.0081ms
2025-07-29 09:59:12.908 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:12.922 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 574.2906ms
2025-07-29 09:59:12.943 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 09:59:12.952 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:12.952 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 140.8231ms
2025-07-29 09:59:12.952 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 09:59:12.952 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 145.7628ms
2025-07-29 09:59:12.952 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.953 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.953 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:59:12.953 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.953 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.953 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.953 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 09:59:12.953 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:59:12.953 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:12.953 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.954 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:12.954 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:12.954 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:12.954 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:59:12.954 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:59:12.956 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:59:13.057 +00:00 [INF] Executed DbCommand (102ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:59:13.081 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:13.082 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:13.083 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 128.4965ms
2025-07-29 09:59:13.141 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:13.141 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 09:59:13.142 +00:00 [INF] Executed DbCommand (186ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:59:13.143 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:59:13.142 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 188.8391ms
2025-07-29 09:59:13.237 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 282.4241ms
2025-07-29 09:59:13.237 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:13.238 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 284.853ms
2025-07-29 09:59:13.242 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 09:59:13.242 +00:00 [INF] Executed DbCommand (97ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 09:59:13.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:13.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 287.2516ms
2025-07-29 09:59:13.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 09:59:13.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:13.251 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 297.3863ms
2025-07-29 09:59:13.251 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 09:59:13.251 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 298.595ms
2025-07-29 09:59:13.252 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 299.2299ms
2025-07-29 09:59:13.293 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:13.293 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:13.295 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:13.298 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 09:59:13.308 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 09:59:13.314 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 09:59:13.315 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 16.5147ms
2025-07-29 09:59:13.315 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 09:59:13.316 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 22.5833ms
2025-07-29 09:59:17.871 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:59:17.875 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:17.875 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 4.3156ms
2025-07-29 09:59:17.881 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 09:59:17.881 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:17.881 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:59:17.882 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 09:59:17.894 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-29 09:59:17.896 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-29 09:59:17.897 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 15.5292ms
2025-07-29 09:59:17.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 09:59:17.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 17.6484ms
2025-07-29 09:59:42.247 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:42.247 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:42.248 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:42.248 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:42.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:59:42.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:59:42.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 09:59:42.250 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:59:42.250 +00:00 [INF] CORS policy execution successful.
2025-07-29 09:59:42.250 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 09:59:42.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:42.250 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 09:59:42.270 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 09:59:42.271 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:42.276 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.1141ms
2025-07-29 09:59:42.277 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 09:59:42.279 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.8755ms
2025-07-29 09:59:42.279 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 09:59:42.284 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 09:59:42.285 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.6452ms
2025-07-29 09:59:42.286 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 09:59:42.290 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.2636ms
2025-07-29 09:59:42.320 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 09:59:42.320 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 09:59:42.320 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.9809ms
2025-07-29 09:59:42.320 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 09:59:42.321 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 74.2798ms
2025-07-29 10:00:12.215 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:12.215 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:12.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:12.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:12.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:00:12.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:00:12.216 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:00:12.216 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:00:12.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:12.219 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:12.220 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:00:12.220 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:00:12.256 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:00:12.256 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:00:12.256 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:00:12.256 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:00:12.256 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1241ms
2025-07-29 10:00:12.256 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:00:12.256 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.3131ms
2025-07-29 10:00:12.257 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:00:12.257 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 41.1735ms
2025-07-29 10:00:12.257 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 41.6791ms
2025-07-29 10:00:12.308 +00:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:00:12.308 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:00:12.308 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.215ms
2025-07-29 10:00:12.308 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:00:12.308 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 90.6501ms
2025-07-29 10:00:42.228 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:42.229 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:42.229 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:00:42.229 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:42.229 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:00:42.229 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:42.229 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:00:42.229 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:00:42.230 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:00:42.230 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:00:42.230 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:00:42.231 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:00:42.250 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:00:42.250 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:00:42.251 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.4429ms
2025-07-29 10:00:42.251 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:00:42.251 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:00:42.269 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.6997ms
2025-07-29 10:00:42.270 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:00:42.270 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 41.0741ms
2025-07-29 10:00:42.270 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:00:42.273 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.5581ms
2025-07-29 10:00:42.299 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:00:42.299 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:00:42.299 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.4978ms
2025-07-29 10:00:42.299 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:00:42.300 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 70.4966ms
2025-07-29 10:01:12.232 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:12.232 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:12.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:12.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:12.235 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:01:12.235 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:01:12.235 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:01:12.236 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:01:12.247 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:01:12.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:12.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:12.252 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:12.252 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:01:12.257 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:01:12.259 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.4122ms
2025-07-29 10:01:12.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:01:12.260 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.8509ms
2025-07-29 10:01:12.287 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:01:12.308 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:01:12.308 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.396ms
2025-07-29 10:01:12.308 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:01:12.315 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 65.1573ms
2025-07-29 10:01:12.377 +00:00 [INF] Executed DbCommand (125ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:01:12.379 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:12.380 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 143.992ms
2025-07-29 10:01:12.380 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:01:12.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 148.3823ms
2025-07-29 10:01:39.975 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:39.976 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:39.983 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 8.4022ms
2025-07-29 10:01:39.983 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:01:39.984 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:39.984 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.3139ms
2025-07-29 10:01:39.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:01:39.989 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:39.989 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:39.989 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:39.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:01:39.989 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:01:39.990 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:01:39.990 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:01:40.064 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:01:40.072 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:01:40.073 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:40.073 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 83.1441ms
2025-07-29 10:01:40.073 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:01:40.073 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 84.2012ms
2025-07-29 10:01:40.078 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:01:40.079 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:40.079 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 89.5478ms
2025-07-29 10:01:40.079 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:01:40.080 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 90.5459ms
2025-07-29 10:01:42.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:42.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:42.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:01:42.217 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:42.217 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:42.217 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:01:42.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:01:42.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:01:42.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:01:42.217 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:01:42.217 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:01:42.217 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:01:42.225 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:01:42.226 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:01:42.230 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:01:42.230 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:42.230 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.8873ms
2025-07-29 10:01:42.230 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.007ms
2025-07-29 10:01:42.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:01:42.230 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:01:42.238 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.541ms
2025-07-29 10:01:42.238 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.334ms
2025-07-29 10:01:42.359 +00:00 [INF] Executed DbCommand (128ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:01:42.359 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:01:42.359 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 141.8638ms
2025-07-29 10:01:42.359 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:01:42.360 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 143.802ms
2025-07-29 10:02:12.252 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:12.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:12.253 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:02:12.257 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:02:12.257 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:12.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:12.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:12.258 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:02:12.258 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:02:12.258 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:12.259 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:02:12.259 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:02:12.276 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:02:12.276 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:12.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.1728ms
2025-07-29 10:02:12.277 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:02:12.277 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:02:12.288 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.2813ms
2025-07-29 10:02:12.298 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:02:12.298 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.4694ms
2025-07-29 10:02:12.298 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:02:12.299 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.6852ms
2025-07-29 10:02:12.346 +00:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:02:12.347 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:12.347 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.3705ms
2025-07-29 10:02:12.347 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:02:12.347 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 89.8523ms
2025-07-29 10:02:31.390 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:31.391 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:31.391 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.3505ms
2025-07-29 10:02:31.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:02:31.392 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:31.392 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.2846ms
2025-07-29 10:02:31.401 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:31.401 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:02:31.401 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:31.401 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:31.401 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:31.401 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:31.401 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:02:31.401 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:02:31.420 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:02:31.425 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:02:31.425 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:31.426 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 24.3297ms
2025-07-29 10:02:31.426 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:31.426 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.1114ms
2025-07-29 10:02:31.429 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:02:31.429 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:31.429 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 28.0148ms
2025-07-29 10:02:31.429 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:31.430 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 28.7577ms
2025-07-29 10:02:33.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:33.851 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:02:33.852 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:33.852 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:33.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:33.852 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:33.852 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:02:33.852 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:02:33.859 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:02:33.873 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:02:33.874 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:33.874 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 21.5965ms
2025-07-29 10:02:33.874 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:33.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.8033ms
2025-07-29 10:02:33.879 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:02:33.880 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:33.880 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 27.8844ms
2025-07-29 10:02:33.880 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:33.881 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 29.9568ms
2025-07-29 10:02:42.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:42.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:42.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:42.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:42.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:42.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:42.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:02:42.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:02:42.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:02:42.218 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:02:42.218 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:02:42.218 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:02:42.222 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:02:42.227 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:02:42.229 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.1758ms
2025-07-29 10:02:42.231 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:02:42.233 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.4876ms
2025-07-29 10:02:42.233 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:02:42.236 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:42.236 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0778ms
2025-07-29 10:02:42.236 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:02:42.236 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.8602ms
2025-07-29 10:02:42.278 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:02:42.278 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:42.278 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 60.1434ms
2025-07-29 10:02:42.278 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:02:42.279 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 61.622ms
2025-07-29 10:02:56.728 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:56.728 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:56.728 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:02:56.728 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:56.728 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.2017ms
2025-07-29 10:02:56.729 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.6573ms
2025-07-29 10:02:56.733 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:02:56.732 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:02:56.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:56.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:02:56.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:56.733 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:56.733 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:02:56.733 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:02:56.738 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:02:56.740 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:02:56.742 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:56.744 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 10.4982ms
2025-07-29 10:02:56.746 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:02:56.747 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 15.2019ms
2025-07-29 10:02:56.749 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:02:56.750 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:02:56.750 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 16.2638ms
2025-07-29 10:02:56.750 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:02:56.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.8537ms
2025-07-29 10:03:01.733 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:01.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:01.733 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.2834ms
2025-07-29 10:03:01.734 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:01.735 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:01.735 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:01.735 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:03:01.739 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:01.739 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:01.739 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:01.740 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:01.744 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:03:01.747 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:03:01.747 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:01.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 12.5154ms
2025-07-29 10:03:01.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:01.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.295ms
2025-07-29 10:03:01.751 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:03:01.753 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:01.757 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 16.254ms
2025-07-29 10:03:01.758 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:01.760 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 21.492ms
2025-07-29 10:03:05.424 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:05.424 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:05.424 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:05.425 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:05.425 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.3288ms
2025-07-29 10:03:05.425 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:05.425 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:05.428 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:05.429 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:05.430 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:03:05.431 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:05.431 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:03:05.432 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:05.433 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 7.8075ms
2025-07-29 10:03:05.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:05.435 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 10.697ms
2025-07-29 10:03:05.440 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:03:05.447 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:03:05.448 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:05.448 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 16.9206ms
2025-07-29 10:03:05.448 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:05.449 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.2155ms
2025-07-29 10:03:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:12.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:12.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:12.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:12.215 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:03:12.215 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:03:12.215 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:03:12.215 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:03:12.215 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:12.215 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:03:12.220 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:03:12.221 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:03:12.227 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:12.228 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.2561ms
2025-07-29 10:03:12.228 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:03:12.228 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:03:12.228 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.5751ms
2025-07-29 10:03:12.228 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.475ms
2025-07-29 10:03:12.228 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:03:12.229 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.4688ms
2025-07-29 10:03:12.270 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:03:12.270 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:12.270 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.6323ms
2025-07-29 10:03:12.270 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:03:12.270 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 55.8681ms
2025-07-29 10:03:17.945 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:17.945 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:17.945 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.2898ms
2025-07-29 10:03:17.945 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:17.945 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:17.945 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.1392ms
2025-07-29 10:03:18.105 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:18.105 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:18.105 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:18.105 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:18.106 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:18.106 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:18.106 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:18.106 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:03:18.119 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:03:18.129 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:03:18.130 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:18.130 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 24.0474ms
2025-07-29 10:03:18.130 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:18.130 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.2102ms
2025-07-29 10:03:18.145 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:03:18.145 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:18.145 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 39.2174ms
2025-07-29 10:03:18.145 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:18.145 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 40.0392ms
2025-07-29 10:03:24.331 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:24.331 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:24.332 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 4.1525ms
2025-07-29 10:03:24.336 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:24.337 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:24.337 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.9707ms
2025-07-29 10:03:24.350 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:24.350 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:24.350 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:24.351 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:03:24.361 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:03:24.361 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:24.361 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:24.361 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:24.376 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:03:24.383 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:03:24.383 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:24.384 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 33.1757ms
2025-07-29 10:03:24.384 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:03:24.385 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.0566ms
2025-07-29 10:03:24.384 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:03:24.387 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:24.391 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 28.9736ms
2025-07-29 10:03:24.391 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:03:24.391 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 30.3746ms
2025-07-29 10:03:42.233 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:42.233 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:42.234 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:42.234 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:03:42.234 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:03:42.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:42.235 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:03:42.235 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:03:42.235 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:03:42.235 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:03:42.235 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:03:42.237 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:03:42.247 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:03:42.247 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:03:42.260 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:42.261 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:03:42.262 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.0329ms
2025-07-29 10:03:42.262 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:03:42.265 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 27.1776ms
2025-07-29 10:03:42.265 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:03:42.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.0636ms
2025-07-29 10:03:42.267 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.528ms
2025-07-29 10:03:42.314 +00:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:03:42.315 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:03:42.315 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 79.4279ms
2025-07-29 10:03:42.315 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:03:42.315 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 82.9999ms
2025-07-29 10:04:12.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:12.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:12.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:12.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:12.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:12.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:12.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:04:12.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:04:12.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:04:12.219 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:04:12.219 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:04:12.219 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:04:12.232 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:04:12.233 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:04:12.241 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:04:12.245 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.3127ms
2025-07-29 10:04:12.246 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:04:12.246 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:04:12.249 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.4022ms
2025-07-29 10:04:12.249 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:04:12.250 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:04:12.250 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.8689ms
2025-07-29 10:04:12.250 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.6996ms
2025-07-29 10:04:12.251 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:04:12.251 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:04:12.251 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.351ms
2025-07-29 10:04:12.252 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.3379ms
2025-07-29 10:04:42.278 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:42.278 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:42.278 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:04:42.278 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:04:42.278 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:42.279 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:42.279 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:04:42.279 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:04:42.287 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:04:42.294 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:04:42.295 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:04:42.295 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:04:42.311 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:04:42.312 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:04:42.313 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:04:42.314 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.8703ms
2025-07-29 10:04:42.314 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:04:42.316 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:04:42.316 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 36.932ms
2025-07-29 10:04:42.316 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:04:42.316 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.3376ms
2025-07-29 10:04:42.316 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.7941ms
2025-07-29 10:04:42.446 +00:00 [INF] Executed DbCommand (130ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:04:42.447 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:04:42.447 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 151.4882ms
2025-07-29 10:04:42.447 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:04:42.447 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 159.912ms
2025-07-29 10:05:13.098 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:13.099 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:13.099 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:05:13.099 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:05:13.099 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:13.100 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:13.101 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:05:13.101 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:05:13.125 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:13.126 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:13.128 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:05:13.131 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:05:13.166 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:05:13.167 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:13.167 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 68.3191ms
2025-07-29 10:05:13.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:05:13.168 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 69.4422ms
2025-07-29 10:05:13.168 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:05:13.168 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:05:13.168 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 67.3971ms
2025-07-29 10:05:13.168 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:05:13.204 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 105.0354ms
2025-07-29 10:05:13.267 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:05:13.282 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:13.283 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 149.0867ms
2025-07-29 10:05:13.283 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:05:13.283 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 161.9365ms
2025-07-29 10:05:15.652 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:15.763 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:05:15.763 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:15.764 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.1139ms
2025-07-29 10:05:15.764 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:15.764 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 111.6604ms
2025-07-29 10:05:15.772 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:15.774 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:05:15.775 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:15.775 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:15.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:05:15.775 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:05:15.775 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:05:15.775 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:05:15.809 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:05:15.818 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:05:15.818 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:15.819 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 43.5185ms
2025-07-29 10:05:15.819 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:05:15.819 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 49.7806ms
2025-07-29 10:05:15.828 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:05:15.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:15.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 54.1749ms
2025-07-29 10:05:15.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:05:15.830 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.9514ms
2025-07-29 10:05:43.263 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:43.263 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:43.264 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:05:43.264 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:05:43.266 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:43.266 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:05:43.268 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:43.269 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:05:43.269 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:05:43.269 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:05:43.269 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:05:43.269 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:05:43.297 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:05:43.300 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:05:43.300 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.7566ms
2025-07-29 10:05:43.300 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:05:43.300 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:05:43.307 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:43.314 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.1239ms
2025-07-29 10:05:43.316 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:05:43.323 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:05:43.324 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.2817ms
2025-07-29 10:05:43.325 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.1608ms
2025-07-29 10:05:43.325 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:05:43.326 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 62.0561ms
2025-07-29 10:05:43.326 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:05:43.326 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 63.1953ms
2025-07-29 10:06:12.211 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:12.212 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:12.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:12.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:12.213 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:06:12.213 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:06:12.213 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:06:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:12.214 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:06:12.214 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:12.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:06:12.216 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:06:12.240 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:06:12.245 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:06:12.245 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:06:12.247 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.435ms
2025-07-29 10:06:12.247 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:06:12.247 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.3901ms
2025-07-29 10:06:12.247 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:06:12.247 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.9443ms
2025-07-29 10:06:12.247 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:06:12.248 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.2058ms
2025-07-29 10:06:12.254 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:06:12.262 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:06:12.264 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 47.2466ms
2025-07-29 10:06:12.265 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:06:12.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.5264ms
2025-07-29 10:06:42.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:42.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:42.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:42.221 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:06:42.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:06:42.221 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:42.221 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:06:42.221 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:06:42.221 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:06:42.221 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:06:42.221 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:06:42.222 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:06:42.269 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:06:42.269 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:06:42.273 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:06:42.276 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:06:42.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 54.0839ms
2025-07-29 10:06:42.278 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:06:42.278 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.6766ms
2025-07-29 10:06:42.279 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 57.9144ms
2025-07-29 10:06:42.279 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:06:42.279 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 61.3641ms
2025-07-29 10:06:42.335 +00:00 [INF] Executed DbCommand (84ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:06:42.336 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:06:42.336 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 112.2614ms
2025-07-29 10:06:42.336 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:06:42.336 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 115.2844ms
2025-07-29 10:07:12.221 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:12.221 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:12.222 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:07:12.223 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:07:12.251 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:12.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:12.253 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:07:12.253 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:07:12.272 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:12.283 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:07:12.283 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:12.283 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:07:12.283 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:07:12.283 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:07:12.283 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:07:12.284 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.9972ms
2025-07-29 10:07:12.284 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:12.284 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:07:12.284 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.7083ms
2025-07-29 10:07:12.284 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:07:12.286 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 65.5233ms
2025-07-29 10:07:12.286 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.0163ms
2025-07-29 10:07:12.371 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:07:12.371 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:12.371 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.8279ms
2025-07-29 10:07:12.372 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:07:12.372 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 100.7738ms
2025-07-29 10:07:42.245 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:42.246 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:42.246 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:07:42.246 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:07:42.266 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:42.266 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:42.266 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:42.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:07:42.266 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:42.266 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:07:42.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:07:42.266 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:07:42.316 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:07:42.317 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:07:42.319 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.9974ms
2025-07-29 10:07:42.319 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:07:42.319 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:07:42.341 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 74.7925ms
2025-07-29 10:07:42.341 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:42.344 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 97.7143ms
2025-07-29 10:07:42.344 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:07:42.345 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 99.4483ms
2025-07-29 10:07:42.469 +00:00 [INF] Executed DbCommand (200ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:07:42.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:42.475 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 208.9002ms
2025-07-29 10:07:42.476 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:07:42.477 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 211.1085ms
2025-07-29 10:07:42.950 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:07:42.951 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:42.951 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.4067ms
2025-07-29 10:07:42.970 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:42.970 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:42.970 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 20.3026ms
2025-07-29 10:07:43.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:07:43.057 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:07:43.058 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:43.058 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:07:43.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:07:43.058 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:07:43.058 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:07:43.058 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:07:43.166 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:07:43.166 +00:00 [INF] Executed DbCommand (104ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:07:43.166 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:43.166 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 108.5405ms
2025-07-29 10:07:43.167 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:07:43.167 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 110.1003ms
2025-07-29 10:07:43.210 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:07:43.211 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:07:43.211 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 152.9663ms
2025-07-29 10:07:43.211 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:07:43.211 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 153.8704ms
2025-07-29 10:08:12.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:12.250 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:12.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:08:12.254 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:08:12.255 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:12.256 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:12.266 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:08:12.267 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:08:12.288 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:12.291 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:12.292 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:08:12.293 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:08:12.293 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:08:12.297 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:08:12.297 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 42.7012ms
2025-07-29 10:08:12.297 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:08:12.297 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 48.4982ms
2025-07-29 10:08:12.303 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:08:12.307 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:08:12.307 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.9804ms
2025-07-29 10:08:12.308 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:08:12.319 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 69.3867ms
2025-07-29 10:08:12.381 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:08:12.381 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:08:12.381 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.4137ms
2025-07-29 10:08:12.381 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:08:12.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 94.2282ms
2025-07-29 10:08:42.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:42.217 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:42.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:08:42.218 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:08:42.224 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:42.224 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:42.224 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:08:42.225 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:08:42.248 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:08:42.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:08:42.252 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:08:42.252 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:08:42.252 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:08:42.266 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:08:42.276 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:08:42.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.0031ms
2025-07-29 10:08:42.278 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:08:42.279 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:08:42.279 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.641ms
2025-07-29 10:08:42.279 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 61.4224ms
2025-07-29 10:08:42.280 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:08:42.284 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 68.3841ms
2025-07-29 10:08:42.446 +00:00 [INF] Executed DbCommand (161ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:08:42.447 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:08:42.448 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 195.1085ms
2025-07-29 10:08:42.448 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:08:42.448 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 200.6766ms
2025-07-29 10:09:12.211 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:12.212 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:12.212 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:09:12.212 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:09:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:12.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:12.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:12.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:12.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:09:12.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:09:12.217 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:09:12.217 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:09:12.249 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:09:12.252 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:09:12.252 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.2659ms
2025-07-29 10:09:12.252 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:09:12.253 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:09:12.263 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:09:12.264 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 51.1767ms
2025-07-29 10:09:12.264 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:09:12.272 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 61.1484ms
2025-07-29 10:09:12.274 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 60.406ms
2025-07-29 10:09:12.315 +00:00 [INF] Executed DbCommand (79ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:09:12.315 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:09:12.316 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 98.8817ms
2025-07-29 10:09:12.316 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:09:12.316 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 102.214ms
2025-07-29 10:09:42.250 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:42.251 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:42.255 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:09:42.255 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:09:42.255 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:42.255 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:09:42.255 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:42.255 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:09:42.256 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:09:42.256 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:09:42.256 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:09:42.256 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:09:42.268 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:09:42.282 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:09:42.286 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:09:42.290 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:09:42.291 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.9864ms
2025-07-29 10:09:42.293 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:09:42.295 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:09:42.295 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.0275ms
2025-07-29 10:09:42.295 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:09:42.295 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 44.2008ms
2025-07-29 10:09:42.298 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.5705ms
2025-07-29 10:09:42.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:09:42.299 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.1147ms
2025-07-29 10:09:42.299 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:09:42.306 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 56.018ms
2025-07-29 10:10:13.776 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:13.784 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:13.785 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:10:13.794 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:10:13.849 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:13.850 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:13.850 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:10:13.884 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:10:13.928 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:10:13.932 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:10:13.933 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 138.5515ms
2025-07-29 10:10:13.933 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:10:13.933 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 156.4863ms
2025-07-29 10:10:13.979 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:13.980 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:13.980 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:10:13.980 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:10:14.018 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:10:14.131 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:10:14.132 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 231.5691ms
2025-07-29 10:10:14.133 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:10:14.174 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 377.2024ms
2025-07-29 10:10:14.366 +00:00 [INF] Executed DbCommand (289ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:10:14.367 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:10:14.368 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 386.9845ms
2025-07-29 10:10:14.368 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:10:14.381 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 402.3484ms
2025-07-29 10:10:42.679 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:42.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:42.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:10:42.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:42.680 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:10:42.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:42.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:10:42.681 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:10:42.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:10:42.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:10:42.684 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:10:42.684 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:10:42.743 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:10:42.744 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:10:42.748 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:10:42.748 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:10:42.748 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:10:42.749 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 68.5235ms
2025-07-29 10:10:42.749 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 67.6333ms
2025-07-29 10:10:42.749 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:10:42.749 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:10:42.749 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:10:42.749 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 65.032ms
2025-07-29 10:10:42.749 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:10:42.749 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 72.4961ms
2025-07-29 10:10:42.749 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 68.6143ms
2025-07-29 10:10:42.764 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.9626ms
2025-07-29 10:11:12.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:12.249 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:12.249 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:12.249 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:11:12.249 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:11:12.249 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:12.256 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:11:12.257 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:11:12.416 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:12.416 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:12.416 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:11:12.417 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:11:12.469 +00:00 [INF] Executed DbCommand (205ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:11:12.525 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:11:12.526 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 276.4875ms
2025-07-29 10:11:12.529 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:11:12.532 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 283.7482ms
2025-07-29 10:11:12.544 +00:00 [INF] Executed DbCommand (251ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:11:12.545 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:11:12.545 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 286.1917ms
2025-07-29 10:11:12.545 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:11:12.545 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 296.4111ms
2025-07-29 10:11:13.015 +00:00 [INF] Executed DbCommand (538ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:11:13.015 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:11:13.016 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 598.9465ms
2025-07-29 10:11:13.016 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:11:13.017 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 600.8997ms
2025-07-29 10:11:42.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:42.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:42.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:11:42.680 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:11:42.695 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:42.695 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:42.705 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:11:42.706 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:11:42.768 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:11:42.777 +00:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:11:42.777 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:11:42.778 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:11:42.779 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 72.9026ms
2025-07-29 10:11:42.779 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:11:42.779 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:11:42.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.9771ms
2025-07-29 10:11:42.779 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:11:42.779 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:11:42.785 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:11:42.796 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 114.2993ms
2025-07-29 10:11:42.796 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:11:42.807 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 130.8907ms
2025-07-29 10:11:42.925 +00:00 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:11:42.931 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:11:42.931 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 152.3022ms
2025-07-29 10:11:42.932 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:11:42.965 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 197.4135ms
2025-07-29 10:12:13.993 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:13.994 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:13.994 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:12:13.994 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:12:14.057 +00:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:12:14.065 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:14.066 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:14.071 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:14.071 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:12:14.073 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:12:14.068 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:14.077 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:12:14.077 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:12:14.120 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:12:14.121 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 126.8446ms
2025-07-29 10:12:14.143 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:12:14.149 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 155.7653ms
2025-07-29 10:12:14.155 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:12:14.257 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:12:14.257 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 180.5863ms
2025-07-29 10:12:14.259 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:12:14.275 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 210.0437ms
2025-07-29 10:12:14.275 +00:00 [INF] Executed DbCommand (150ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:12:14.275 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:12:14.276 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 202.7615ms
2025-07-29 10:12:14.276 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:12:14.276 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 210.5794ms
2025-07-29 10:12:42.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:42.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:42.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:42.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:42.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:12:42.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:12:42.667 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:12:42.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:12:42.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:12:42.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:12:42.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:12:42.669 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:12:42.682 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:12:42.683 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:12:42.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:12:42.699 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:12:42.699 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.5827ms
2025-07-29 10:12:42.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:12:42.703 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 35.9354ms
2025-07-29 10:12:42.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:12:42.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.355ms
2025-07-29 10:12:42.726 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 60.1414ms
2025-07-29 10:12:42.757 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:12:42.758 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:12:42.758 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 88.5481ms
2025-07-29 10:12:42.758 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:12:42.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 89.9467ms
2025-07-29 10:13:12.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:12.713 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:12.713 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:13:12.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:12.718 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:12.718 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:12.719 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:12.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:13:12.719 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:13:12.719 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:13:12.719 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:13:12.719 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:13:12.769 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:13:12.778 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:13:12.779 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 59.4574ms
2025-07-29 10:13:12.779 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:13:12.779 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:13:12.780 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:13:12.781 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.6019ms
2025-07-29 10:13:12.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:13:12.815 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 99.6586ms
2025-07-29 10:13:12.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 108.7893ms
2025-07-29 10:13:12.870 +00:00 [INF] Executed DbCommand (92ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:13:12.871 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:13:12.871 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 147.0726ms
2025-07-29 10:13:12.871 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:13:12.871 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 153.3967ms
2025-07-29 10:13:42.219 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:42.225 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:42.226 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:42.226 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:13:42.228 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:42.228 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:13:42.228 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:13:42.228 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:13:42.229 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:42.229 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:13:42.234 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:13:42.234 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:13:42.283 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:13:42.296 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:13:42.299 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:13:42.306 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 77.3865ms
2025-07-29 10:13:42.307 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:13:42.308 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:13:42.315 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 90.4247ms
2025-07-29 10:13:42.315 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 85.9084ms
2025-07-29 10:13:42.317 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:13:42.319 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 93.6585ms
2025-07-29 10:13:42.481 +00:00 [INF] Executed DbCommand (199ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:13:42.484 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:13:42.485 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 251.2294ms
2025-07-29 10:13:42.486 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:13:42.486 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 257.956ms
2025-07-29 10:13:59.600 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:13:59.600 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:13:59.600 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:59.601 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.0774ms
2025-07-29 10:13:59.602 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:13:59.602 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.8606ms
2025-07-29 10:14:00.836 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:14:00.836 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:00.837 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:14:00.837 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:14:00.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:14:00.838 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8925ms
2025-07-29 10:14:00.838 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:14:00.838 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.4969ms
2025-07-29 10:14:00.854 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:14:00.854 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:00.854 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:14:00.854 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:14:00.856 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:14:00.857 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.8933ms
2025-07-29 10:14:00.857 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:14:00.857 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.1647ms
2025-07-29 10:14:01.579 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.579 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.596 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.602 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 23.6003ms
2025-07-29 10:14:01.595 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:14:01.603 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.603 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:01.603 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:14:01.595 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.587 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:14:01.603 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.603 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 8.2371ms
2025-07-29 10:14:01.603 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.603 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.604 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.604 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 8.2691ms
2025-07-29 10:14:01.603 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.603 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.604 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.604 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:14:01.604 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:14:01.604 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:01.608 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:14:01.623 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:14:01.624 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:14:01.624 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.8233ms
2025-07-29 10:14:01.624 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:01.624 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.7884ms
2025-07-29 10:14:01.647 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:14:01.647 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:14:01.648 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 39.7497ms
2025-07-29 10:14:01.648 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:01.649 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 45.5127ms
2025-07-29 10:14:01.604 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 16.9557ms
2025-07-29 10:14:01.697 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:14:01.697 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:14:01.838 +00:00 [INF] Executed DbCommand (117ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:01.859 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.860 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:14:01.860 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:14:01.894 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:14:01.900 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.900 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.906 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:14:01.906 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.906 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:14:01.906 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:01.906 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:14:01.907 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:01.907 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:01.907 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:01.907 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:14:01.975 +00:00 [INF] Executed DbCommand (133ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:14:01.993 +00:00 [INF] Executed DbCommand (84ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:02.008 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:02.009 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 310.948ms
2025-07-29 10:14:02.009 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:14:02.009 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 312.9071ms
2025-07-29 10:14:02.135 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:02.136 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:02.134 +00:00 [INF] Executed DbCommand (125ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:14:02.145 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:14:02.145 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:14:02.240 +00:00 [INF] Executed DbCommand (400ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:02.706 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:02.710 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 850.0702ms
2025-07-29 10:14:02.779 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:14:02.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 920.0995ms
2025-07-29 10:14:02.800 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:14:02.800 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:14:02.800 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 893.2717ms
2025-07-29 10:14:02.800 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:02.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:02.818 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:02.818 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:14:02.819 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:14:02.778 +00:00 [INF] Executed DbCommand (418ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:14:02.777 +00:00 [INF] Executed DbCommand (538ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:03.424 +00:00 [INF] Executed DbCommand (236ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:14:03.424 +00:00 [INF] Executed DbCommand (564ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:14:03.527 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:03.528 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.529 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:03.531 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 1385.5605ms
2025-07-29 10:14:03.531 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:03.531 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:14:03.559 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1423.5907ms
2025-07-29 10:14:03.558 +00:00 [INF] Executed DbCommand (714ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:03.563 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:14:03.576 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:14:03.576 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.577 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 757.2289ms
2025-07-29 10:14:03.577 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:14:03.578 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.578 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 760.5983ms
2025-07-29 10:14:03.581 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 1976.4944ms
2025-07-29 10:14:03.581 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:14:03.581 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1978.7597ms
2025-07-29 10:14:03.582 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 1674.9928ms
2025-07-29 10:14:03.648 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:14:03.648 +00:00 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:14:03.663 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:14:03.799 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:14:03.658 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:03.807 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 243.733ms
2025-07-29 10:14:03.807 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 1900.6186ms
2025-07-29 10:14:03.807 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:03.807 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:03.807 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:03.807 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.808 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 281.0692ms
2025-07-29 10:14:03.808 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1907.9207ms
2025-07-29 10:14:03.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:03.828 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:03.828 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:03.828 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:14:03.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:14:03.829 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:14:03.831 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 1924.3214ms
2025-07-29 10:14:03.837 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:14:03.839 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 1945.0441ms
2025-07-29 10:14:03.845 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:14:03.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:14:03.857 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 27.9455ms
2025-07-29 10:14:03.857 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:14:03.863 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:14:03.867 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:03.868 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:14:03.868 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:14:03.868 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:14:03.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 51.5918ms
2025-07-29 10:14:03.879 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:14:03.880 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.881 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 51.8315ms
2025-07-29 10:14:03.881 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:14:03.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 225.8865ms
2025-07-29 10:14:03.890 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:14:03.899 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:03.906 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 36.1833ms
2025-07-29 10:14:03.906 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:14:03.910 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 57.3519ms
2025-07-29 10:14:31.457 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:31.458 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:31.460 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:31.460 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:14:31.461 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:31.461 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:14:31.463 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:14:31.464 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:31.464 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:14:31.467 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:14:31.467 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:14:31.468 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:14:31.520 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:14:31.525 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:31.528 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:14:31.537 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 74.0175ms
2025-07-29 10:14:31.537 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:14:31.537 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:14:31.538 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 70.132ms
2025-07-29 10:14:31.538 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 80.6128ms
2025-07-29 10:14:31.538 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:14:31.539 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 79.1455ms
2025-07-29 10:14:31.681 +00:00 [INF] Executed DbCommand (156ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:14:31.681 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:14:31.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 213.3505ms
2025-07-29 10:14:31.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:14:31.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 218.1482ms
2025-07-29 10:15:01.785 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:01.786 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:01.786 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:15:01.792 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:01.792 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:15:01.793 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:01.793 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:15:01.793 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:15:01.799 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:01.799 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:01.800 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:15:01.800 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:15:01.830 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:15:01.838 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:15:01.839 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 45.371ms
2025-07-29 10:15:01.839 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:15:01.839 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:15:01.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 55.9173ms
2025-07-29 10:15:01.853 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:15:01.854 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.7141ms
2025-07-29 10:15:01.854 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:15:01.854 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 68.6973ms
2025-07-29 10:15:02.100 +00:00 [INF] Executed DbCommand (266ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:15:02.101 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:15:02.101 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 293.1196ms
2025-07-29 10:15:02.101 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:15:02.102 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 306.6639ms
2025-07-29 10:15:31.590 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:31.591 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:31.591 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:15:31.591 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:15:31.600 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:31.600 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:31.601 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:15:31.601 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:15:31.611 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:15:31.612 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:15:31.612 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.8164ms
2025-07-29 10:15:31.612 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:15:31.612 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.0474ms
2025-07-29 10:15:31.613 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:15:31.613 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:15:31.613 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.8818ms
2025-07-29 10:15:31.613 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:15:31.613 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 13.3341ms
2025-07-29 10:15:31.646 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:15:31.647 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:15:31.647 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:15:31.647 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:15:31.776 +00:00 [INF] Executed DbCommand (113ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:15:31.776 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:15:31.776 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 128.9754ms
2025-07-29 10:15:31.776 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:15:31.776 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 130.093ms
2025-07-29 10:16:01.452 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:01.453 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:01.453 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:16:01.456 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:16:01.457 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:01.457 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:01.458 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:16:01.458 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:16:01.513 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:01.514 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:16:01.516 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:01.518 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:16:01.519 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:16:01.525 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:01.533 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.4504ms
2025-07-29 10:16:01.534 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:16:01.535 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:16:01.539 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 87.8729ms
2025-07-29 10:16:01.540 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:16:01.541 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 83.2835ms
2025-07-29 10:16:01.541 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:16:01.542 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 85.3413ms
2025-07-29 10:16:01.621 +00:00 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:16:01.621 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:01.621 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 101.3651ms
2025-07-29 10:16:01.621 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:16:01.621 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 109.2248ms
2025-07-29 10:16:03.976 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:03.977 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:03.977 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 3.7527ms
2025-07-29 10:16:03.984 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:16:03.990 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:03.990 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 6.3273ms
2025-07-29 10:16:04.009 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:04.009 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:04.009 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:16:04.009 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:16:04.019 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:16:04.019 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:16:04.021 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:04.021 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:16:04.022 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:16:04.027 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:16:04.029 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:04.029 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 19.8312ms
2025-07-29 10:16:04.029 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:16:04.030 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.5206ms
2025-07-29 10:16:04.045 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:16:04.046 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:04.046 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 23.4707ms
2025-07-29 10:16:04.046 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:16:04.046 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 27.2157ms
2025-07-29 10:16:32.354 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:32.354 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:32.355 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:32.355 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:16:32.355 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:32.355 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:16:32.355 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:16:32.355 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:16:32.368 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:32.368 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:32.369 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:16:32.369 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:16:32.387 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:16:32.387 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:16:32.387 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.9622ms
2025-07-29 10:16:32.388 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:16:32.388 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.9974ms
2025-07-29 10:16:32.404 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:16:32.405 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:32.405 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 49.7485ms
2025-07-29 10:16:32.405 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:16:32.405 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.8908ms
2025-07-29 10:16:32.523 +00:00 [INF] Executed DbCommand (150ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:16:32.524 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:32.524 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 154.857ms
2025-07-29 10:16:32.524 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:16:32.524 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 155.7081ms
2025-07-29 10:16:43.781 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:43.788 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:43.788 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 6.8621ms
2025-07-29 10:16:43.788 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:16:43.789 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:43.789 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.4697ms
2025-07-29 10:16:43.930 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:16:43.930 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:43.939 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:16:43.939 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:16:43.939 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:16:43.939 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:16:43.939 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:16:43.939 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:16:45.188 +00:00 [INF] Executed DbCommand (818ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:16:45.188 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:45.188 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 1249.0161ms
2025-07-29 10:16:45.188 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:16:45.189 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 1250.1324ms
2025-07-29 10:16:45.195 +00:00 [INF] Executed DbCommand (1,250ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:16:45.240 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:16:45.240 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:16:45.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 1301.5005ms
2025-07-29 10:16:45.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:16:45.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1311.0616ms
2025-07-29 10:17:01.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:01.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:01.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:01.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:01.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:17:01.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:17:01.676 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:17:01.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:17:01.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:01.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:01.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:17:01.701 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:17:01.701 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:17:01.701 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:17:01.750 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:17:01.753 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.3054ms
2025-07-29 10:17:01.754 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:17:01.754 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:17:01.755 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 78.5189ms
2025-07-29 10:17:01.755 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:17:01.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.9549ms
2025-07-29 10:17:01.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.5261ms
2025-07-29 10:17:01.788 +00:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:17:01.788 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:17:01.788 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 86.8512ms
2025-07-29 10:17:01.788 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:17:01.788 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 104.8329ms
2025-07-29 10:17:31.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:31.701 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:31.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:31.702 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:31.702 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:17:31.702 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:17:31.702 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:17:31.702 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:17:31.733 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:17:31.733 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:17:31.734 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:17:31.734 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:17:31.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 32.3381ms
2025-07-29 10:17:31.737 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.3186ms
2025-07-29 10:17:31.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:17:31.737 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:17:31.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.6262ms
2025-07-29 10:17:31.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.2156ms
2025-07-29 10:17:31.737 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:17:31.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:17:31.738 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:17:31.744 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:17:31.802 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:17:31.802 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:17:31.802 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.1773ms
2025-07-29 10:17:31.802 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:17:31.803 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 65.2638ms
2025-07-29 10:18:29.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:18:29.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:18:29.696 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:18:29.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:18:29.700 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:18:29.700 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:18:29.700 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:18:29.700 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:18:29.739 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:18:29.741 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:18:29.743 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:18:29.745 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:18:29.775 +00:00 [INF] Executed DbCommand (45ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:18:29.776 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:18:29.776 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 75.8299ms
2025-07-29 10:18:29.776 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:18:29.791 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 94.2235ms
2025-07-29 10:18:29.802 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:18:29.809 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:18:29.810 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 110.0104ms
2025-07-29 10:18:29.810 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:18:29.811 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 118.3927ms
2025-07-29 10:18:29.892 +00:00 [INF] Executed DbCommand (106ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:18:29.893 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:18:29.893 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 147.261ms
2025-07-29 10:18:29.893 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:18:29.893 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 154.9185ms
2025-07-29 10:19:29.690 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:29.691 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:29.691 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:19:29.691 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:19:29.719 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:29.720 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:29.720 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:19:29.720 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:19:29.741 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:19:29.751 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:29.752 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:29.752 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:19:29.752 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:19:29.752 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:19:29.753 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 60.2893ms
2025-07-29 10:19:29.753 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:19:29.753 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 62.6075ms
2025-07-29 10:19:29.767 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:19:29.779 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:19:29.781 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 60.4524ms
2025-07-29 10:19:29.781 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:19:29.784 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 64.3255ms
2025-07-29 10:19:29.835 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:19:29.835 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:19:29.836 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 83.2601ms
2025-07-29 10:19:29.836 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:19:29.836 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 88.4947ms
2025-07-29 10:19:56.054 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:56.054 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.055 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:19:56.055 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:19:56.602 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:56.617 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.617 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:19:56.618 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:19:56.618 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:19:56.618 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.618 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:19:56.622 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:19:56.658 +00:00 [INF] Executed DbCommand (601ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:19:56.662 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:19:56.663 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 607.6217ms
2025-07-29 10:19:56.663 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:19:56.663 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 609.3078ms
2025-07-29 10:19:56.694 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:19:56.696 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.700 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.9798ms
2025-07-29 10:19:56.702 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:19:56.703 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.705 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 1.52ms
2025-07-29 10:19:56.777 +00:00 [INF] Executed DbCommand (144ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:19:56.777 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:19:56.778 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 159.797ms
2025-07-29 10:19:56.778 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:19:56.778 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 176.0878ms
2025-07-29 10:19:56.810 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:19:56.810 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.810 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:19:56.811 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:19:56.812 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:19:56.812 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.9315ms
2025-07-29 10:19:56.812 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:19:56.818 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 8.2656ms
2025-07-29 10:19:56.852 +00:00 [INF] Executed DbCommand (228ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:19:56.853 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:19:56.853 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 230.9654ms
2025-07-29 10:19:56.853 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:19:56.853 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 235.7233ms
2025-07-29 10:19:56.875 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:19:56.883 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:19:56.883 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:19:56.884 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:19:56.884 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:19:56.884 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6459ms
2025-07-29 10:19:56.884 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:19:56.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 11.0972ms
2025-07-29 10:20:11.427 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:11.428 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:11.428 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:11.428 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.5508ms
2025-07-29 10:20:11.428 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:11.428 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.6683ms
2025-07-29 10:20:11.436 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:11.437 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:11.437 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:11.437 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:20:11.438 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:11.438 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6343ms
2025-07-29 10:20:11.438 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:11.438 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.4439ms
2025-07-29 10:20:11.456 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:11.461 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:11.462 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:11.462 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:20:11.488 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:11.488 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 25.1742ms
2025-07-29 10:20:11.488 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:11.488 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 43.1665ms
2025-07-29 10:20:20.828 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:20.829 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:20.829 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.7143ms
2025-07-29 10:20:20.833 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:20.844 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:20.845 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:20.845 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:20.845 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:20.845 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 13.0807ms
2025-07-29 10:20:20.846 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:20:20.847 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:20.847 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 1.6776ms
2025-07-29 10:20:20.848 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:20.848 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 4.2256ms
2025-07-29 10:20:20.874 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:20:20.874 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:20.874 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:20.874 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:20:20.875 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:20.875 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.6992ms
2025-07-29 10:20:20.875 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:20:20.875 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.7718ms
2025-07-29 10:20:21.133 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.133 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.133 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.9681ms
2025-07-29 10:20:21.148 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.149 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.149 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:20:21.149 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:20:21.153 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:20:21.153 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.154 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 10.2737ms
2025-07-29 10:20:21.199 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:21.247 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:20:21.248 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.248 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:20:21.248 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:20:21.259 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.259 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.260 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:21.260 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:20:21.269 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:20:21.269 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:21.269 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 120.3979ms
2025-07-29 10:20:21.269 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:20:21.270 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 122.0227ms
2025-07-29 10:20:21.271 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.271 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.271 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:20:21.271 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:20:21.289 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.289 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.289 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.289 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.289 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:20:21.289 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:20:21.290 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:21.290 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:20:21.319 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:20:21.319 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:21.322 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:21.322 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 61.7384ms
2025-07-29 10:20:21.322 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:21.328 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 67.2214ms
2025-07-29 10:20:21.330 +00:00 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:20:21.330 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:20:21.331 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 40.537ms
2025-07-29 10:20:21.331 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:21.331 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 42.2771ms
2025-07-29 10:20:21.331 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:21.884 +00:00 [INF] Executed DbCommand (537ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:20:21.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:21.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 636.2416ms
2025-07-29 10:20:21.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:20:21.885 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 637.2101ms
2025-07-29 10:20:21.885 +00:00 [INF] Executed DbCommand (552ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:20:21.886 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:21.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 597.1773ms
2025-07-29 10:20:21.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:20:21.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 598.5379ms
2025-07-29 10:20:21.984 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:21.984 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:21.984 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:20:21.990 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:20:22.024 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.025 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.025 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:22.026 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:20:22.039 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.039 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.039 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.041 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:20:22.043 +00:00 [INF] Executed DbCommand (721ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:20:22.043 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:22.043 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 772.0543ms
2025-07-29 10:20:22.043 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:20:22.044 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 773.0066ms
2025-07-29 10:20:22.044 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:22.057 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:20:22.059 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:20:22.059 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:20:22.060 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 18.987ms
2025-07-29 10:20:22.060 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.060 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 21.5891ms
2025-07-29 10:20:22.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:20:22.061 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:20:22.061 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:20:22.061 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.061 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.062 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:20:22.062 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:20:22.063 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:22.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.775ms
2025-07-29 10:20:22.064 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:22.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.6613ms
2025-07-29 10:20:22.258 +00:00 [INF] Executed DbCommand (192ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:22.329 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.329 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.329 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.329 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:20:22.329 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:20:22.330 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.330 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.330 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:20:22.348 +00:00 [INF] Executed DbCommand (282ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:20:22.352 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:20:22.353 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:22.353 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 291.7899ms
2025-07-29 10:20:22.353 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:20:22.353 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 292.6076ms
2025-07-29 10:20:22.356 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:20:22.357 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:22.357 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 28.2259ms
2025-07-29 10:20:22.357 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:20:22.358 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.6405ms
2025-07-29 10:20:22.384 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:20:22.395 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:20:22.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:20:22.416 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:22.416 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:20:22.416 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 85.6585ms
2025-07-29 10:20:22.416 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 423.9518ms
2025-07-29 10:20:22.416 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.416 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:20:22.417 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 432.5764ms
2025-07-29 10:20:22.417 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 88.003ms
2025-07-29 10:20:22.454 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:22.455 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:22.455 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.455 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:20:22.456 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:22.456 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 394.1497ms
2025-07-29 10:20:22.456 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:20:22.456 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 395.1239ms
2025-07-29 10:20:22.493 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:20:22.493 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:20:22.493 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 37.8546ms
2025-07-29 10:20:22.493 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:20:22.494 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 39.7282ms
2025-07-29 10:20:24.975 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 10:20:24.975 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:24.975 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 0.9738ms
2025-07-29 10:20:25.017 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 10:20:25.017 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:25.018 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 10:20:25.018 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 10:20:25.036 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-29 10:20:25.039 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-29 10:20:25.040 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 21.6326ms
2025-07-29 10:20:25.040 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 10:20:25.041 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 23.8209ms
2025-07-29 10:20:51.182 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:51.182 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:51.182 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:51.183 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:20:51.184 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:20:51.184 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:20:51.185 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:51.185 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:51.186 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:20:51.189 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:20:51.189 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:20:51.195 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:20:51.204 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:20:51.205 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:51.205 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.8685ms
2025-07-29 10:20:51.207 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:20:51.207 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.3866ms
2025-07-29 10:20:51.237 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:20:51.259 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:20:51.261 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 73.9962ms
2025-07-29 10:20:51.262 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:20:51.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.0364ms
2025-07-29 10:20:51.347 +00:00 [INF] Executed DbCommand (138ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:20:51.347 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:20:51.347 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 149.4007ms
2025-07-29 10:20:51.347 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:20:51.347 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 164.0015ms
2025-07-29 10:21:21.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:21.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:21.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:21:21.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:21.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:21:21.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:21.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:21:21.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:21:21.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:21.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:21.695 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:21:21.695 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:21:21.736 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:21:21.764 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:21:21.764 +00:00 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:21:21.771 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 100.6983ms
2025-07-29 10:21:21.771 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:21:21.772 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:21:21.795 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 119.1492ms
2025-07-29 10:21:21.799 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:21:21.831 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 162.9755ms
2025-07-29 10:21:21.834 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 170.5611ms
2025-07-29 10:21:21.866 +00:00 [INF] Executed DbCommand (115ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:21:21.866 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:21:21.866 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 171.2072ms
2025-07-29 10:21:21.866 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:21:21.867 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 174.1796ms
2025-07-29 10:21:51.194 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:51.195 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:51.196 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:21:51.202 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:21:51.225 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:51.225 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:51.228 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:21:51.228 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:21:51.243 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:21:51.246 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:21:51.247 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 43.9458ms
2025-07-29 10:21:51.248 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:21:51.248 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:21:51.248 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:21:51.249 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 54.3848ms
2025-07-29 10:21:51.249 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:21:51.249 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.8363ms
2025-07-29 10:21:51.249 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:21:51.249 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:21:51.250 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 24.8802ms
2025-07-29 10:21:51.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:21:51.252 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:21:51.293 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:21:51.295 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:21:51.296 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.4548ms
2025-07-29 10:21:51.296 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:21:51.296 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 49.6263ms
2025-07-29 10:22:21.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:21.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:21.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:22:21.677 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:22:21.709 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:22:21.710 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:21.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.2387ms
2025-07-29 10:22:21.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:22:21.712 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:21.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.8522ms
2025-07-29 10:22:21.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:21.717 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:22:21.717 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:22:21.736 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:21.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:21.738 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:22:21.738 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:21.763 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:22:21.768 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:22:21.769 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 51.5551ms
2025-07-29 10:22:21.769 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:22:21.849 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 136.7595ms
2025-07-29 10:22:21.913 +00:00 [INF] Executed DbCommand (141ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:22:21.914 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:21.914 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 176.1185ms
2025-07-29 10:22:21.914 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:22:21.914 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 184.9307ms
2025-07-29 10:22:31.247 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:31.248 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:31.248 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.0729ms
2025-07-29 10:22:31.252 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:31.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:31.252 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.2678ms
2025-07-29 10:22:31.253 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:31.254 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:31.254 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:31.254 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:22:31.256 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:31.256 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:31.256 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:31.256 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:31.262 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:22:31.274 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:22:31.275 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:31.275 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 20.9507ms
2025-07-29 10:22:31.275 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:31.275 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.6313ms
2025-07-29 10:22:31.283 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:22:31.283 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:31.283 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 26.5893ms
2025-07-29 10:22:31.283 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:31.283 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 28.0345ms
2025-07-29 10:22:38.912 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:38.912 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:38.912 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.0907ms
2025-07-29 10:22:38.919 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:38.920 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:38.921 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.1903ms
2025-07-29 10:22:38.922 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:38.922 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:38.922 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:38.923 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:22:38.929 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:22:38.932 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:38.932 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:38.934 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:38.934 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:38.948 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:22:38.953 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:38.954 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 31.4154ms
2025-07-29 10:22:38.955 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:38.956 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.5794ms
2025-07-29 10:22:38.956 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:22:38.962 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:38.962 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 28.5727ms
2025-07-29 10:22:38.962 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:38.963 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 30.9542ms
2025-07-29 10:22:39.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:39.396 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:39.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:39.397 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:22:39.401 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:39.402 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:39.402 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:39.402 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:39.405 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:22:39.413 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:22:39.414 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:39.414 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 17.1048ms
2025-07-29 10:22:39.414 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:39.414 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.3141ms
2025-07-29 10:22:39.414 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:22:39.543 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:39.544 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 141.2149ms
2025-07-29 10:22:39.544 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:39.544 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 143.4558ms
2025-07-29 10:22:40.477 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:40.478 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:40.493 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:22:40.494 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:40.494 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:40.494 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:40.494 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:22:40.494 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:40.536 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:22:40.539 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:22:40.539 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:40.541 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 46.6182ms
2025-07-29 10:22:40.541 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:22:40.541 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 48.3523ms
2025-07-29 10:22:40.556 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:22:40.556 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:40.556 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 62.5086ms
2025-07-29 10:22:40.556 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:22:40.557 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 79.5606ms
2025-07-29 10:22:51.564 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:51.565 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:51.565 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:22:51.565 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:22:52.444 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:52.444 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:52.445 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:22:52.445 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:22:52.619 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:22:52.619 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:22:52.619 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:22:52.619 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:22:52.628 +00:00 [INF] Executed DbCommand (1,053ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:22:52.628 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:52.629 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 1063.2712ms
2025-07-29 10:22:52.629 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:22:52.629 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1064.3446ms
2025-07-29 10:22:52.629 +00:00 [INF] Executed DbCommand (182ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:22:52.630 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:22:52.630 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 184.9913ms
2025-07-29 10:22:52.630 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:22:52.630 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 185.8552ms
2025-07-29 10:22:52.630 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:22:52.631 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:22:52.631 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 11.9239ms
2025-07-29 10:22:52.631 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:22:52.631 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 12.9056ms
2025-07-29 10:23:07.422 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:07.423 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:07.423 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.423 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.423 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 2.0028ms
2025-07-29 10:23:07.423 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.7429ms
2025-07-29 10:23:07.430 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:07.430 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.431 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:07.431 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:07.432 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:07.432 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.9722ms
2025-07-29 10:23:07.432 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:07.432 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.1235ms
2025-07-29 10:23:07.473 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:07.473 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.473 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:07.474 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:07.474 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:07.474 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.686ms
2025-07-29 10:23:07.474 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:07.475 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.673ms
2025-07-29 10:23:07.989 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:07.994 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:07.995 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.995 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:07.995 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.0336ms
2025-07-29 10:23:07.995 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 6.2986ms
2025-07-29 10:23:08.004 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.010 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:08.004 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:08.013 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.013 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.013 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.013 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 9.7593ms
2025-07-29 10:23:08.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:08.013 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 2.9684ms
2025-07-29 10:23:08.013 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:08.014 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.014 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.014 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:08.015 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:08.034 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.034 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.035 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:08.035 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:08.046 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.048 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.051 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:08.052 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:08.073 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.074 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.074 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:23:08.074 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.074 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:08.074 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:08.075 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 39.7981ms
2025-07-29 10:23:08.075 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:08.075 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.7068ms
2025-07-29 10:23:08.075 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.086 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:08.089 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.090 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 74.8914ms
2025-07-29 10:23:08.091 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:08.092 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 78.6907ms
2025-07-29 10:23:08.093 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:08.093 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.093 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.094 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 80.1789ms
2025-07-29 10:23:08.094 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:08.094 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 90.4472ms
2025-07-29 10:23:08.094 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:08.095 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:08.095 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 20.5934ms
2025-07-29 10:23:08.095 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.097 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 24.0673ms
2025-07-29 10:23:08.137 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:23:08.169 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.180 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.181 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 125.2305ms
2025-07-29 10:23:08.181 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:08.182 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 136.1026ms
2025-07-29 10:23:08.182 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.182 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:08.182 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:08.182 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:08.183 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.184 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:08.184 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:08.208 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.211 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.211 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.211 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:08.224 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.241 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:08.242 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:08.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 58.674ms
2025-07-29 10:23:08.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:08.243 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:23:08.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:08.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 31.6877ms
2025-07-29 10:23:08.243 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:08.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.243 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.243 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 61.2709ms
2025-07-29 10:23:08.243 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:08.243 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.243 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 37.7408ms
2025-07-29 10:23:08.250 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:08.251 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.251 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.251 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:08.251 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:08.244 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:08.251 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:08.253 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 68.5978ms
2025-07-29 10:23:08.253 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:08.253 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 73.6938ms
2025-07-29 10:23:08.297 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.298 +00:00 [INF] Executed DbCommand (44ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.336 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.338 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.340 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.341 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:08.348 +00:00 [INF] Executed DbCommand (87ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.355 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:08.357 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:23:08.361 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.360 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:08.361 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 109.2591ms
2025-07-29 10:23:08.361 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.361 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:08.361 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:08.362 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 110.0735ms
2025-07-29 10:23:08.362 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 125.0131ms
2025-07-29 10:23:08.362 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:08.362 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 19.8543ms
2025-07-29 10:23:08.362 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.362 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 111.2542ms
2025-07-29 10:23:08.362 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 26.4588ms
2025-07-29 10:23:08.371 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.372 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.372 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.372 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:08.381 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:08.381 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:23:08.382 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:08.382 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.382 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 9.8502ms
2025-07-29 10:23:08.382 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:08.382 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 11.1288ms
2025-07-29 10:23:08.382 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 139.0534ms
2025-07-29 10:23:08.383 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:08.383 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 158.8961ms
2025-07-29 10:23:08.388 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:08.388 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:08.388 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:08.388 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:08.395 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:08.403 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:23:08.404 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:08.404 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 16.0017ms
2025-07-29 10:23:08.405 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:08.405 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.888ms
2025-07-29 10:23:38.032 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:38.032 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:38.033 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:23:38.033 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:38.052 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:38.053 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:38.053 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:23:38.053 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:38.054 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:38.054 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:38.054 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:38.054 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:38.296 +00:00 [INF] Executed DbCommand (234ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:23:38.296 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:38.296 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 242.326ms
2025-07-29 10:23:38.297 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:38.297 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 243.9646ms
2025-07-29 10:23:38.430 +00:00 [INF] Executed DbCommand (394ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:23:38.435 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:38.436 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 402.6913ms
2025-07-29 10:23:38.436 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:23:38.436 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 404.3531ms
2025-07-29 10:23:38.661 +00:00 [INF] Executed DbCommand (599ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:23:38.665 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:38.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 612.8394ms
2025-07-29 10:23:38.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:23:38.667 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 614.4261ms
2025-07-29 10:23:39.686 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:39.686 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:39.687 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.3539ms
2025-07-29 10:23:39.687 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:39.687 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:39.687 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.1125ms
2025-07-29 10:23:39.914 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:39.914 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:39.915 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:39.915 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:39.918 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:39.919 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 3.6475ms
2025-07-29 10:23:39.920 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:39.921 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 6.8815ms
2025-07-29 10:23:40.025 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:40.025 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:40.025 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.025 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:40.026 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:40.026 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8813ms
2025-07-29 10:23:40.026 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.027 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.665ms
2025-07-29 10:23:40.294 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:40.294 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:40.294 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.294 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:40.298 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:40.299 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 3.4491ms
2025-07-29 10:23:40.299 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.300 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 5.7395ms
2025-07-29 10:23:40.427 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:40.427 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:40.428 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.428 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:40.429 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:40.429 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.8763ms
2025-07-29 10:23:40.429 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:40.429 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 2.2084ms
2025-07-29 10:23:43.018 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:43.018 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.019 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:43.019 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:43.021 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:43.021 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 2.0555ms
2025-07-29 10:23:43.021 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:43.021 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.0627ms
2025-07-29 10:23:43.036 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 10:23:43.037 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.037 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:43.038 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 10:23:43.038 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:43.039 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.9288ms
2025-07-29 10:23:43.039 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 10:23:43.039 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 3.3224ms
2025-07-29 10:23:43.193 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.199 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:43.199 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.199 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.199 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.881ms
2025-07-29 10:23:43.200 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 6.6548ms
2025-07-29 10:23:43.201 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.201 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.201 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.4789ms
2025-07-29 10:23:43.275 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.275 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.276 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.277 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:43.277 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:43.277 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.279 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:43.281 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:43.296 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.297 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.297 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:43.297 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:43.319 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.320 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:43.321 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.321 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:43.321 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:43.321 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:43.321 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.324 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 3.2628ms
2025-07-29 10:23:43.324 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:43.324 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.324 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:43.324 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:43.324 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:43.325 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:43.325 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:43.471 +00:00 [INF] Executed DbCommand (186ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:23:43.491 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:43.538 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 259.9895ms
2025-07-29 10:23:43.539 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:43.542 +00:00 [INF] Executed DbCommand (240ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:43.548 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 272.9337ms
2025-07-29 10:23:43.549 +00:00 [INF] Executed DbCommand (228ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:43.765 +00:00 [INF] Executed DbCommand (219ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:43.766 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:43.766 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 484.5591ms
2025-07-29 10:23:43.766 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:43.766 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 491.0896ms
2025-07-29 10:23:43.767 +00:00 [INF] Executed DbCommand (442ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:43.767 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:43.767 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 446.3601ms
2025-07-29 10:23:43.768 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:43.768 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 447.3572ms
2025-07-29 10:23:44.147 +00:00 [INF] Executed DbCommand (595ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:23:44.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 857.7462ms
2025-07-29 10:23:44.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:44.155 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 858.9391ms
2025-07-29 10:23:44.156 +00:00 [INF] Executed DbCommand (191ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:44.147 +00:00 [INF] Executed DbCommand (182ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:44.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.204 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.204 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:44.205 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:23:44.227 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.232 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.232 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:44.232 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:44.293 +00:00 [INF] Executed DbCommand (85ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:23:44.298 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:44.298 +00:00 [INF] Executed DbCommand (140ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:23:44.301 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.304 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 978.6478ms
2025-07-29 10:23:44.305 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:44.306 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.307 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 988.5444ms
2025-07-29 10:23:44.309 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.309 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:44.311 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:44.311 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.311 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:23:44.312 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 987.2008ms
2025-07-29 10:23:44.312 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 107.2034ms
2025-07-29 10:23:44.313 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:44.313 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:23:44.314 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 989.5237ms
2025-07-29 10:23:44.314 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 110.3395ms
2025-07-29 10:23:44.365 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:44.373 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 10:23:44.374 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.374 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 62.7702ms
2025-07-29 10:23:44.374 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 10:23:44.375 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:44.375 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.376 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 143.7328ms
2025-07-29 10:23:44.376 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:44.376 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 70.833ms
2025-07-29 10:23:44.376 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 150.1692ms
2025-07-29 10:23:44.396 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.396 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.396 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:44.397 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:44.407 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:44.407 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.407 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:44.408 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:44.408 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.424 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.432 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.432 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:44.434 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:44.462 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:44.451 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:44.479 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.480 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.481 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:44.485 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:44.486 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.485 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:44.487 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 79.2901ms
2025-07-29 10:23:44.487 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:44.488 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 80.5174ms
2025-07-29 10:23:44.494 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 10:23:44.496 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:44.496 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.496 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.496 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 99.6397ms
2025-07-29 10:23:44.496 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 10:23:44.496 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:44.496 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:44.497 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 100.8303ms
2025-07-29 10:23:44.496 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 64.0929ms
2025-07-29 10:23:44.497 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.497 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 88.7441ms
2025-07-29 10:23:44.511 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:44.516 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:44.517 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.517 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 20.5614ms
2025-07-29 10:23:44.517 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:44.517 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 21.5322ms
2025-07-29 10:23:44.519 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:44.520 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:44.520 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 33.139ms
2025-07-29 10:23:44.520 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:44.520 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 42.2662ms
2025-07-29 10:23:44.521 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.528 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.528 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.528 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:44.570 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:44.571 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:44.571 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 43.1131ms
2025-07-29 10:23:44.571 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.572 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 51.2528ms
2025-07-29 10:23:44.597 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:44.597 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:44.597 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.597 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 10:23:44.633 +00:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 10:23:44.633 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 10:23:44.634 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 36.1844ms
2025-07-29 10:23:44.634 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 10:23:44.634 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 37.1451ms
2025-07-29 10:23:45.011 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:23:45.012 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:45.012 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:23:45.012 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:45.012 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:23:45.012 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:23:45.013 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:45.013 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:23:45.017 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:23:45.022 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:23:45.023 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:23:45.024 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:45.025 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:23:45.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 12.1927ms
2025-07-29 10:23:45.025 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 12.4033ms
2025-07-29 10:23:45.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:23:45.025 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:23:45.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.8256ms
2025-07-29 10:23:45.025 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 13.7341ms
2025-07-29 10:24:06.374 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:06.375 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:06.375 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.0981ms
2025-07-29 10:24:06.377 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:24:06.377 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:06.377 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.8368ms
2025-07-29 10:24:06.776 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:06.776 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:06.777 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:24:06.777 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:24:07.757 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:24:07.759 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:07.768 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:24:07.768 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:24:08.131 +00:00 [INF] Executed DbCommand (1,350ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:24:08.138 +00:00 [INF] Executed DbCommand (367ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:24:08.140 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:08.161 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:24:08.162 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 394.0235ms
2025-07-29 10:24:08.162 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:08.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:24:08.162 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 1385.2488ms
2025-07-29 10:24:08.162 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:24:08.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1386.5824ms
2025-07-29 10:24:08.162 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 405.799ms
2025-07-29 10:24:13.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:13.205 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:13.206 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:13.205 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:13.206 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:24:13.207 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:24:13.212 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:24:13.212 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:24:13.229 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:13.231 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:13.233 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:24:13.234 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:24:13.234 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:24:13.234 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:24:13.286 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:13.286 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:24:13.288 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 75.5957ms
2025-07-29 10:24:13.288 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 77.5061ms
2025-07-29 10:24:13.288 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:24:13.288 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:24:13.289 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 85.6229ms
2025-07-29 10:24:13.289 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 84.0051ms
2025-07-29 10:24:13.343 +00:00 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:24:13.344 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:13.344 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 110.337ms
2025-07-29 10:24:13.344 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:24:13.344 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 116.1907ms
2025-07-29 10:24:20.866 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:20.868 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:20.869 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 3.006ms
2025-07-29 10:24:20.877 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - application/json 131
2025-07-29 10:24:20.879 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:20.880 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:24:20.880 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:24:20.885 +00:00 [INF] Creating personal maintenance request for user: 9E412790-A394-4EF7-8D7C-3CC21BE464DC
2025-07-29 10:24:20.903 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:24:20.916 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:24:20.933 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Department_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Department] = @__user_Department_0
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 10:24:20.944 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Department] = N'Default'
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 10:24:20.966 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 1000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 450), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 500), @p7='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (DbType = DateTime2), @p10='?' (DbType = Int32), @p11='?' (Size = 450), @p12='?' (DbType = Int32), @p13='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MaintenanceRequests] ([MaintenanceId], [AdminComments], [CompletionDate], [CurrentRouteId], [CurrentStage], [Department], [Description], [EstimatedCost], [Priority], [RequestDate], [RequestType], [RequestedByUserId], [Status], [VehicleId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-07-29 10:24:20.983 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 450), @p5='?' (DbType = DateTime2), @p6='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MaintenanceTransactions] ([Id], [Action], [Comments], [IsCompleted], [MaintenanceRequestId], [Timestamp], [UserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2025-07-29 10:24:20.998 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[Action], [m].[Comments], [m].[IsCompleted], [m].[MaintenanceRequestId], [m].[Timestamp], [m].[UserId]
FROM [MaintenanceTransactions] AS [m]
WHERE [m].[MaintenanceRequestId] = @__p_0
2025-07-29 10:24:27.569 +00:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (Size = 4000), @p10='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Notifications] ([Id], [ActionLink], [CreatedAt], [IsDeleted], [IsRead], [Message], [RelatedEntityId], [Title], [Type], [UserId], [Username])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-07-29 10:24:27.598 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__request_CurrentRouteId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Department], [t].[Description], [t].[Name], [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId]
FROM (
    SELECT TOP(1) [r].[Id], [r].[Department], [r].[Description], [r].[Name]
    FROM [Routes] AS [r]
    WHERE [r].[Id] = @__request_CurrentRouteId_0
) AS [t]
LEFT JOIN [UserRouteRoles] AS [u] ON [t].[Id] = [u].[RouteId]
ORDER BY [t].[Id]
2025-07-29 10:24:27.615 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:24:32.839 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType22`5[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:32.841 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 11961.0774ms
2025-07-29 10:24:32.842 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:24:32.843 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 11966.4977ms
2025-07-29 10:24:43.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:43.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:43.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:43.215 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:24:43.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:24:43.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:43.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:24:43.216 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:24:43.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:24:43.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:24:43.217 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:24:43.217 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:24:43.226 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:24:43.233 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:24:43.236 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:24:43.239 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.1121ms
2025-07-29 10:24:43.240 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:24:43.240 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:43.245 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.0569ms
2025-07-29 10:24:43.246 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:24:43.254 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.4026ms
2025-07-29 10:24:43.264 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.2851ms
2025-07-29 10:24:43.387 +00:00 [INF] Executed DbCommand (152ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:24:43.387 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:24:43.388 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 171.499ms
2025-07-29 10:24:43.389 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:24:43.389 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 175.3684ms
2025-07-29 10:25:13.210 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:13.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:13.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:13.213 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:25:13.214 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:25:13.214 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:13.214 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:25:13.214 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:25:13.214 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:13.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:13.218 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:25:13.219 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:25:13.265 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:25:13.274 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:25:13.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 63.8566ms
2025-07-29 10:25:13.291 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:25:13.291 +00:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:25:13.330 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:25:13.333 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 122.2468ms
2025-07-29 10:25:13.335 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 120.5526ms
2025-07-29 10:25:13.336 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:25:13.337 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 125.0414ms
2025-07-29 10:25:13.355 +00:00 [INF] Executed DbCommand (100ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:25:13.355 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:25:13.355 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 136.6732ms
2025-07-29 10:25:13.356 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:25:13.356 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 141.6965ms
2025-07-29 10:25:43.215 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:43.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:43.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:25:43.218 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:25:43.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:43.222 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:43.222 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:25:43.223 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:25:43.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:25:43.261 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:25:43.262 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:25:43.265 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:25:43.306 +00:00 [INF] Executed DbCommand (66ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:25:43.306 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:25:43.312 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:25:43.313 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:25:43.318 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 95.2374ms
2025-07-29 10:25:43.318 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 99.9634ms
2025-07-29 10:25:43.318 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:25:43.319 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:25:43.319 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 104.6374ms
2025-07-29 10:25:43.319 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 101.2613ms
2025-07-29 10:25:43.433 +00:00 [INF] Executed DbCommand (145ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:25:43.434 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:25:43.434 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 168.6528ms
2025-07-29 10:25:43.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:25:43.435 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 178.575ms
2025-07-29 10:26:13.208 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:13.209 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:13.209 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:26:13.212 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:13.212 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:26:13.212 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:13.212 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:26:13.213 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:26:13.248 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:13.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:13.254 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:26:13.256 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:26:13.293 +00:00 [INF] Executed DbCommand (73ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:26:13.295 +00:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:26:13.296 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:26:13.298 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:26:13.298 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:26:13.302 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:26:13.303 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 90.5709ms
2025-07-29 10:26:13.303 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 89.7747ms
2025-07-29 10:26:13.303 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.6023ms
2025-07-29 10:26:13.303 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:26:13.303 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:26:13.303 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:26:13.303 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 95.3754ms
2025-07-29 10:26:13.304 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 56.6652ms
2025-07-29 10:26:13.304 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 92.2497ms
2025-07-29 10:26:43.219 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:43.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:43.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:26:43.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:43.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:43.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:26:43.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:26:43.223 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:26:43.223 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:26:43.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:26:43.223 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:26:43.223 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:26:43.251 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:26:43.255 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:26:43.256 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:26:43.256 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 33.3382ms
2025-07-29 10:26:43.257 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:26:43.257 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:26:43.259 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 35.2003ms
2025-07-29 10:26:43.260 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:26:43.261 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 43.1045ms
2025-07-29 10:26:43.265 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 42.7853ms
2025-07-29 10:26:43.351 +00:00 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:26:43.351 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:26:43.351 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 127.805ms
2025-07-29 10:26:43.351 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:26:43.351 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 131.7023ms
2025-07-29 10:27:13.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:13.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:13.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:27:13.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:13.663 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:27:13.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:13.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:13.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:27:13.667 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:27:13.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:13.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:27:13.667 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:27:13.699 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:27:13.726 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:27:13.726 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:27:13.726 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:27:13.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.1126ms
2025-07-29 10:27:13.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:27:13.737 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:27:13.744 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 83.7935ms
2025-07-29 10:27:13.744 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 74.2516ms
2025-07-29 10:27:13.745 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:27:13.746 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:27:13.747 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 79.0683ms
2025-07-29 10:27:13.750 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:27:13.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 87.7073ms
2025-07-29 10:27:13.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 87.4454ms
2025-07-29 10:27:43.219 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:43.219 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:43.219 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:43.220 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:27:43.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:43.224 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:27:43.224 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:27:43.225 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:27:43.258 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:27:43.264 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:27:43.267 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:27:43.268 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:27:43.270 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:27:43.277 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:27:43.277 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.7188ms
2025-07-29 10:27:43.277 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:27:43.278 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.2285ms
2025-07-29 10:27:43.278 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:27:43.293 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:27:43.294 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 68.9332ms
2025-07-29 10:27:43.294 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:27:43.312 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 92.4006ms
2025-07-29 10:27:43.423 +00:00 [INF] Executed DbCommand (110ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:27:43.423 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:27:43.423 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 152.2791ms
2025-07-29 10:27:43.423 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:27:43.424 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 166.5074ms
2025-07-29 10:28:13.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:13.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:13.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:28:13.663 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:28:13.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:13.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:13.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:28:13.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:28:13.683 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:13.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:13.687 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:28:13.688 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:28:13.711 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:28:13.714 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:28:13.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.1165ms
2025-07-29 10:28:13.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:28:13.720 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.0676ms
2025-07-29 10:28:13.726 +00:00 [INF] Executed DbCommand (46ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:28:13.727 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:28:13.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 62.2136ms
2025-07-29 10:28:13.738 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:28:13.741 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 77.8108ms
2025-07-29 10:28:13.816 +00:00 [INF] Executed DbCommand (105ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:28:13.817 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:28:13.817 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 128.1842ms
2025-07-29 10:28:13.817 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:28:13.817 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 134.5756ms
2025-07-29 10:28:43.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:43.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:43.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:28:43.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:43.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:28:43.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:28:43.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:43.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:28:43.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:28:43.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:28:43.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:28:43.668 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:28:43.686 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:28:43.690 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:28:43.690 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:28:43.707 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:28:43.708 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 40.1975ms
2025-07-29 10:28:43.708 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:28:43.708 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.2074ms
2025-07-29 10:28:43.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 42.9041ms
2025-07-29 10:28:43.709 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:28:43.711 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 43.5805ms
2025-07-29 10:28:43.731 +00:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:28:43.731 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:28:43.731 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 61.91ms
2025-07-29 10:28:43.731 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:28:43.731 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 64.0424ms
2025-07-29 10:29:13.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:13.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:13.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:13.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:13.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:29:13.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:29:13.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:29:13.670 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:29:13.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:13.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:13.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:29:13.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:29:13.717 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:29:13.731 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:29:13.732 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 61.4284ms
2025-07-29 10:29:13.732 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:29:13.746 +00:00 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:29:13.750 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:29:13.751 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 80.5794ms
2025-07-29 10:29:13.751 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:29:13.777 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 107.6929ms
2025-07-29 10:29:13.779 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 112.0886ms
2025-07-29 10:29:13.845 +00:00 [INF] Executed DbCommand (151ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:29:13.846 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:29:13.846 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 174.4671ms
2025-07-29 10:29:13.846 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:29:13.846 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 176.3413ms
2025-07-29 10:29:43.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:43.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:43.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:43.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:29:43.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:29:43.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:29:43.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:43.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:43.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:29:43.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:29:43.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:29:43.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:29:43.728 +00:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:29:43.729 +00:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:29:43.732 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:29:43.732 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.2637ms
2025-07-29 10:29:43.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:29:43.732 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:29:43.733 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 65.3371ms
2025-07-29 10:29:43.733 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:29:43.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 66.0103ms
2025-07-29 10:29:43.733 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 67.9646ms
2025-07-29 10:29:43.801 +00:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:29:43.801 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:29:43.801 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 125.4644ms
2025-07-29 10:29:43.801 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:29:43.802 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 131.9675ms
2025-07-29 10:29:51.061 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 10:29:51.063 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:51.063 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 204 null null 3.0692ms
2025-07-29 10:29:51.071 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - null null
2025-07-29 10:29:51.074 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:29:51.074 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 10:29:51.075 +00:00 [INF] Route matched with {action = "GetVehicle", controller = "Vehicles"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[PersonaXFleet.DTOs.VehicleDto]] GetVehicle(System.String) on controller PersonaXFleet.Controllers.VehiclesController (PersonaXFleet).
2025-07-29 10:29:51.103 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [Vehicles] AS [v]
WHERE [v].[Id] = @__p_0
2025-07-29 10:29:51.105 +00:00 [INF] Executing ObjectResult, writing value of type 'PersonaXFleet.DTOs.VehicleDto'.
2025-07-29 10:29:51.105 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet) in 30.2921ms
2025-07-29 10:29:51.105 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehiclesController.GetVehicle (PersonaXFleet)'
2025-07-29 10:29:51.106 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Vehicles/2c02c1b5-ea7f-4211-9b64-edce2d44836d - 200 null application/json; charset=utf-8 35.3244ms
2025-07-29 10:30:13.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:13.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:13.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:13.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:30:13.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:13.670 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:30:13.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:30:13.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:30:13.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:13.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:13.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:30:13.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:30:13.689 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:30:13.693 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:30:13.694 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.2567ms
2025-07-29 10:30:13.694 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:30:13.698 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:30:13.701 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:30:13.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.9378ms
2025-07-29 10:30:13.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:30:13.701 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.4412ms
2025-07-29 10:30:13.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.9228ms
2025-07-29 10:30:13.758 +00:00 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:30:13.758 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:30:13.758 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.5772ms
2025-07-29 10:30:13.758 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:30:13.759 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 88.1801ms
2025-07-29 10:30:43.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:43.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:43.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:30:43.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:30:43.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:43.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:43.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:30:43.675 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:30:43.720 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:30:43.726 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:30:43.726 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 58.2398ms
2025-07-29 10:30:43.726 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:30:43.727 +00:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:30:43.727 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:30:43.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 52.6965ms
2025-07-29 10:30:43.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:30:43.745 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 77.5123ms
2025-07-29 10:30:43.746 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:30:43.746 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 79.5898ms
2025-07-29 10:30:43.746 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:30:43.746 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:30:43.746 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:30:43.803 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:30:43.803 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:30:43.803 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.9075ms
2025-07-29 10:30:43.804 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:30:43.804 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 58.4882ms
2025-07-29 10:31:13.703 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:13.703 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:13.703 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:13.703 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:31:13.704 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:31:13.704 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:13.704 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:31:13.704 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:31:13.736 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:13.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:13.737 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:31:13.737 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:31:13.750 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:31:13.752 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:31:13.752 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:31:13.752 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 48.1998ms
2025-07-29 10:31:13.752 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:31:13.752 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:31:13.754 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.1501ms
2025-07-29 10:31:13.754 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:31:13.754 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.3172ms
2025-07-29 10:31:13.754 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.8535ms
2025-07-29 10:31:13.842 +00:00 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:31:13.842 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:31:13.842 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 105.2027ms
2025-07-29 10:31:13.843 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:31:13.843 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 108.6727ms
2025-07-29 10:31:43.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:43.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:43.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:31:43.676 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:31:43.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:43.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:43.679 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:31:43.679 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:31:43.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:31:43.718 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:31:43.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:31:43.721 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:31:43.722 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:31:43.722 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:31:43.734 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:31:43.735 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:31:43.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 56.5194ms
2025-07-29 10:31:43.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 59.2283ms
2025-07-29 10:31:43.738 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:31:43.738 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:31:43.738 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 69.4092ms
2025-07-29 10:31:43.738 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 61.7193ms
2025-07-29 10:31:43.744 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:31:43.750 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:31:43.752 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.3261ms
2025-07-29 10:31:43.758 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:31:43.765 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 49.2341ms
2025-07-29 10:32:19.120 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:19.124 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:19.124 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:19.124 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:19.134 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:19.134 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:19.134 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:19.135 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:19.152 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:19.153 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:32:19.153 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:19.153 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:19.153 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:32:19.154 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:19.155 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.9447ms
2025-07-29 10:32:19.155 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:19.156 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.8542ms
2025-07-29 10:32:19.190 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:32:19.236 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:32:19.238 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 102.4402ms
2025-07-29 10:32:19.239 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:19.242 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 108.8662ms
2025-07-29 10:32:19.357 +00:00 [INF] Executed DbCommand (145ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:32:19.358 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:19.358 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 204.5853ms
2025-07-29 10:32:19.358 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:19.359 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 209.005ms
2025-07-29 10:32:20.986 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - null null
2025-07-29 10:32:20.987 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/comments - null null
2025-07-29 10:32:20.988 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:20.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 10:32:20.988 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:20.988 +00:00 [INF] Route matched with {action = "GetAllRequestComments", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllRequestComments(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:32:20.988 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 10:32:20.988 +00:00 [INF] Route matched with {action = "GetWorkflowStatus", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetWorkflowStatus(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:32:21.002 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId]
FROM [MaintenanceRequests] AS [m]
WHERE [m].[MaintenanceId] = @__id_0
2025-07-29 10:32:21.028 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Action] AS [Stage], [m].[Comments] AS [Comment], [a].[UserName], [m].[Timestamp]
FROM [MaintenanceTransactions] AS [m]
INNER JOIN [AspNetUsers] AS [a] ON [m].[UserId] = [a].[Id]
WHERE [m].[MaintenanceRequestId] = @__id_0 AND [m].[Comments] NOT LIKE N'' AND [m].[Action] <> N'Create'
ORDER BY [m].[Timestamp]
2025-07-29 10:32:21.030 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType32`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType31`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:32:21.030 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet) in 42.2413ms
2025-07-29 10:32:21.031 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetAllRequestComments (PersonaXFleet)'
2025-07-29 10:32:21.031 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/comments - 200 null application/json; charset=utf-8 44.9018ms
2025-07-29 10:32:21.060 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MaintenanceId], [t].[AdminComments], [t].[CompletionDate], [t].[CurrentRouteId], [t].[CurrentStage], [t].[Department], [t].[Description], [t].[EstimatedCost], [t].[Priority], [t].[RequestDate], [t].[RequestType], [t].[RequestedByUserId], [t].[Status], [t].[VehicleId], [t].[Id], [t].[Department0], [t].[Description0], [t].[Name], [t0].[Id], [t0].[Role], [t0].[RouteId], [t0].[UserId], [t0].[Id0], [t0].[AccessFailedCount], [t0].[ConcurrencyStamp], [t0].[Department], [t0].[Email], [t0].[EmailConfirmed], [t0].[FullName], [t0].[LockoutEnabled], [t0].[LockoutEnd], [t0].[MustChangePassword], [t0].[NormalizedEmail], [t0].[NormalizedUserName], [t0].[PasswordHash], [t0].[PhoneNumber], [t0].[PhoneNumberConfirmed], [t0].[SecurityStamp], [t0].[TwoFactorEnabled], [t0].[UserName], [t1].[Id], [t1].[Action], [t1].[Comments], [t1].[IsCompleted], [t1].[MaintenanceRequestId], [t1].[Timestamp], [t1].[UserId], [t1].[Id0], [t1].[AccessFailedCount], [t1].[ConcurrencyStamp], [t1].[Department], [t1].[Email], [t1].[EmailConfirmed], [t1].[FullName], [t1].[LockoutEnabled], [t1].[LockoutEnd], [t1].[MustChangePassword], [t1].[NormalizedEmail], [t1].[NormalizedUserName], [t1].[PasswordHash], [t1].[PhoneNumber], [t1].[PhoneNumberConfirmed], [t1].[SecurityStamp], [t1].[TwoFactorEnabled], [t1].[UserName]
FROM (
    SELECT TOP(1) [m].[MaintenanceId], [m].[AdminComments], [m].[CompletionDate], [m].[CurrentRouteId], [m].[CurrentStage], [m].[Department], [m].[Description], [m].[EstimatedCost], [m].[Priority], [m].[RequestDate], [m].[RequestType], [m].[RequestedByUserId], [m].[Status], [m].[VehicleId], [r].[Id], [r].[Department] AS [Department0], [r].[Description] AS [Description0], [r].[Name]
    FROM [MaintenanceRequests] AS [m]
    LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
    WHERE [m].[MaintenanceId] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [u].[Id], [u].[Role], [u].[RouteId], [u].[UserId], [a].[Id] AS [Id0], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
    FROM [UserRouteRoles] AS [u]
    INNER JOIN [AspNetUsers] AS [a] ON [u].[UserId] = [a].[Id]
) AS [t0] ON [t].[Id] = [t0].[RouteId]
LEFT JOIN (
    SELECT [m0].[Id], [m0].[Action], [m0].[Comments], [m0].[IsCompleted], [m0].[MaintenanceRequestId], [m0].[Timestamp], [m0].[UserId], [a0].[Id] AS [Id0], [a0].[AccessFailedCount], [a0].[ConcurrencyStamp], [a0].[Department], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[MustChangePassword], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[SecurityStamp], [a0].[TwoFactorEnabled], [a0].[UserName]
    FROM [MaintenanceTransactions] AS [m0]
    INNER JOIN [AspNetUsers] AS [a0] ON [m0].[UserId] = [a0].[Id]
) AS [t1] ON [t].[MaintenanceId] = [t1].[MaintenanceRequestId]
ORDER BY [t].[MaintenanceId], [t].[Id], [t0].[Id], [t0].[Id0], [t1].[Id]
2025-07-29 10:32:21.062 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType28`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType29`3[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[<>f__AnonymousType30`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:32:21.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet) in 74.399ms
2025-07-29 10:32:21.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetWorkflowStatus (PersonaXFleet)'
2025-07-29 10:32:21.064 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/d974dc0f-9adb-459c-b788-d3821f69b9b8/workflow-status - 200 null application/json; charset=utf-8 78.1568ms
2025-07-29 10:32:26.170 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:26.172 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:26.173 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:26.173 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:26.184 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:32:26.193 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:26.194 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.5171ms
2025-07-29 10:32:26.194 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:26.195 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.2061ms
2025-07-29 10:32:26.211 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:26.212 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:26.212 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:26.212 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:26.220 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:32:26.224 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:32:26.225 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.2575ms
2025-07-29 10:32:26.226 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:26.227 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.3661ms
2025-07-29 10:32:26.372 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:26.373 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:26.373 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:26.373 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:32:26.387 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:32:26.391 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:26.393 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 19.5683ms
2025-07-29 10:32:26.393 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:26.394 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.2431ms
2025-07-29 10:32:43.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:43.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:43.204 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:32:43.205 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:43.205 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:43.205 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:32:43.205 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:43.205 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:43.205 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:43.205 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:43.205 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:32:43.205 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:32:43.209 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:32:43.211 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:32:43.212 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.8549ms
2025-07-29 10:32:43.213 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:32:43.217 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:32:43.218 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.2749ms
2025-07-29 10:32:43.222 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:32:43.222 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:43.222 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.0937ms
2025-07-29 10:32:43.223 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:32:43.242 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.7992ms
2025-07-29 10:32:43.242 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:32:43.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.882ms
2025-07-29 10:32:43.244 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:32:43.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 41.5436ms
2025-07-29 10:33:04.387 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:33:04.388 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:04.388 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.5453ms
2025-07-29 10:33:04.398 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:04.399 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:04.399 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.4003ms
2025-07-29 10:33:04.436 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:33:04.437 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:04.437 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:33:04.437 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:33:04.468 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:04.469 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:04.469 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:33:04.469 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:33:04.470 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:33:04.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:04.470 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 33.3776ms
2025-07-29 10:33:04.470 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:33:04.471 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 34.2564ms
2025-07-29 10:33:04.499 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:33:04.521 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:33:04.521 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:04.522 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 52.5088ms
2025-07-29 10:33:04.522 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:33:04.522 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 53.4714ms
2025-07-29 10:33:13.245 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:13.245 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:13.245 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:33:13.245 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:33:13.251 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:13.251 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:13.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:13.252 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:13.252 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:33:13.252 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:33:13.252 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:33:13.252 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:33:13.266 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:33:13.267 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:13.284 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.0372ms
2025-07-29 10:33:13.284 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:33:13.285 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 82.5732ms
2025-07-29 10:33:13.327 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:33:13.425 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:33:13.426 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 180.4793ms
2025-07-29 10:33:13.434 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:33:13.435 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 190.9575ms
2025-07-29 10:33:13.761 +00:00 [INF] Executed DbCommand (494ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:33:13.761 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:13.762 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 509.7949ms
2025-07-29 10:33:13.762 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:33:13.762 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 511.2756ms
2025-07-29 10:33:43.652 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:43.652 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:43.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:43.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:33:43.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:43.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:33:43.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:33:43.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:33:43.653 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:33:43.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:33:43.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:33:43.654 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:33:43.670 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:33:43.670 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:33:43.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.5249ms
2025-07-29 10:33:43.670 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:33:43.671 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.3927ms
2025-07-29 10:33:43.672 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:33:43.674 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:43.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.0421ms
2025-07-29 10:33:43.674 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:33:43.674 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.8156ms
2025-07-29 10:33:43.696 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:33:43.696 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:33:43.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 41.4196ms
2025-07-29 10:33:43.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:33:43.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 42.7271ms
2025-07-29 10:34:13.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:34:13.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:34:13.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:34:13.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:34:13.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:34:13.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:34:13.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:34:13.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:34:13.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:34:13.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:34:13.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:34:13.686 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:34:13.692 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:34:13.692 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:34:13.693 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:34:13.693 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:34:13.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.8103ms
2025-07-29 10:34:13.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:34:13.693 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.0474ms
2025-07-29 10:34:13.694 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:34:13.694 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.4829ms
2025-07-29 10:34:13.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.2587ms
2025-07-29 10:34:13.715 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:34:13.715 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:34:13.716 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.7575ms
2025-07-29 10:34:13.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:34:13.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.3799ms
2025-07-29 10:35:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:35:29.690 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:35:29.690 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:35:29.690 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:35:29.690 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:35:29.690 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:35:29.690 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:35:29.690 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:35:29.690 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:35:29.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:35:29.693 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:35:29.693 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:35:29.701 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:35:29.701 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:35:29.744 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:35:29.743 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:35:29.744 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 50.9581ms
2025-07-29 10:35:29.745 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 54.6292ms
2025-07-29 10:35:29.745 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:35:29.745 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:35:29.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 58.5335ms
2025-07-29 10:35:29.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.3367ms
2025-07-29 10:35:29.750 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:35:29.751 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:35:29.756 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 66.5371ms
2025-07-29 10:35:29.756 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:35:29.757 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 67.0674ms
2025-07-29 10:36:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:36:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:36:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:36:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:36:29.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:36:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:36:29.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:36:29.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:36:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:36:29.671 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:36:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:36:29.672 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:36:29.720 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:36:29.724 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:36:29.724 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:36:29.724 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 52.7913ms
2025-07-29 10:36:29.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:36:29.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 54.114ms
2025-07-29 10:36:29.737 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:36:29.738 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 64.7039ms
2025-07-29 10:36:29.738 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:36:29.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 68.608ms
2025-07-29 10:36:29.758 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:36:29.759 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:36:29.759 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 87.3168ms
2025-07-29 10:36:29.759 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:36:29.759 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 88.5594ms
2025-07-29 10:37:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:37:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:37:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:37:29.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:37:29.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:37:29.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:37:29.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:37:29.675 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:37:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:37:29.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:37:29.684 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:37:29.684 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:37:29.692 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:37:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:37:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.7475ms
2025-07-29 10:37:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:37:29.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.3753ms
2025-07-29 10:37:29.698 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:37:29.698 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:37:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.9819ms
2025-07-29 10:37:29.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:37:29.700 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.5418ms
2025-07-29 10:37:29.735 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:37:29.735 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:37:29.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 52.0644ms
2025-07-29 10:37:29.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:37:29.736 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 55.4165ms
2025-07-29 10:38:29.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:38:29.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:38:29.656 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:38:29.656 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:38:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:38:29.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:38:29.658 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:38:29.658 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:38:29.669 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:38:29.672 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:38:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:38:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.7534ms
2025-07-29 10:38:29.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:38:29.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:38:29.682 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:38:29.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:38:29.682 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:38:29.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.8312ms
2025-07-29 10:38:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:38:29.684 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.3169ms
2025-07-29 10:38:29.684 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:38:29.684 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.3193ms
2025-07-29 10:38:29.724 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:38:29.724 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:38:29.724 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.2329ms
2025-07-29 10:38:29.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:38:29.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 43.5059ms
2025-07-29 10:39:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:39:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:39:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:39:29.662 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:39:29.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:39:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:39:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:39:29.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:39:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:39:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:39:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:39:29.676 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:39:29.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:39:29.676 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:39:29.676 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.9098ms
2025-07-29 10:39:29.676 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:39:29.676 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.2382ms
2025-07-29 10:39:29.681 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:39:29.687 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:39:29.687 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.2174ms
2025-07-29 10:39:29.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:39:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.3301ms
2025-07-29 10:39:29.718 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:39:29.718 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:39:29.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.7326ms
2025-07-29 10:39:29.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:39:29.719 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.2721ms
2025-07-29 10:40:29.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:40:29.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:40:29.693 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:40:29.693 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:40:29.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:40:29.697 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:40:29.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:40:29.697 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:40:29.697 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:40:29.698 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:40:29.698 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:40:29.698 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:40:29.707 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:40:29.707 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:40:29.715 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:40:29.715 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:40:29.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.4102ms
2025-07-29 10:40:29.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.6748ms
2025-07-29 10:40:29.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:40:29.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:40:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.6809ms
2025-07-29 10:40:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.3941ms
2025-07-29 10:40:29.752 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:40:29.752 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:40:29.752 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 54.8639ms
2025-07-29 10:40:29.753 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:40:29.753 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.9442ms
2025-07-29 10:41:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:41:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:41:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:41:29.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:41:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:41:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:41:29.654 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:41:29.654 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:41:29.654 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:41:29.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:41:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:41:29.654 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:41:29.663 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:41:29.665 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:41:29.666 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:41:29.667 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.4605ms
2025-07-29 10:41:29.667 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:41:29.667 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:41:29.667 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 13.2742ms
2025-07-29 10:41:29.667 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:41:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.8333ms
2025-07-29 10:41:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 24.9792ms
2025-07-29 10:41:29.704 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:41:29.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:41:29.705 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.8136ms
2025-07-29 10:41:29.705 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:41:29.705 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 51.768ms
2025-07-29 10:42:29.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:42:29.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:42:29.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:42:29.670 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:42:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:42:29.672 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:42:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:42:29.672 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:42:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:42:29.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:42:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:42:29.678 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:42:29.683 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:42:29.685 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:42:29.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:42:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.6535ms
2025-07-29 10:42:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:42:29.687 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:42:29.687 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9112ms
2025-07-29 10:42:29.687 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:42:29.688 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.917ms
2025-07-29 10:42:29.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.0303ms
2025-07-29 10:42:29.713 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:42:29.713 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:42:29.713 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.8191ms
2025-07-29 10:42:29.713 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:42:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.0497ms
2025-07-29 10:43:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:43:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:43:29.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:43:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:43:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:43:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:43:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:43:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:43:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:43:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:43:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:43:29.663 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:43:29.675 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:43:29.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:43:29.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.2211ms
2025-07-29 10:43:29.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:43:29.677 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:43:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:43:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.6191ms
2025-07-29 10:43:29.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:43:29.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.478ms
2025-07-29 10:43:29.694 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.7208ms
2025-07-29 10:43:29.719 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:43:29.719 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:43:29.719 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 55.8762ms
2025-07-29 10:43:29.719 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:43:29.719 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.6586ms
2025-07-29 10:44:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:44:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:44:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:44:29.659 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:44:29.659 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:44:29.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:44:29.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:44:29.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:44:29.672 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:44:29.673 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:44:29.673 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.9581ms
2025-07-29 10:44:29.673 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:44:29.674 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:44:29.677 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:44:29.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.0262ms
2025-07-29 10:44:29.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:44:29.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.6968ms
2025-07-29 10:44:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:44:29.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:44:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:44:29.678 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:44:29.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.2555ms
2025-07-29 10:44:29.711 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:44:29.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:44:29.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.7283ms
2025-07-29 10:44:29.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:44:29.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.963ms
2025-07-29 10:45:29.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:45:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:45:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:45:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:45:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:45:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:45:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:45:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:45:29.673 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:45:29.675 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:45:29.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.1177ms
2025-07-29 10:45:29.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:45:29.675 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:45:29.675 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:45:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.066ms
2025-07-29 10:45:29.679 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:45:29.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.809ms
2025-07-29 10:45:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:45:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.1935ms
2025-07-29 10:45:29.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:45:29.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:45:29.682 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:45:29.711 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:45:29.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:45:29.712 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.8137ms
2025-07-29 10:45:29.712 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:45:29.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.3832ms
2025-07-29 10:46:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:46:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:46:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:46:29.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:46:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:46:29.661 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:46:29.661 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:46:29.661 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:46:29.671 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:46:29.673 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:46:29.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.4392ms
2025-07-29 10:46:29.674 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:46:29.677 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.517ms
2025-07-29 10:46:29.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:46:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:46:29.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:46:29.678 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:46:29.678 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:46:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:46:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.0278ms
2025-07-29 10:46:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:46:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.7918ms
2025-07-29 10:46:29.713 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:46:29.713 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:46:29.713 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.1993ms
2025-07-29 10:46:29.713 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:46:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.689ms
2025-07-29 10:47:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:47:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:47:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:47:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:47:29.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:47:29.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:47:29.662 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:47:29.662 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:47:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:47:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:47:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:47:29.664 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:47:29.676 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:47:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:47:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.2654ms
2025-07-29 10:47:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:47:29.678 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:47:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.2337ms
2025-07-29 10:47:29.683 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:47:29.683 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.5925ms
2025-07-29 10:47:29.683 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:47:29.683 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.914ms
2025-07-29 10:47:29.698 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:47:29.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:47:29.699 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 34.0872ms
2025-07-29 10:47:29.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:47:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.5142ms
2025-07-29 10:48:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:48:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:48:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:48:29.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:48:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:48:29.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:48:29.654 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:48:29.654 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:48:29.664 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:48:29.666 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:48:29.668 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.5578ms
2025-07-29 10:48:29.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:48:29.670 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:48:29.672 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:48:29.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.4764ms
2025-07-29 10:48:29.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:48:29.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.8191ms
2025-07-29 10:48:29.673 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.9546ms
2025-07-29 10:48:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:48:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:48:29.673 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:48:29.675 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:48:29.703 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:48:29.703 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:48:29.704 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.957ms
2025-07-29 10:48:29.704 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:48:29.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.9403ms
2025-07-29 10:49:29.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:49:29.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:49:29.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:49:29.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:49:29.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:49:29.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:49:29.658 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:49:29.658 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:49:29.668 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:49:29.670 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:49:29.703 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 43.9398ms
2025-07-29 10:49:29.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:49:29.704 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:49:29.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:49:29.705 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 46.3358ms
2025-07-29 10:49:29.707 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:49:29.708 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.4726ms
2025-07-29 10:49:29.708 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.3629ms
2025-07-29 10:49:29.708 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:49:29.708 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:49:29.709 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:49:29.710 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:49:29.748 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:49:29.748 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:49:29.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.7699ms
2025-07-29 10:49:29.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:49:29.749 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.5719ms
2025-07-29 10:50:29.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:29.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:29.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:29.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:50:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:50:29.669 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:50:29.669 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:50:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:50:29.669 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:50:29.678 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:50:29.686 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:50:29.691 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:50:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.3062ms
2025-07-29 10:50:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:50:29.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.4391ms
2025-07-29 10:50:29.693 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:50:29.693 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:50:29.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6107ms
2025-07-29 10:50:29.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:50:29.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:50:29.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 25.6894ms
2025-07-29 10:50:29.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:50:29.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.5782ms
2025-07-29 10:50:29.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.2115ms
2025-07-29 10:50:48.816 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:48.816 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:48.816 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:50:48.817 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:50:50.051 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:50.051 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:50.052 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:50:50.052 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:50:50.380 +00:00 [INF] Executed DbCommand (327ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:50:50.405 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:50:50.405 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 353.3068ms
2025-07-29 10:50:50.405 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:50:50.405 +00:00 [INF] Executed DbCommand (1,576ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:50:50.405 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:50:50.406 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 354.5655ms
2025-07-29 10:50:50.406 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 1589.2127ms
2025-07-29 10:50:50.406 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:50:50.407 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 1590.9019ms
2025-07-29 10:50:50.490 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:50:50.490 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:50:50.503 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:50:50.503 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:50:50.590 +00:00 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:50:50.611 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:50:50.613 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 110.371ms
2025-07-29 10:50:50.614 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:50:50.615 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 124.9579ms
2025-07-29 10:51:07.822 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:07.823 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:07.823 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 2.0883ms
2025-07-29 10:51:07.839 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundaryaqvs9GW82v3wYC8I 353
2025-07-29 10:51:07.839 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:07.840 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:07.840 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:07.906 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:07.999 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 158.5754ms
2025-07-29 10:51:07.999 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:07.999 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 160.5346ms
2025-07-29 10:51:10.862 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundaryCHJFVMQwfsMAJXB2 353
2025-07-29 10:51:10.862 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:10.862 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:10.862 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:10.869 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:10.870 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 7.6538ms
2025-07-29 10:51:10.870 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:10.870 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 8.0789ms
2025-07-29 10:51:12.281 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundaryed092G9whEyx6Rcv 353
2025-07-29 10:51:12.282 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:12.282 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:12.282 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:12.286 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:12.287 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 4.5675ms
2025-07-29 10:51:12.287 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:12.287 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 6.3347ms
2025-07-29 10:51:13.196 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:13.197 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:13.197 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:13.198 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:13.198 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:13.198 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:13.198 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:51:13.198 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:51:13.198 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:51:13.198 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:51:13.198 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:51:13.199 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:13.203 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:51:13.207 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:51:13.208 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:51:13.209 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 10.6416ms
2025-07-29 10:51:13.212 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:51:13.212 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:51:13.212 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 13.613ms
2025-07-29 10:51:13.212 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:51:13.219 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.4032ms
2025-07-29 10:51:13.227 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.8019ms
2025-07-29 10:51:13.242 +00:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:51:13.243 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:51:13.243 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.2247ms
2025-07-29 10:51:13.243 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:51:13.243 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.6676ms
2025-07-29 10:51:13.392 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:13.392 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:13.393 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.1265ms
2025-07-29 10:51:13.397 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundarybnJXk9KDr3oA9J44 353
2025-07-29 10:51:13.397 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:13.397 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:13.397 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:13.399 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:13.399 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 2.158ms
2025-07-29 10:51:13.400 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:13.400 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 4.7804ms
2025-07-29 10:51:32.741 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:32.741 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:32.741 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.5098ms
2025-07-29 10:51:32.743 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundary0Iakc3D90FJ1rcE7 353
2025-07-29 10:51:32.744 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:32.744 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:32.744 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:32.746 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:32.746 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 1.8842ms
2025-07-29 10:51:32.746 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:32.746 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 3.0024ms
2025-07-29 10:51:43.216 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:43.216 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:43.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:51:43.217 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:51:43.217 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:43.217 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:43.217 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:51:43.217 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:51:43.219 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:43.219 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:43.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:51:43.220 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:43.223 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:51:43.223 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:51:43.223 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.2744ms
2025-07-29 10:51:43.233 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:51:43.232 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:51:43.233 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.0879ms
2025-07-29 10:51:43.233 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:51:43.233 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.3869ms
2025-07-29 10:51:43.233 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:51:43.234 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.8777ms
2025-07-29 10:51:43.393 +00:00 [INF] Executed DbCommand (143ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:51:43.394 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:51:43.395 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 174.0129ms
2025-07-29 10:51:43.395 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:51:43.395 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 176.9869ms
2025-07-29 10:51:47.055 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:51:47.058 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:47.058 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 2.6076ms
2025-07-29 10:51:47.061 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - multipart/form-data; boundary=----WebKitFormBoundaryDumfdM4A7uPwBQTE 353
2025-07-29 10:51:47.061 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:51:47.061 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:47.061 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:51:47.063 +00:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-07-29 10:51:47.063 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 1.9841ms
2025-07-29 10:51:47.063 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:51:47.063 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 415 null application/problem+json; charset=utf-8 3.0908ms
2025-07-29 10:52:13.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:13.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:13.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:13.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:13.679 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:52:13.679 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:52:13.679 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:52:13.679 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:52:13.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:13.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:13.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:52:13.680 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:52:13.693 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:52:13.696 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:52:13.696 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:52:13.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.792ms
2025-07-29 10:52:13.697 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:52:13.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:52:13.699 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5558ms
2025-07-29 10:52:13.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:52:13.706 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.1444ms
2025-07-29 10:52:13.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.8253ms
2025-07-29 10:52:13.728 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:52:13.728 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:52:13.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 46.6126ms
2025-07-29 10:52:13.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:52:13.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 48.5918ms
2025-07-29 10:52:43.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:43.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:43.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:52:43.682 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:52:43.685 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:43.685 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:52:43.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:43.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:52:43.686 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:52:43.686 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:52:43.686 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:52:43.691 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:52:43.709 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:52:43.712 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:52:43.713 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:52:43.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.7281ms
2025-07-29 10:52:43.715 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:52:43.715 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:52:43.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.1224ms
2025-07-29 10:52:43.716 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 33.801ms
2025-07-29 10:52:43.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:52:43.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.4454ms
2025-07-29 10:52:43.776 +00:00 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:52:43.777 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:52:43.777 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 90.7923ms
2025-07-29 10:52:43.777 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:52:43.777 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 92.2869ms
2025-07-29 10:53:13.211 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:13.212 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:13.212 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:13.212 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:53:13.212 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:53:13.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:13.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:13.213 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:53:13.213 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:13.213 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:53:13.213 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:53:13.215 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:53:13.244 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:53:13.244 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:53:13.245 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 29.1389ms
2025-07-29 10:53:13.245 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:53:13.251 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:53:13.251 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:53:13.251 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.8991ms
2025-07-29 10:53:13.252 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:53:13.252 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.8536ms
2025-07-29 10:53:13.286 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 73.0509ms
2025-07-29 10:53:13.343 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:53:13.343 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:53:13.343 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 130.1803ms
2025-07-29 10:53:13.343 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:53:13.344 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 131.6573ms
2025-07-29 10:53:43.213 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:43.215 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:43.216 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:53:43.216 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:53:43.223 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:43.223 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:43.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:53:43.223 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:53:43.237 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:53:43.237 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:53:43.237 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:53:43.237 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:53:43.247 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:53:43.253 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:53:43.254 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:53:43.254 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:53:43.254 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.1553ms
2025-07-29 10:53:43.254 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 30.5637ms
2025-07-29 10:53:43.254 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:53:43.254 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.28ms
2025-07-29 10:53:43.254 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:53:43.261 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 48.2873ms
2025-07-29 10:53:43.316 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:53:43.316 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:53:43.317 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 79.2752ms
2025-07-29 10:53:43.317 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:53:43.317 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 79.7808ms
2025-07-29 10:54:13.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:13.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:13.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:54:13.658 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:54:13.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:13.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:13.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:54:13.664 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:54:13.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:13.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:13.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:54:13.666 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:54:13.677 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:54:13.678 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:54:13.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:13.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:54:13.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.9679ms
2025-07-29 10:54:13.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.9396ms
2025-07-29 10:54:13.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:54:13.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:54:13.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.3215ms
2025-07-29 10:54:13.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.3575ms
2025-07-29 10:54:13.724 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:54:13.724 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:13.724 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 58.6943ms
2025-07-29 10:54:13.724 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:54:13.724 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 60.4807ms
2025-07-29 10:54:32.737 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:54:32.737 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:32.738 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 0.3584ms
2025-07-29 10:54:32.738 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:32.738 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:32.738 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.2493ms
2025-07-29 10:54:32.781 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:54:32.781 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:32.781 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:54:32.781 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:54:32.790 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:32.791 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:32.792 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:54:32.792 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:54:32.862 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:54:32.862 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:32.863 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 80.9909ms
2025-07-29 10:54:32.863 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:54:32.870 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 88.6517ms
2025-07-29 10:54:32.879 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:54:32.886 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:54:32.887 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:32.887 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 94.7661ms
2025-07-29 10:54:32.887 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:54:32.887 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 96.7594ms
2025-07-29 10:54:37.702 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:37.702 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:37.703 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.1987ms
2025-07-29 10:54:37.720 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - application/json 67
2025-07-29 10:54:37.721 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:37.721 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:54:37.721 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:54:37.733 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-29 10:54:37.751 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 30.2645ms
2025-07-29 10:54:37.751 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:54:37.751 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 400 null application/problem+json; charset=utf-8 31.1024ms
2025-07-29 10:54:43.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:43.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:43.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:43.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:54:43.219 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:54:43.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:54:43.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:43.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:54:43.220 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:54:43.220 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:54:43.220 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:54:43.220 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:54:43.230 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:54:43.232 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:54:43.232 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.5799ms
2025-07-29 10:54:43.233 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:54:43.233 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.3878ms
2025-07-29 10:54:43.237 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:54:43.241 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:43.242 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 22.5071ms
2025-07-29 10:54:43.242 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:54:43.242 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.1179ms
2025-07-29 10:54:43.269 +00:00 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:54:43.270 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:54:43.270 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 49.6826ms
2025-07-29 10:54:43.270 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:54:43.270 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.995ms
2025-07-29 10:55:13.218 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:13.218 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:13.219 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:55:13.219 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:55:13.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:13.220 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:13.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:13.220 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:13.223 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:55:13.223 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:55:13.224 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:55:13.224 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:55:13.238 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:55:13.240 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:55:13.241 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:55:13.241 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.6701ms
2025-07-29 10:55:13.241 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:55:13.241 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.5727ms
2025-07-29 10:55:13.241 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:55:13.244 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.4808ms
2025-07-29 10:55:13.245 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:55:13.245 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.4418ms
2025-07-29 10:55:13.273 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:55:13.274 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:55:13.274 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.2577ms
2025-07-29 10:55:13.274 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:55:13.274 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 54.0834ms
2025-07-29 10:55:43.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:43.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:43.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:43.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:55:43.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:43.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:55:43.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:55:43.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:55:43.657 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:55:43.657 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:55:43.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:55:43.657 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:55:43.668 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:55:43.669 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:55:43.669 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.3014ms
2025-07-29 10:55:43.669 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:55:43.669 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:55:43.669 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:55:43.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.8636ms
2025-07-29 10:55:43.674 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:55:43.678 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.2034ms
2025-07-29 10:55:43.678 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.9417ms
2025-07-29 10:55:43.695 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:55:43.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:55:43.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.7795ms
2025-07-29 10:55:43.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:55:43.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.2606ms
2025-07-29 10:56:13.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:56:13.696 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:56:13.697 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:56:13.697 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:56:13.697 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:56:13.707 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:56:13.709 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:56:13.709 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:56:13.716 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:56:13.716 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:56:13.716 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:56:13.716 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:56:13.724 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:56:13.724 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:56:13.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:56:13.733 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.1966ms
2025-07-29 10:56:13.734 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:56:13.735 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:56:13.735 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 37.998ms
2025-07-29 10:56:13.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:56:13.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 41.2925ms
2025-07-29 10:56:13.736 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 43.5071ms
2025-07-29 10:56:13.752 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:56:13.753 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:56:13.753 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.2672ms
2025-07-29 10:56:13.753 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:56:13.753 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.4163ms
2025-07-29 10:57:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:57:29.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:57:29.684 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:57:29.686 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:57:29.686 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:57:29.687 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:57:29.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:57:29.688 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:57:29.704 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:57:29.705 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:57:29.705 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:57:29.705 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:57:29.706 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:57:29.706 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:57:29.706 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:57:29.706 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:57:29.707 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.1491ms
2025-07-29 10:57:29.707 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.7747ms
2025-07-29 10:57:29.707 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:57:29.707 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:57:29.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.9147ms
2025-07-29 10:57:29.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.8566ms
2025-07-29 10:57:29.742 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:57:29.743 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:57:29.743 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 36.3596ms
2025-07-29 10:57:29.743 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:57:29.743 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.8948ms
2025-07-29 10:58:05.329 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:05.329 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:05.329 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:05.329 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:05.329 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:05.329 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:05.329 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:05.330 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:05.334 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:05.334 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:05.334 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:05.334 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:05.391 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:58:05.391 +00:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:58:05.391 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:05.406 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 76.5638ms
2025-07-29 10:58:05.408 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:05.408 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 80.9287ms
2025-07-29 10:58:05.504 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:58:05.505 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 174.9339ms
2025-07-29 10:58:05.505 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:05.505 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 177.4479ms
2025-07-29 10:58:05.507 +00:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:58:05.507 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:05.508 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 173.3714ms
2025-07-29 10:58:05.508 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:05.508 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 175.6521ms
2025-07-29 10:58:11.103 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:11.103 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.103 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 1.2982ms
2025-07-29 10:58:11.108 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:58:11.109 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.109 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 2.0506ms
2025-07-29 10:58:11.109 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:11.109 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.110 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:58:11.110 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:58:11.115 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:58:11.116 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.118 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:58:11.118 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:58:11.119 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:11.125 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:58:11.125 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:11.125 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 15.4575ms
2025-07-29 10:58:11.125 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:58:11.125 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.2039ms
2025-07-29 10:58:11.140 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:58:11.140 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:11.140 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 21.8057ms
2025-07-29 10:58:11.140 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:58:11.141 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 27.53ms
2025-07-29 10:58:11.447 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:11.447 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.447 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:58:11.447 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 10:58:11.449 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 10:58:11.449 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:11.449 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:58:11.449 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:11.465 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 10:58:11.470 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 10:58:11.470 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:11.470 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 22.7804ms
2025-07-29 10:58:11.470 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 10:58:11.470 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.4567ms
2025-07-29 10:58:11.471 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 10:58:11.566 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:11.566 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 116.9452ms
2025-07-29 10:58:11.566 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 10:58:11.566 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 117.5339ms
2025-07-29 10:58:12.889 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:12.889 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:12.890 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.6543ms
2025-07-29 10:58:12.918 +00:00 [INF] Request starting HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - application/json 67
2025-07-29 10:58:12.919 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:12.927 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:58:12.927 +00:00 [INF] Route matched with {action = "CreatePersonalMaintenanceRequest", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePersonalMaintenanceRequest(PersonaXFleet.DTOs.CreatePersonalMaintenanceRequestDto, System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:12.930 +00:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-07-29 10:58:12.930 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet) in 3.1251ms
2025-07-29 10:58:12.931 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.CreatePersonalMaintenanceRequest (PersonaXFleet)'
2025-07-29 10:58:12.931 +00:00 [INF] Request finished HTTP/2 POST https://localhost:7092/api/MaintenanceRequest/personal?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 400 null application/problem+json; charset=utf-8 13.282ms
2025-07-29 10:58:13.371 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:13.372 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:13.375 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:13.376 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:13.376 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:13.376 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:13.376 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:13.376 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:13.376 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:13.376 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:13.376 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:13.376 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:13.380 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:58:13.381 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:58:13.382 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 6.0724ms
2025-07-29 10:58:13.382 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:58:13.383 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:13.385 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:13.386 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 9.9959ms
2025-07-29 10:58:13.386 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:13.386 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 13.9543ms
2025-07-29 10:58:13.387 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 14.1886ms
2025-07-29 10:58:13.392 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:58:13.395 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:13.395 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.0622ms
2025-07-29 10:58:13.395 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:13.395 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 23.6071ms
2025-07-29 10:58:43.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:43.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:43.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:43.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:43.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:43.663 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:43.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:43.664 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:58:43.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:58:43.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:58:43.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:43.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:58:43.678 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:58:43.679 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:58:43.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:43.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:58:43.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.5205ms
2025-07-29 10:58:43.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.3817ms
2025-07-29 10:58:43.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:58:43.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:58:43.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.9982ms
2025-07-29 10:58:43.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.1168ms
2025-07-29 10:58:43.715 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:58:43.716 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:58:43.716 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 44.2499ms
2025-07-29 10:58:43.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:58:43.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 44.725ms
2025-07-29 10:59:13.679 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:59:13.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:59:13.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:59:13.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:59:13.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:59:13.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:59:13.682 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:59:13.682 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 10:59:13.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 10:59:13.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 10:59:13.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:59:13.689 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 10:59:13.697 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 10:59:13.699 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 10:59:13.701 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 10:59:13.701 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:59:13.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.6251ms
2025-07-29 10:59:13.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 10:59:13.701 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.6406ms
2025-07-29 10:59:13.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 10:59:13.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.2282ms
2025-07-29 10:59:13.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.695ms
2025-07-29 10:59:13.728 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 10:59:13.728 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 10:59:13.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 38.5312ms
2025-07-29 10:59:13.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 10:59:13.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 39.0998ms
2025-07-29 11:00:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:00:29.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:00:29.682 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:00:29.690 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:00:29.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:00:29.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:00:29.692 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:00:29.692 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:00:29.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:00:29.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:00:29.701 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:00:29.702 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:00:29.714 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:00:29.715 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:00:29.715 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.4951ms
2025-07-29 11:00:29.722 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:00:29.722 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:00:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.1944ms
2025-07-29 11:00:29.723 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:00:29.723 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.5375ms
2025-07-29 11:00:29.726 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:00:29.727 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.4026ms
2025-07-29 11:00:29.752 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:00:29.752 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:00:29.752 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 48.9067ms
2025-07-29 11:00:29.752 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:00:29.752 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 54.4276ms
2025-07-29 11:01:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:01:29.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:01:29.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:01:29.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:01:29.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:01:29.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:01:29.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:01:29.669 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:01:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:01:29.669 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:01:29.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:01:29.670 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:01:29.684 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:01:29.684 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:01:29.694 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:01:29.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:01:29.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.8381ms
2025-07-29 11:01:29.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:01:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 34.8681ms
2025-07-29 11:01:29.705 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:01:29.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 42.3326ms
2025-07-29 11:01:29.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.9793ms
2025-07-29 11:01:29.739 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:01:29.739 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:01:29.739 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 69.6335ms
2025-07-29 11:01:29.739 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:01:29.740 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 72.283ms
2025-07-29 11:02:29.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:02:29.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:02:29.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:02:29.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:02:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:02:29.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:02:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:02:29.674 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:02:29.684 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:02:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:02:29.684 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:02:29.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:02:29.685 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 17.9185ms
2025-07-29 11:02:29.685 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:02:29.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:02:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.8165ms
2025-07-29 11:02:29.686 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:02:29.726 +00:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:02:29.727 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:02:29.728 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.0048ms
2025-07-29 11:02:29.728 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:02:29.728 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 55.3283ms
2025-07-29 11:02:29.761 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:02:29.761 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:02:29.762 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 75.9359ms
2025-07-29 11:02:29.762 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:02:29.762 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 77.7969ms
2025-07-29 11:03:29.679 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:03:29.686 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:03:29.687 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:03:29.687 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:03:29.687 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:03:29.687 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:03:29.687 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:03:29.688 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:03:29.732 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:03:29.733 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:03:29.733 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:03:29.734 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:03:29.734 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:03:29.743 +00:00 [INF] Executed DbCommand (34ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:03:29.743 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:03:29.743 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 56.0316ms
2025-07-29 11:03:29.743 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:03:29.755 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:03:29.755 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 66.9891ms
2025-07-29 11:03:29.755 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:03:29.765 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:03:29.769 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 91.2805ms
2025-07-29 11:03:29.769 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 82.9193ms
2025-07-29 11:03:29.770 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:03:29.770 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.8263ms
2025-07-29 11:03:29.770 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:03:29.771 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.9417ms
2025-07-29 11:04:23.297 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:23.298 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:23.298 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:23.298 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:23.298 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:04:23.298 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:04:23.298 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:04:23.299 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:04:23.307 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:23.308 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:23.308 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:04:23.308 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:04:23.329 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:04:23.329 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:04:23.330 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:04:23.330 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:04:23.330 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 31.6029ms
2025-07-29 11:04:23.331 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 31.3664ms
2025-07-29 11:04:23.331 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:04:23.331 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:04:23.332 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.8495ms
2025-07-29 11:04:23.332 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.9539ms
2025-07-29 11:04:23.397 +00:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:04:23.398 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:04:23.398 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 89.7276ms
2025-07-29 11:04:23.398 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:04:23.398 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 90.6683ms
2025-07-29 11:04:43.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:43.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:43.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:04:43.674 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:04:43.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:43.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:43.675 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:04:43.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:04:43.677 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:04:43.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:04:43.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:04:43.678 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:04:43.692 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:04:43.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:04:43.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.5934ms
2025-07-29 11:04:43.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:04:43.696 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:04:43.696 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:04:43.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 18.4843ms
2025-07-29 11:04:43.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:04:43.700 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:04:43.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.0032ms
2025-07-29 11:04:43.705 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.0413ms
2025-07-29 11:04:43.706 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:04:43.706 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.727ms
2025-07-29 11:04:43.707 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:04:43.707 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.6021ms
2025-07-29 11:05:13.659 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:05:13.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:05:13.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:05:13.660 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:05:13.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:05:13.660 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:05:13.660 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:05:13.660 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:05:13.661 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:05:13.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:05:13.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:05:13.662 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:05:13.672 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:05:13.673 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:05:13.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:05:13.675 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:05:13.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.7865ms
2025-07-29 11:05:13.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:05:13.675 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.6117ms
2025-07-29 11:05:13.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:05:13.675 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 16.2485ms
2025-07-29 11:05:13.679 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.9138ms
2025-07-29 11:05:13.707 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:05:13.708 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:05:13.708 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 45.865ms
2025-07-29 11:05:13.708 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:05:13.708 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 47.393ms
2025-07-29 11:06:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:06:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:06:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:06:29.671 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:06:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:06:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:06:29.672 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:06:29.673 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:06:29.683 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:06:29.684 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:06:29.685 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.0441ms
2025-07-29 11:06:29.685 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:06:29.685 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:06:29.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:06:29.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.3053ms
2025-07-29 11:06:29.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:06:29.691 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:06:29.691 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:06:29.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.1622ms
2025-07-29 11:06:29.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.0018ms
2025-07-29 11:06:29.691 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:06:29.691 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:06:29.718 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:06:29.718 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:06:29.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.5282ms
2025-07-29 11:06:29.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:06:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.4644ms
2025-07-29 11:07:29.675 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:07:29.676 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:07:29.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:07:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:07:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:07:29.677 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:07:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:07:29.677 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:07:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:07:29.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:07:29.690 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:07:29.691 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:07:29.701 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:07:29.701 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:07:29.701 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:07:29.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.1705ms
2025-07-29 11:07:29.702 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:07:29.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:07:29.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.4482ms
2025-07-29 11:07:29.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:07:29.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.4569ms
2025-07-29 11:07:29.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.1933ms
2025-07-29 11:07:29.734 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:07:29.734 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:07:29.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.8867ms
2025-07-29 11:07:29.734 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:07:29.734 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.0711ms
2025-07-29 11:08:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:08:29.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:08:29.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:08:29.685 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:08:29.698 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:08:29.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:08:29.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:08:29.699 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:08:29.700 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:08:29.701 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:08:29.702 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:08:29.703 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:08:29.709 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:08:29.713 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:08:29.714 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 28.6709ms
2025-07-29 11:08:29.714 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:08:29.715 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.7352ms
2025-07-29 11:08:29.715 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:08:29.716 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:08:29.717 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.9117ms
2025-07-29 11:08:29.717 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:08:29.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.2788ms
2025-07-29 11:08:29.746 +00:00 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:08:29.747 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:08:29.747 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.6284ms
2025-07-29 11:08:29.747 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:08:29.747 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 47.0102ms
2025-07-29 11:09:29.686 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:09:29.686 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:09:29.687 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:09:29.687 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:09:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:09:29.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:09:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:09:29.689 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:09:29.703 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:09:29.704 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:09:29.705 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:09:29.706 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:09:29.716 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:09:29.716 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:09:29.718 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:09:29.718 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:09:29.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 28.6864ms
2025-07-29 11:09:29.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:09:29.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 29.1559ms
2025-07-29 11:09:29.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:09:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.6338ms
2025-07-29 11:09:29.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.1622ms
2025-07-29 11:09:29.738 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:09:29.738 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:09:29.738 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.6538ms
2025-07-29 11:09:29.738 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:09:29.739 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.5032ms
2025-07-29 11:10:29.720 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:10:29.721 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:10:29.722 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:10:29.722 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:10:29.722 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:10:29.722 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:10:29.722 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:10:29.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:10:29.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:10:29.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:10:29.723 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:10:29.723 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:10:29.742 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:10:29.743 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:10:29.743 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 20.6953ms
2025-07-29 11:10:29.743 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:10:29.746 +00:00 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:10:29.747 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:10:29.747 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 22.0907ms
2025-07-29 11:10:29.747 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:10:29.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.7444ms
2025-07-29 11:10:29.758 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.6181ms
2025-07-29 11:10:29.779 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:10:29.779 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:10:29.779 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 56.7203ms
2025-07-29 11:10:29.779 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:10:29.780 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 57.5914ms
2025-07-29 11:11:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:11:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:11:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:11:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:11:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:11:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:11:29.667 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:11:29.667 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:11:29.675 +00:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:11:29.677 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:11:29.677 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 9.9336ms
2025-07-29 11:11:29.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:11:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:11:29.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:11:29.685 +00:00 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:11:29.685 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.5694ms
2025-07-29 11:11:29.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:11:29.685 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:11:29.686 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:11:29.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.0378ms
2025-07-29 11:11:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:11:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.331ms
2025-07-29 11:11:29.721 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:11:29.721 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:11:29.721 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 35.5108ms
2025-07-29 11:11:29.721 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:11:29.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.6523ms
2025-07-29 11:12:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:12:29.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:12:29.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:12:29.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:12:29.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:12:29.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:12:29.688 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:12:29.688 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:12:29.711 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:12:29.714 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:12:29.714 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.7217ms
2025-07-29 11:12:29.714 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:12:29.714 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:12:29.714 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:12:29.714 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.021ms
2025-07-29 11:12:29.714 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:12:29.723 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:12:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.7279ms
2025-07-29 11:12:29.723 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 38.6088ms
2025-07-29 11:12:29.723 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:12:29.723 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:12:29.723 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:12:29.751 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:12:29.751 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:12:29.751 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.6681ms
2025-07-29 11:12:29.751 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:12:29.751 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.5303ms
2025-07-29 11:13:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:13:29.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:13:29.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:13:29.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:13:29.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:13:29.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:13:29.687 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:13:29.687 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:13:29.729 +00:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:13:29.732 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:13:29.732 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 45.627ms
2025-07-29 11:13:29.732 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:13:29.746 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:13:29.746 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:13:29.747 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:13:29.747 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 65.548ms
2025-07-29 11:13:29.747 +00:00 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:13:29.747 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:13:29.748 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:13:29.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 61.2273ms
2025-07-29 11:13:29.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:13:29.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 66.5502ms
2025-07-29 11:13:29.778 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:13:29.778 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:13:29.778 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 30.9161ms
2025-07-29 11:13:29.778 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:13:29.778 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.3922ms
2025-07-29 11:14:29.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:14:29.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:14:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:14:29.677 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:14:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:14:29.677 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:14:29.677 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:14:29.677 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:14:29.689 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:14:29.691 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:14:29.691 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.7951ms
2025-07-29 11:14:29.691 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:14:29.691 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:14:29.694 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:14:29.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.0455ms
2025-07-29 11:14:29.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:14:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.7018ms
2025-07-29 11:14:29.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.5345ms
2025-07-29 11:14:29.697 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:14:29.698 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:14:29.698 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:14:29.699 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:14:29.726 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:14:29.726 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:14:29.726 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.8788ms
2025-07-29 11:14:29.726 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:14:29.727 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.3218ms
2025-07-29 11:15:29.688 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:29.688 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:15:29.689 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:15:29.689 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:29.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:29.692 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:29.692 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:15:29.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:29.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:29.714 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:15:29.716 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:15:29.716 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:15:29.716 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:15:29.716 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:29.716 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 23.8285ms
2025-07-29 11:15:29.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:29.716 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:29.716 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.4836ms
2025-07-29 11:15:29.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.8299ms
2025-07-29 11:15:29.716 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:15:29.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.0224ms
2025-07-29 11:15:29.743 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:15:29.743 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:29.743 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.2051ms
2025-07-29 11:15:29.743 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:15:29.743 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.0688ms
2025-07-29 11:15:40.296 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:40.296 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:40.297 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:40.297 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:40.297 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.2408ms
2025-07-29 11:15:40.297 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.2922ms
2025-07-29 11:15:40.306 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:40.306 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:40.306 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:40.306 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:15:40.306 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:40.306 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4521ms
2025-07-29 11:15:40.306 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:40.307 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.4419ms
2025-07-29 11:15:40.309 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:40.309 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:40.309 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:40.309 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:15:40.309 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:40.309 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2557ms
2025-07-29 11:15:40.309 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:40.309 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 0.9942ms
2025-07-29 11:15:44.475 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:44.475 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.475 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:44.475 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:15:44.475 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:44.475 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.1834ms
2025-07-29 11:15:44.475 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:44.475 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 0.8547ms
2025-07-29 11:15:44.477 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:15:44.478 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.478 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:44.478 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:15:44.478 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:44.478 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.3044ms
2025-07-29 11:15:44.478 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:15:44.478 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1913ms
2025-07-29 11:15:44.682 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.683 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.683 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.6461ms
2025-07-29 11:15:44.685 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:15:44.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.685 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.685 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.0115ms
2025-07-29 11:15:44.686 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.686 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:15:44.686 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:15:44.687 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:15:44.688 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.688 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:15:44.689 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:15:44.689 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.694 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 11:15:44.695 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.695 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 9.3668ms
2025-07-29 11:15:44.695 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:15:44.695 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 10.2838ms
2025-07-29 11:15:44.699 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 11:15:44.699 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 10.604ms
2025-07-29 11:15:44.700 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:15:44.700 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.700 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:15:44.700 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:15:44.700 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 12.744ms
2025-07-29 11:15:44.701 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:15:44.702 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.702 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:15:44.703 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.703 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:15:44.706 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 11:15:44.706 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.706 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 5.9981ms
2025-07-29 11:15:44.706 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:15:44.706 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 6.9646ms
2025-07-29 11:15:44.708 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 11:15:44.709 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.709 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 5.575ms
2025-07-29 11:15:44.709 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:15:44.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 7.6071ms
2025-07-29 11:15:44.723 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.724 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.724 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:44.724 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:15:44.725 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.725 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.725 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:15:44.725 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:15:44.727 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:15:44.728 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.728 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.729 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:15:44.729 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:44.729 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:15:44.729 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 5.0213ms
2025-07-29 11:15:44.729 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:44.729 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 6.4366ms
2025-07-29 11:15:44.730 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.731 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.731 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.733 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:15:44.740 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.740 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.740 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.740 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:44.740 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:15:44.745 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.760 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 11:15:44.775 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:15:44.784 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:15:44.792 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.792 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:15:44.792 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:15:44.794 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 53.6784ms
2025-07-29 11:15:44.794 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 64.8569ms
2025-07-29 11:15:44.794 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 60.824ms
2025-07-29 11:15:44.794 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:15:44.794 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.794 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:15:44.794 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 66.4265ms
2025-07-29 11:15:44.799 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 58.6884ms
2025-07-29 11:15:44.799 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 68.3555ms
2025-07-29 11:15:44.799 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 11:15:44.800 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.802 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 77.0153ms
2025-07-29 11:15:44.802 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:15:44.802 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 77.7881ms
2025-07-29 11:15:44.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.808 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.808 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.808 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.808 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:15:44.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.808 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:15:44.808 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:15:44.808 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:15:44.808 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:15:44.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:15:44.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.813 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:15:44.814 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:15:44.815 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 6.2658ms
2025-07-29 11:15:44.815 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.816 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 8.4216ms
2025-07-29 11:15:44.818 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.819 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.819 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.819 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:15:44.820 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 11:15:44.820 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.820 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 11:15:44.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 12.4134ms
2025-07-29 11:15:44.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:15:44.821 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:15:44.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 12.9051ms
2025-07-29 11:15:44.821 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 12.5324ms
2025-07-29 11:15:44.821 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:15:44.821 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 13.1794ms
2025-07-29 11:15:44.822 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:15:44.823 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:15:44.824 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 4.4532ms
2025-07-29 11:15:44.824 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.824 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 5.8412ms
2025-07-29 11:15:44.825 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:15:44.826 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:15:44.826 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.826 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:15:44.828 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:15:44.829 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:15:44.829 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 3.124ms
2025-07-29 11:15:44.829 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:15:44.829 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 3.9634ms
2025-07-29 11:16:15.674 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:15.675 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:15.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:16:15.676 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:16:15.677 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:15.678 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:15.678 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:16:15.678 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:16:15.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:15.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:15.685 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:16:15.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:16:15.685 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:16:15.688 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:16:15.688 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 12.2428ms
2025-07-29 11:16:15.688 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:16:15.688 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:16:15.704 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:16:15.705 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.3849ms
2025-07-29 11:16:15.706 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:16:15.708 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.987ms
2025-07-29 11:16:15.708 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.6488ms
2025-07-29 11:16:15.736 +00:00 [INF] Executed DbCommand (39ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:16:15.736 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:16:15.736 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 50.4736ms
2025-07-29 11:16:15.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:16:15.737 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 54.5881ms
2025-07-29 11:16:45.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:45.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:45.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:16:45.662 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:16:45.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:45.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:45.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:16:45.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:16:45.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:16:45.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:16:45.664 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:16:45.664 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:16:45.679 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:16:45.680 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:16:45.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:16:45.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:16:45.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.575ms
2025-07-29 11:16:45.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:16:45.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 16.7901ms
2025-07-29 11:16:45.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:16:45.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.1853ms
2025-07-29 11:16:45.691 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.6087ms
2025-07-29 11:16:45.691 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:16:45.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:16:45.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.4034ms
2025-07-29 11:16:45.693 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:16:45.693 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.4909ms
2025-07-29 11:17:15.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:15.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:15.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:17:15.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:15.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:17:15.665 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:15.665 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:17:15.665 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:17:15.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:15.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:15.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:17:15.682 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:17:15.688 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:17:15.688 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:17:15.689 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:17:15.689 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:17:15.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 24.2612ms
2025-07-29 11:17:15.689 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.1164ms
2025-07-29 11:17:15.689 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:17:15.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:17:15.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.7384ms
2025-07-29 11:17:15.690 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 24.5574ms
2025-07-29 11:17:15.711 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:17:15.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:17:15.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.2559ms
2025-07-29 11:17:15.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:17:15.711 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.7188ms
2025-07-29 11:17:45.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:45.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:45.667 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:17:45.669 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:17:45.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:45.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:45.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:17:45.670 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:17:45.685 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:17:45.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:17:45.686 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:17:45.687 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:17:45.695 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:17:45.695 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:17:45.696 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:17:45.696 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:17:45.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 26.5376ms
2025-07-29 11:17:45.696 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 26.9768ms
2025-07-29 11:17:45.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:17:45.696 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:17:45.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.1909ms
2025-07-29 11:17:45.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.8799ms
2025-07-29 11:17:45.720 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:17:45.720 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:17:45.720 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.1148ms
2025-07-29 11:17:45.720 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:17:45.720 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.6259ms
2025-07-29 11:18:15.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:15.665 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:15.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:15.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:15.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:18:15.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:18:15.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:18:15.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:18:15.668 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:15.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:15.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:18:15.668 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:18:15.676 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:18:15.676 +00:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:18:15.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:18:15.685 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:18:15.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.5912ms
2025-07-29 11:18:15.686 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.6484ms
2025-07-29 11:18:15.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:18:15.690 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:18:15.696 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.6833ms
2025-07-29 11:18:15.697 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.736ms
2025-07-29 11:18:15.705 +00:00 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:18:15.705 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:18:15.705 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.0363ms
2025-07-29 11:18:15.705 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:18:15.705 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.7621ms
2025-07-29 11:18:45.652 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:45.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:45.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:45.653 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:45.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:18:45.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:18:45.653 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:18:45.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:18:45.668 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:18:45.669 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:18:45.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:18:45.670 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:18:45.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:18:45.671 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 17.2695ms
2025-07-29 11:18:45.671 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:18:45.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:18:45.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 19.5085ms
2025-07-29 11:18:45.672 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:18:45.673 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:18:45.673 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 19.6305ms
2025-07-29 11:18:45.673 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:18:45.678 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.7042ms
2025-07-29 11:18:45.702 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:18:45.702 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:18:45.703 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.3859ms
2025-07-29 11:18:45.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:18:45.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.6174ms
2025-07-29 11:19:29.664 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:19:29.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:19:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:19:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:19:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:19:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:19:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:19:29.666 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:19:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:19:29.682 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:19:29.683 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:19:29.683 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:19:29.691 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:19:29.691 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:19:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:19:29.692 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:19:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 25.6454ms
2025-07-29 11:19:29.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 25.5502ms
2025-07-29 11:19:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:19:29.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:19:29.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.4887ms
2025-07-29 11:19:29.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.5358ms
2025-07-29 11:19:29.713 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:19:29.713 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:19:29.713 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.476ms
2025-07-29 11:19:29.713 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:19:29.713 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.4907ms
2025-07-29 11:20:29.676 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:20:29.676 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:20:29.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:20:29.677 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:20:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:20:29.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:20:29.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:20:29.681 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:20:29.697 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:20:29.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:20:29.700 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:20:29.702 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:20:29.708 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:20:29.708 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:20:29.709 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 27.9443ms
2025-07-29 11:20:29.709 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:20:29.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.8078ms
2025-07-29 11:20:29.709 +00:00 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:20:29.709 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:20:29.709 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.594ms
2025-07-29 11:20:29.712 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:20:29.712 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.0986ms
2025-07-29 11:20:29.734 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:20:29.734 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:20:29.734 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.6769ms
2025-07-29 11:20:29.735 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:20:29.735 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.7677ms
2025-07-29 11:21:29.660 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:21:29.661 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:21:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:21:29.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:21:29.662 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:21:29.662 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:21:29.662 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:21:29.662 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:21:29.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:21:29.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:21:29.671 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:21:29.671 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:21:29.680 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:21:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:21:29.680 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:21:29.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5138ms
2025-07-29 11:21:29.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:21:29.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:21:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 19.3393ms
2025-07-29 11:21:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.7982ms
2025-07-29 11:21:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:21:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.3454ms
2025-07-29 11:21:29.703 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:21:29.703 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:21:29.703 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 31.6371ms
2025-07-29 11:21:29.703 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:21:29.703 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 33.8657ms
2025-07-29 11:22:29.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:22:29.666 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:22:29.666 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:22:29.666 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:22:29.667 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:22:29.667 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:22:29.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:22:29.668 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:22:29.679 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:22:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:22:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.4488ms
2025-07-29 11:22:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:22:29.681 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:22:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:22:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.454ms
2025-07-29 11:22:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:22:29.687 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:22:29.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.0342ms
2025-07-29 11:22:29.687 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 20.4627ms
2025-07-29 11:22:29.687 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:22:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:22:29.689 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:22:29.721 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:22:29.721 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:22:29.721 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 32.1139ms
2025-07-29 11:22:29.721 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:22:29.721 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.5103ms
2025-07-29 11:23:16.664 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:16.664 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:16.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:16.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:16.665 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.7774ms
2025-07-29 11:23:16.665 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/auth/verify - 204 null null 0.8336ms
2025-07-29 11:23:16.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:16.680 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:16.680 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:16.680 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:23:16.680 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:16.680 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.4891ms
2025-07-29 11:23:16.680 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:16.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.1817ms
2025-07-29 11:23:16.684 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:16.684 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:16.684 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:16.685 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:23:16.685 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:16.686 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.5342ms
2025-07-29 11:23:16.686 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:16.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 1.5784ms
2025-07-29 11:23:20.557 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:20.557 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.557 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:20.557 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:23:20.557 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:20.557 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2331ms
2025-07-29 11:23:20.557 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:20.557 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 0.9361ms
2025-07-29 11:23:20.559 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/auth/verify - null null
2025-07-29 11:23:20.560 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.560 +00:00 [INF] Executing endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:20.560 +00:00 [INF] Route matched with {action = "Verify", controller = "Auth"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Verify() on controller FleetIdentityServer.Controllers.Auth (PersonaXFleet).
2025-07-29 11:23:20.560 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:20.560 +00:00 [INF] Executed action FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet) in 0.2135ms
2025-07-29 11:23:20.560 +00:00 [INF] Executed endpoint 'FleetIdentityServer.Controllers.Auth.Verify (PersonaXFleet)'
2025-07-29 11:23:20.560 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/auth/verify - 200 null application/json; charset=utf-8 0.895ms
2025-07-29 11:23:20.766 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.766 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.766 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 204 null null 0.506ms
2025-07-29 11:23:20.769 +00:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:23:20.769 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.769 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.769 +00:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 204 null null 1.0344ms
2025-07-29 11:23:20.769 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.770 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:23:20.770 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:23:20.771 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:23:20.771 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.772 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:23:20.772 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:23:20.775 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.779 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 11:23:20.780 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.780 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 10.1117ms
2025-07-29 11:23:20.780 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:23:20.780 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 10.97ms
2025-07-29 11:23:20.786 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.786 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 11:23:20.786 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.786 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:23:20.786 +00:00 [INF] Route matched with {action = "GetVehiclesByUser", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVehiclesByUser(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:23:20.786 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.786 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 14.4349ms
2025-07-29 11:23:20.786 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:23:20.786 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 15.2669ms
2025-07-29 11:23:20.788 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - null null
2025-07-29 11:23:20.789 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.789 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:23:20.790 +00:00 [INF] Route matched with {action = "GetUserSchedules", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserSchedules(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:23:20.790 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.792 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[Make], [v].[Model], [v].[Year], [v].[LicensePlate], [v].[VehicleType], [v].[Status]
FROM [Vehicles] AS [v]
WHERE [v].[UserId] = @__userId_0
2025-07-29 11:23:20.792 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.VehicleDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.793 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet) in 6.4104ms
2025-07-29 11:23:20.793 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetVehiclesByUser (PersonaXFleet)'
2025-07-29 11:23:20.794 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/ByUser/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 8.029ms
2025-07-29 11:23:20.794 +00:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Id], [m].[MaintenanceRequestId], [m].[ScheduledDate], [m].[Reason], [m].[AssignedMechanicId], [a].[UserName], [m].[Status], [m].[Comments], [m0].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m0].[RequestType]
FROM [MaintenanceSchedules] AS [m]
INNER JOIN [MaintenanceRequests] AS [m0] ON [m].[MaintenanceRequestId] = [m0].[MaintenanceId]
INNER JOIN [Vehicles] AS [v] ON [m0].[VehicleId] = [v].[Id]
LEFT JOIN [AspNetUsers] AS [a] ON [m].[AssignedMechanicId] = [a].[Id]
WHERE [m].[AssignedMechanicId] = @__userId_0 OR [v].[UserId] = @__userId_0
2025-07-29 11:23:20.797 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceScheduledDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.797 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet) in 7.2244ms
2025-07-29 11:23:20.797 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetUserSchedules (PersonaXFleet)'
2025-07-29 11:23:20.797 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC/schedules - 200 null application/json; charset=utf-8 9.4063ms
2025-07-29 11:23:20.856 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.856 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.856 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:20.857 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:23:20.857 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.857 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.858 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:23:20.860 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.860 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.860 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:23:20.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:23:20.860 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:23:20.860 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.860 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.860 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:23:20.869 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:23:20.876 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.877 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:20.877 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.733ms
2025-07-29 11:23:20.878 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:20.880 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 24.8049ms
2025-07-29 11:23:20.881 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:23:20.884 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:23:20.884 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.884 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 24.1247ms
2025-07-29 11:23:20.884 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.884 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.884 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 24.5743ms
2025-07-29 11:23:20.884 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:20.885 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:23:20.894 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 11:23:20.897 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.898 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 37.724ms
2025-07-29 11:23:20.898 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:23:20.898 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 41.1476ms
2025-07-29 11:23:20.909 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:23:20.909 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.909 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.910 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.910 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.910 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.911 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:23:20.911 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.913 +00:00 [INF] Route matched with {action = "GetMyVehicleRequests", controller = "VehicleAssignment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyVehicleRequests(System.String) on controller PersonaXFleet.Controllers.VehicleAssignmentController (PersonaXFleet).
2025-07-29 11:23:20.913 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:23:20.918 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:20.919 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 34.1492ms
2025-07-29 11:23:20.919 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:23:20.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:20.919 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 34.8431ms
2025-07-29 11:23:20.919 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:23:20.919 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 5.9431ms
2025-07-29 11:23:20.919 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.920 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 10.2747ms
2025-07-29 11:23:20.923 +00:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.926 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.927 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.929 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.929 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:23:20.939 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:23:20.939 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [v].[Id], [v].[RequestReason], [v].[RequestDate], [v].[Status], [v].[CurrentStage], CAST(0 AS bit), [v0].[Id], [v0].[Make], [v0].[Model], [v0].[LicensePlate]
FROM [VehicleAssignmentRequests] AS [v]
INNER JOIN [Vehicles] AS [v0] ON [v].[VehicleId] = [v0].[Id]
WHERE [v].[UserId] = @__userId_0
ORDER BY [v].[RequestDate] DESC
2025-07-29 11:23:20.939 +00:00 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 11:23:20.939 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.939 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 79.4409ms
2025-07-29 11:23:20.939 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:23:20.940 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 82.2082ms
2025-07-29 11:23:20.944 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.944 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[<>f__AnonymousType62`6[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.DateTime, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[PersonaXFleet.Models.Enums.VehicleRequestStatus, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType23`4[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.946 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet) in 32.6816ms
2025-07-29 11:23:20.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.VehicleAssignmentController.GetMyVehicleRequests (PersonaXFleet)'
2025-07-29 11:23:20.946 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:23:20.946 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/VehicleAssignment/MyVehicleRequests/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 36.925ms
2025-07-29 11:23:20.946 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:23:20.946 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 16.8986ms
2025-07-29 11:23:20.946 +00:00 [INF] Route matched with {action = "GetMyRequests", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyRequests(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:23:20.946 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.947 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 20.5818ms
2025-07-29 11:23:20.949 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:20.949 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Department], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[MustChangePassword], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-07-29 11:23:20.950 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:20.950 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.951 +00:00 [INF] Route matched with {action = "GetFuelLogsByUserId", controller = "FuelLogs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[PersonaXFleet.Models.FuelLog]]] GetFuelLogsByUserId(System.String) on controller PersonaXFleet.Controllers.FuelLogsController (PersonaXFleet).
2025-07-29 11:23:20.953 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [MaintenanceRequests] AS [m]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [m].[RequestedByUserId] = @__userId_0
ORDER BY [m].[RequestDate] DESC
2025-07-29 11:23:20.953 +00:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Cost], [f].[Date], [f].[FuelAmount], [f].[FuelStation], [f].[UserId], [f].[VehicleId], [f].[VehicleId1], [v].[Id], [v].[Color], [v].[CurrentMileage], [v].[EngineSize], [v].[FuelType], [v].[InsuranceExpiry], [v].[LastServiceDate], [v].[LicensePlate], [v].[Make], [v].[Model], [v].[NextServiceDue], [v].[Notes], [v].[PurchaseDate], [v].[PurchasePrice], [v].[RegistrationExpiry], [v].[RoadworthyExpiry], [v].[SeatingCapacity], [v].[ServiceInterval], [v].[Status], [v].[Transmission], [v].[UserId], [v].[VIN], [v].[VehicleType], [v].[Year]
FROM [FuelLogs] AS [f]
INNER JOIN [Vehicles] AS [v] ON [f].[VehicleId] = [v].[Id]
WHERE [f].[UserId] = @__userId_0
2025-07-29 11:23:20.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:20.954 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2025-07-29 11:23:20.955 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet) in 8.2023ms
2025-07-29 11:23:20.955 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyRequests (PersonaXFleet)'
2025-07-29 11:23:20.955 +00:00 [INF] Executed action PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet) in 4.226ms
2025-07-29 11:23:20.955 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-requests?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 11.5946ms
2025-07-29 11:23:20.955 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.FuelLogsController.GetFuelLogsByUserId (PersonaXFleet)'
2025-07-29 11:23:20.955 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/FuelLogs/user/9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null text/plain; charset=utf-8 6.0926ms
2025-07-29 11:23:51.682 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:51.685 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:51.685 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:23:51.686 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:23:51.693 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:51.693 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:51.694 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:51.694 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:23:51.703 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:23:51.704 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:51.704 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 18.5168ms
2025-07-29 11:23:51.704 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:23:51.704 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 22.5095ms
2025-07-29 11:23:51.705 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:23:51.705 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:23:51.705 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:23:51.705 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:23:51.716 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:23:51.717 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:23:51.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.274ms
2025-07-29 11:23:51.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:23:51.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.1639ms
2025-07-29 11:23:51.748 +00:00 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:23:51.748 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:23:51.748 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 43.1922ms
2025-07-29 11:23:51.748 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:23:51.748 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 43.6029ms
2025-07-29 11:24:21.666 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:21.668 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:21.668 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:24:21.668 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:24:21.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:21.681 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:21.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:24:21.681 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:24:21.713 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:21.714 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:21.715 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:24:21.715 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:24:21.716 +00:00 [INF] Executed DbCommand (43ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:24:21.718 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:24:21.718 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 50.0583ms
2025-07-29 11:24:21.718 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:24:21.718 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 52.0245ms
2025-07-29 11:24:21.723 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:24:21.729 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:24:21.731 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 49.1129ms
2025-07-29 11:24:21.731 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:24:21.732 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 50.7629ms
2025-07-29 11:24:21.753 +00:00 [INF] Executed DbCommand (29ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:24:21.753 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:24:21.753 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 37.6105ms
2025-07-29 11:24:21.753 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:24:21.753 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.4545ms
2025-07-29 11:24:51.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:51.655 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:51.656 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:24:51.656 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:24:51.656 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:51.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:51.657 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:24:51.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:24:51.658 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:24:51.658 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:24:51.658 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:24:51.658 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:24:51.670 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:24:51.672 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:24:51.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.4737ms
2025-07-29 11:24:51.672 +00:00 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:24:51.672 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:24:51.672 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 14.3123ms
2025-07-29 11:24:51.672 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:24:51.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.564ms
2025-07-29 11:24:51.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:24:51.683 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.33ms
2025-07-29 11:24:51.692 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:24:51.692 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:24:51.692 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 33.6666ms
2025-07-29 11:24:51.692 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:24:51.692 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 35.2556ms
2025-07-29 11:25:21.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:21.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:21.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:21.674 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:21.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:25:21.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:25:21.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:25:21.676 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:25:21.695 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:25:21.698 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:25:21.698 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:25:21.698 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 21.7999ms
2025-07-29 11:25:21.698 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:25:21.698 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:25:21.698 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.1354ms
2025-07-29 11:25:21.699 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 21.9902ms
2025-07-29 11:25:21.699 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:25:21.699 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:21.699 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.5256ms
2025-07-29 11:25:21.699 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:21.699 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:25:21.699 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:25:21.730 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:25:21.730 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:25:21.730 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.8846ms
2025-07-29 11:25:21.730 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:25:21.730 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.7308ms
2025-07-29 11:25:51.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:51.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:51.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:51.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:25:51.664 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:51.664 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:25:51.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:25:51.664 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:25:51.675 +00:00 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:25:51.676 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:25:51.676 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.7253ms
2025-07-29 11:25:51.677 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:25:51.677 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:25:51.679 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:25:51.680 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.0457ms
2025-07-29 11:25:51.680 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.0221ms
2025-07-29 11:25:51.680 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:25:51.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 17.3416ms
2025-07-29 11:25:51.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:25:51.681 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:25:51.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:25:51.681 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:25:51.709 +00:00 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:25:51.709 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:25:51.709 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.414ms
2025-07-29 11:25:51.709 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:25:51.709 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.8503ms
2025-07-29 11:26:21.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:26:21.651 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:26:21.652 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:26:21.652 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:26:21.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:26:21.653 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:26:21.653 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:26:21.653 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:26:21.664 +00:00 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:26:21.666 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:26:21.666 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 12.784ms
2025-07-29 11:26:21.666 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:26:21.666 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:26:21.670 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:26:21.670 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 16.7371ms
2025-07-29 11:26:21.670 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:26:21.670 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.6427ms
2025-07-29 11:26:21.670 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:26:21.670 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:26:21.670 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:26:21.672 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:26:21.672 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 21.1063ms
2025-07-29 11:26:21.701 +00:00 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:26:21.702 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:26:21.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 29.4366ms
2025-07-29 11:26:21.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:26:21.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 31.938ms
2025-07-29 11:27:29.671 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:27:29.672 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:27:29.672 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:27:29.672 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:27:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:27:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:27:29.673 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:27:29.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:27:29.676 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:27:29.676 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:27:29.676 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:27:29.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:27:29.696 +00:00 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:27:29.699 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:27:29.700 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.2573ms
2025-07-29 11:27:29.701 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:27:29.707 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:27:29.710 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:27:29.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 38.7194ms
2025-07-29 11:27:29.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:27:29.711 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 40.5889ms
2025-07-29 11:27:29.719 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 46.5884ms
2025-07-29 11:27:29.754 +00:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:27:29.754 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:27:29.754 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 78.1248ms
2025-07-29 11:27:29.754 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:27:29.755 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 81.0886ms
2025-07-29 11:28:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:28:29.663 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:28:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:28:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:28:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:28:29.664 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:28:29.665 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:28:29.665 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:28:29.679 +00:00 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:28:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:28:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 15.2615ms
2025-07-29 11:28:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:28:29.681 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:28:29.681 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:28:29.681 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 15.6176ms
2025-07-29 11:28:29.681 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:28:29.688 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:28:29.689 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:28:29.689 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 25.7912ms
2025-07-29 11:28:29.689 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:28:29.689 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 26.071ms
2025-07-29 11:28:29.689 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:28:29.716 +00:00 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:28:29.716 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:28:29.717 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 27.4257ms
2025-07-29 11:28:29.717 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:28:29.717 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 28.6384ms
2025-07-29 11:29:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:29:29.662 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:29:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:29:29.663 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:29:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:29:29.663 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:29:29.663 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:29:29.663 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:29:29.673 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:29:29.674 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:29:29.674 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 11.0801ms
2025-07-29 11:29:29.675 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:29:29.675 +00:00 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:29:29.678 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:29:29.678 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 14.2595ms
2025-07-29 11:29:29.678 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:29:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.3658ms
2025-07-29 11:29:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:29:29.681 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 18.485ms
2025-07-29 11:29:29.681 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:29:29.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:29:29.682 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:29:29.711 +00:00 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:29:29.711 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:29:29.711 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 28.993ms
2025-07-29 11:29:29.711 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:29:29.711 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.4262ms
2025-07-29 11:30:29.691 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:30:29.691 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:30:29.691 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:30:29.692 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:30:29.692 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:30:29.692 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:30:29.693 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:30:29.693 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:30:29.694 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:30:29.694 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:30:29.694 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:30:29.694 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:30:29.717 +00:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:30:29.717 +00:00 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:30:29.725 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:30:29.726 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 32.7905ms
2025-07-29 11:30:29.727 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:30:29.734 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:30:29.735 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 40.1922ms
2025-07-29 11:30:29.735 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 44.6815ms
2025-07-29 11:30:29.736 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:30:29.745 +00:00 [INF] Executed DbCommand (40ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:30:29.745 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:30:29.745 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 51.551ms
2025-07-29 11:30:29.745 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:30:29.745 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 53.7876ms
2025-07-29 11:30:29.750 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 59.2104ms
2025-07-29 11:31:29.653 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:31:29.654 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:31:29.654 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:31:29.655 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:31:29.655 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:31:29.657 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:31:29.657 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:31:29.657 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:31:29.672 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:31:29.673 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:31:29.674 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:31:29.676 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:31:29.681 +00:00 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:31:29.682 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:31:29.682 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 24.7184ms
2025-07-29 11:31:29.682 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:31:29.682 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 27.1987ms
2025-07-29 11:31:29.682 +00:00 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:31:29.685 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:31:29.685 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 30.7024ms
2025-07-29 11:31:29.686 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:31:29.686 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 32.6287ms
2025-07-29 11:31:29.702 +00:00 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:31:29.702 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:31:29.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 26.2618ms
2025-07-29 11:31:29.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:31:29.702 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 29.9713ms
2025-07-29 11:32:29.678 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:32:29.679 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:32:29.680 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:32:29.680 +00:00 [INF] Route matched with {action = "GetUserNotifications", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUserNotifications(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:32:29.680 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:32:29.681 +00:00 [INF] Request starting HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - null null
2025-07-29 11:32:29.681 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:32:29.681 +00:00 [INF] CORS policy execution successful.
2025-07-29 11:32:29.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:32:29.681 +00:00 [INF] Executing endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:32:29.681 +00:00 [INF] Route matched with {action = "GetUnreadCount", controller = "Notifications"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUnreadCount(System.String) on controller PersonaXFleet.Controllers.NotificationsController (PersonaXFleet).
2025-07-29 11:32:29.681 +00:00 [INF] Route matched with {action = "GetMyPendingActions", controller = "MaintenanceRequest"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyPendingActions(System.String) on controller PersonaXFleet.Controllers.MaintenanceRequestController (PersonaXFleet).
2025-07-29 11:32:29.697 +00:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsRead] = CAST(0 AS bit) AND [n].[IsDeleted] = CAST(0 AS bit)
2025-07-29 11:32:29.701 +00:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType53`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-07-29 11:32:29.700 +00:00 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [n].[Id], [n].[ActionLink], [n].[CreatedAt], [n].[IsDeleted], [n].[IsRead], [n].[Message], [n].[RelatedEntityId], [n].[Title], [n].[Type], [n].[UserId], [n].[Username]
FROM [Notifications] AS [n]
WHERE [n].[UserId] = @__userId_0 AND [n].[IsDeleted] = CAST(0 AS bit)
ORDER BY [n].[CreatedAt] DESC
2025-07-29 11:32:29.702 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet) in 20.2985ms
2025-07-29 11:32:29.702 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUnreadCount (PersonaXFleet)'
2025-07-29 11:32:29.704 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.Models.Notification, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:32:29.704 +00:00 [INF] Executed action PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet) in 23.8207ms
2025-07-29 11:32:29.704 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.NotificationsController.GetUserNotifications (PersonaXFleet)'
2025-07-29 11:32:29.710 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications/unread-count?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 30.1831ms
2025-07-29 11:32:29.716 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/Notifications?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 37.8609ms
2025-07-29 11:32:29.725 +00:00 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MaintenanceId], [m].[VehicleId], [v].[Make], [v].[Model], [v].[LicensePlate], [m].[RequestType], [m].[Description], [m].[RequestDate], [m].[Status], [m].[Priority], [m].[EstimatedCost], [m].[AdminComments], [m].[RequestedByUserId], [a].[UserName], [m].[Department], [m].[CurrentStage], [r].[Name]
FROM [UserRouteRoles] AS [u]
INNER JOIN [MaintenanceRequests] AS [m] ON [u].[RouteId] = [m].[CurrentRouteId]
INNER JOIN [Vehicles] AS [v] ON [m].[VehicleId] = [v].[Id]
INNER JOIN [AspNetUsers] AS [a] ON [m].[RequestedByUserId] = [a].[Id]
LEFT JOIN [Routes] AS [r] ON [m].[CurrentRouteId] = [r].[Id]
WHERE [u].[UserId] = @__userId_0 AND [u].[Role] = [m].[CurrentStage] AND NOT EXISTS (
    SELECT 1
    FROM [MaintenanceTransactions] AS [m0]
    WHERE [m0].[MaintenanceRequestId] = [m].[MaintenanceId] AND [m0].[Action] = [m].[CurrentStage] AND [m0].[UserId] = [u].[UserId] AND [m0].[IsCompleted] = CAST(1 AS bit))
2025-07-29 11:32:29.725 +00:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[PersonaXFleet.DTOs.MaintenanceRequestDto, PersonaXFleet, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-07-29 11:32:29.726 +00:00 [INF] Executed action PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet) in 42.2336ms
2025-07-29 11:32:29.726 +00:00 [INF] Executed endpoint 'PersonaXFleet.Controllers.MaintenanceRequestController.GetMyPendingActions (PersonaXFleet)'
2025-07-29 11:32:29.726 +00:00 [INF] Request finished HTTP/2 GET https://localhost:7092/api/MaintenanceRequest/my-pending-actions?userId=9E412790-A394-4EF7-8D7C-3CC21BE464DC - 200 null application/json; charset=utf-8 45.339ms
